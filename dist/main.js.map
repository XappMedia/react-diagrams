{"version":3,"sources":["webpack://storm-react-diagrams/webpack/universalModuleDefinition","webpack://storm-react-diagrams/webpack/bootstrap","webpack://storm-react-diagrams/./node_modules/lodash/isArray.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/core/DiagonalMovement.js","webpack://storm-react-diagrams/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://storm-react-diagrams/./node_modules/lodash/_root.js","webpack://storm-react-diagrams/./node_modules/lodash/merge.js","webpack://storm-react-diagrams/./src/widgets/BaseWidget.tsx","webpack://storm-react-diagrams/./node_modules/lodash/isObject.js","webpack://storm-react-diagrams/./node_modules/lodash/isObjectLike.js","webpack://storm-react-diagrams/./node_modules/lodash/map.js","webpack://storm-react-diagrams/./node_modules/lodash/isArrayLike.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/core/Util.js","webpack://storm-react-diagrams/./node_modules/lodash/_getNative.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseGetTag.js","webpack://storm-react-diagrams/./src/Toolkit.ts","webpack://storm-react-diagrams/./node_modules/lodash/_Symbol.js","webpack://storm-react-diagrams/./node_modules/lodash/keys.js","webpack://storm-react-diagrams/./node_modules/lodash/forEach.js","webpack://storm-react-diagrams/./src/models/BaseModel.ts","webpack://storm-react-diagrams/./src/models/PointModel.ts","webpack://storm-react-diagrams/./node_modules/pathfinding/src/core/Heuristic.js","webpack://storm-react-diagrams/./node_modules/lodash/eq.js","webpack://storm-react-diagrams/./node_modules/lodash/_copyObject.js","webpack://storm-react-diagrams/./node_modules/lodash/_getTag.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseIteratee.js","webpack://storm-react-diagrams/./node_modules/lodash/isSymbol.js","webpack://storm-react-diagrams/./src/models/NodeModel.ts","webpack://storm-react-diagrams/./src/factories/AbstractFactory.ts","webpack://storm-react-diagrams/./src/routing/PathFinding.ts","webpack://storm-react-diagrams/./node_modules/heap/index.js","webpack://storm-react-diagrams/(webpack)/buildin/module.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/JumpPointFinderBase.js","webpack://storm-react-diagrams/./src/BaseEntity.ts","webpack://storm-react-diagrams/./node_modules/lodash/_Stack.js","webpack://storm-react-diagrams/./node_modules/lodash/_ListCache.js","webpack://storm-react-diagrams/./node_modules/lodash/_assocIndexOf.js","webpack://storm-react-diagrams/./node_modules/lodash/_nativeCreate.js","webpack://storm-react-diagrams/./node_modules/lodash/_getMapData.js","webpack://storm-react-diagrams/./node_modules/lodash/isArguments.js","webpack://storm-react-diagrams/./node_modules/lodash/isBuffer.js","webpack://storm-react-diagrams/./node_modules/lodash/keysIn.js","webpack://storm-react-diagrams/./node_modules/lodash/_arrayPush.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseEach.js","webpack://storm-react-diagrams/./node_modules/lodash/_toKey.js","webpack://storm-react-diagrams/./node_modules/lodash/identity.js","webpack://storm-react-diagrams/./node_modules/lodash/values.js","webpack://storm-react-diagrams/./src/models/LinkModel.ts","webpack://storm-react-diagrams/./src/models/PortModel.ts","webpack://storm-react-diagrams/./src/actions/BaseAction.ts","webpack://storm-react-diagrams/./node_modules/pathfinding/src/core/Node.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/AStarFinder.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/BiAStarFinder.js","webpack://storm-react-diagrams/./node_modules/lodash/_Map.js","webpack://storm-react-diagrams/./node_modules/lodash/isFunction.js","webpack://storm-react-diagrams/./node_modules/lodash/_MapCache.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseAssignValue.js","webpack://storm-react-diagrams/./node_modules/lodash/_isIndex.js","webpack://storm-react-diagrams/./node_modules/lodash/isTypedArray.js","webpack://storm-react-diagrams/./node_modules/lodash/isLength.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseUnary.js","webpack://storm-react-diagrams/./node_modules/lodash/_nodeUtil.js","webpack://storm-react-diagrams/./node_modules/lodash/_isPrototype.js","webpack://storm-react-diagrams/./node_modules/lodash/_copyArray.js","webpack://storm-react-diagrams/./node_modules/lodash/_getSymbols.js","webpack://storm-react-diagrams/./node_modules/lodash/_getPrototype.js","webpack://storm-react-diagrams/./node_modules/lodash/_cloneArrayBuffer.js","webpack://storm-react-diagrams/./node_modules/lodash/_setToArray.js","webpack://storm-react-diagrams/./node_modules/lodash/_isKey.js","webpack://storm-react-diagrams/./node_modules/lodash/_arrayMap.js","webpack://storm-react-diagrams/./node_modules/lodash/_isIterateeCall.js","webpack://storm-react-diagrams/./src/defaults/models/DefaultPortModel.ts","webpack://storm-react-diagrams/./src/defaults/models/DefaultLinkModel.ts","webpack://storm-react-diagrams/./src/defaults/models/DefaultLabelModel.tsx","webpack://storm-react-diagrams/./src/models/LabelModel.ts","webpack://storm-react-diagrams/./src/main.ts","webpack://storm-react-diagrams/./node_modules/lodash/_baseClone.js","webpack://storm-react-diagrams/./node_modules/lodash/_freeGlobal.js","webpack://storm-react-diagrams/./node_modules/lodash/_toSource.js","webpack://storm-react-diagrams/./node_modules/lodash/_arrayEach.js","webpack://storm-react-diagrams/./node_modules/lodash/_assignValue.js","webpack://storm-react-diagrams/./node_modules/lodash/_defineProperty.js","webpack://storm-react-diagrams/./node_modules/lodash/_arrayLikeKeys.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseKeys.js","webpack://storm-react-diagrams/./node_modules/lodash/_overArg.js","webpack://storm-react-diagrams/./node_modules/lodash/_cloneBuffer.js","webpack://storm-react-diagrams/./node_modules/lodash/_arrayFilter.js","webpack://storm-react-diagrams/./node_modules/lodash/stubArray.js","webpack://storm-react-diagrams/./node_modules/lodash/_getSymbolsIn.js","webpack://storm-react-diagrams/./node_modules/lodash/_getAllKeys.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseGetAllKeys.js","webpack://storm-react-diagrams/./node_modules/lodash/_Set.js","webpack://storm-react-diagrams/./node_modules/lodash/_Uint8Array.js","webpack://storm-react-diagrams/./node_modules/lodash/_cloneTypedArray.js","webpack://storm-react-diagrams/./node_modules/lodash/_initCloneObject.js","webpack://storm-react-diagrams/./src/models/DiagramModel.ts","webpack://storm-react-diagrams/./node_modules/lodash/filter.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseFor.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseIsEqual.js","webpack://storm-react-diagrams/./node_modules/lodash/_equalArrays.js","webpack://storm-react-diagrams/./node_modules/lodash/_SetCache.js","webpack://storm-react-diagrams/./node_modules/lodash/_arraySome.js","webpack://storm-react-diagrams/./node_modules/lodash/_cacheHas.js","webpack://storm-react-diagrams/./node_modules/lodash/_isStrictComparable.js","webpack://storm-react-diagrams/./node_modules/lodash/_matchesStrictComparable.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseGet.js","webpack://storm-react-diagrams/./node_modules/lodash/_castPath.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseProperty.js","webpack://storm-react-diagrams/./node_modules/lodash/flatMap.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseFlatten.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseIndexOf.js","webpack://storm-react-diagrams/./node_modules/lodash/isString.js","webpack://storm-react-diagrams/./node_modules/lodash/toFinite.js","webpack://storm-react-diagrams/./node_modules/lodash/_assignMergeValue.js","webpack://storm-react-diagrams/./node_modules/lodash/_safeGet.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseExtremum.js","webpack://storm-react-diagrams/./src/defaults/factories/DefaultPortFactory.tsx","webpack://storm-react-diagrams/./src/factories/AbstractPortFactory.ts","webpack://storm-react-diagrams/./src/defaults/factories/DefaultLabelFactory.tsx","webpack://storm-react-diagrams/./src/factories/AbstractLabelFactory.ts","webpack://storm-react-diagrams/./src/defaults/widgets/DefaultLabelWidget.tsx","webpack://storm-react-diagrams/./src/defaults/models/DefaultNodeModel.ts","webpack://storm-react-diagrams/./src/defaults/widgets/DefaultLinkWidget.tsx","webpack://storm-react-diagrams/./node_modules/lodash/last.js","webpack://storm-react-diagrams/./src/factories/AbstractLinkFactory.ts","webpack://storm-react-diagrams/./src/defaults/widgets/DefaultNodeWidget.tsx","webpack://storm-react-diagrams/./src/defaults/widgets/DefaultPortLabelWidget.tsx","webpack://storm-react-diagrams/./src/widgets/PortWidget.tsx","webpack://storm-react-diagrams/./src/factories/AbstractNodeFactory.ts","webpack://storm-react-diagrams/./src/actions/MoveCanvasAction.ts","webpack://storm-react-diagrams/./src/actions/MoveItemsAction.ts","webpack://storm-react-diagrams/./src/actions/SelectingAction.ts","webpack://storm-react-diagrams/./src/widgets/layers/LinkLayerWidget.tsx","webpack://storm-react-diagrams/./src/widgets/LinkWidget.tsx","webpack://storm-react-diagrams/./src/widgets/layers/NodeLayerWidget.tsx","webpack://storm-react-diagrams/./src/widgets/NodeWidget.tsx","webpack://storm-react-diagrams/./node_modules/closest/index.js","webpack://storm-react-diagrams/./node_modules/matches-selector/index.js","webpack://storm-react-diagrams/./node_modules/pathfinding/index.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/PathFinding.js","webpack://storm-react-diagrams/./node_modules/heap/lib/heap.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/core/Grid.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/BestFirstFinder.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/BreadthFirstFinder.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/DijkstraFinder.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/BiBestFirstFinder.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/BiBreadthFirstFinder.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/BiDijkstraFinder.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/IDAStarFinder.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/JumpPointFinder.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/JPFNeverMoveDiagonally.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/JPFAlwaysMoveDiagonally.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/JPFMoveDiagonallyIfNoObstacles.js","webpack://storm-react-diagrams/./node_modules/pathfinding/src/finders/JPFMoveDiagonallyIfAtMostOneObstacle.js","webpack://storm-react-diagrams/./node_modules/paths-js/path.js","webpack://storm-react-diagrams/./node_modules/paths-js/geom.js","webpack://storm-react-diagrams/./node_modules/lodash/clone.js","webpack://storm-react-diagrams/./node_modules/lodash/_listCacheClear.js","webpack://storm-react-diagrams/./node_modules/lodash/_listCacheDelete.js","webpack://storm-react-diagrams/./node_modules/lodash/_listCacheGet.js","webpack://storm-react-diagrams/./node_modules/lodash/_listCacheHas.js","webpack://storm-react-diagrams/./node_modules/lodash/_listCacheSet.js","webpack://storm-react-diagrams/./node_modules/lodash/_stackClear.js","webpack://storm-react-diagrams/./node_modules/lodash/_stackDelete.js","webpack://storm-react-diagrams/./node_modules/lodash/_stackGet.js","webpack://storm-react-diagrams/./node_modules/lodash/_stackHas.js","webpack://storm-react-diagrams/./node_modules/lodash/_stackSet.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseIsNative.js","webpack://storm-react-diagrams/(webpack)/buildin/global.js","webpack://storm-react-diagrams/./node_modules/lodash/_getRawTag.js","webpack://storm-react-diagrams/./node_modules/lodash/_objectToString.js","webpack://storm-react-diagrams/./node_modules/lodash/_isMasked.js","webpack://storm-react-diagrams/./node_modules/lodash/_coreJsData.js","webpack://storm-react-diagrams/./node_modules/lodash/_getValue.js","webpack://storm-react-diagrams/./node_modules/lodash/_mapCacheClear.js","webpack://storm-react-diagrams/./node_modules/lodash/_Hash.js","webpack://storm-react-diagrams/./node_modules/lodash/_hashClear.js","webpack://storm-react-diagrams/./node_modules/lodash/_hashDelete.js","webpack://storm-react-diagrams/./node_modules/lodash/_hashGet.js","webpack://storm-react-diagrams/./node_modules/lodash/_hashHas.js","webpack://storm-react-diagrams/./node_modules/lodash/_hashSet.js","webpack://storm-react-diagrams/./node_modules/lodash/_mapCacheDelete.js","webpack://storm-react-diagrams/./node_modules/lodash/_isKeyable.js","webpack://storm-react-diagrams/./node_modules/lodash/_mapCacheGet.js","webpack://storm-react-diagrams/./node_modules/lodash/_mapCacheHas.js","webpack://storm-react-diagrams/./node_modules/lodash/_mapCacheSet.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseAssign.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseTimes.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseIsArguments.js","webpack://storm-react-diagrams/./node_modules/lodash/stubFalse.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseIsTypedArray.js","webpack://storm-react-diagrams/./node_modules/lodash/_nativeKeys.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseAssignIn.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseKeysIn.js","webpack://storm-react-diagrams/./node_modules/lodash/_nativeKeysIn.js","webpack://storm-react-diagrams/./node_modules/lodash/_copySymbols.js","webpack://storm-react-diagrams/./node_modules/lodash/_copySymbolsIn.js","webpack://storm-react-diagrams/./node_modules/lodash/_getAllKeysIn.js","webpack://storm-react-diagrams/./node_modules/lodash/_DataView.js","webpack://storm-react-diagrams/./node_modules/lodash/_Promise.js","webpack://storm-react-diagrams/./node_modules/lodash/_WeakMap.js","webpack://storm-react-diagrams/./node_modules/lodash/_initCloneArray.js","webpack://storm-react-diagrams/./node_modules/lodash/_initCloneByTag.js","webpack://storm-react-diagrams/./node_modules/lodash/_cloneDataView.js","webpack://storm-react-diagrams/./node_modules/lodash/_cloneRegExp.js","webpack://storm-react-diagrams/./node_modules/lodash/_cloneSymbol.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseCreate.js","webpack://storm-react-diagrams/./node_modules/lodash/isMap.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseIsMap.js","webpack://storm-react-diagrams/./node_modules/lodash/isSet.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseIsSet.js","webpack://storm-react-diagrams/./src/DiagramEngine.ts","webpack://storm-react-diagrams/./node_modules/lodash/_baseFilter.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseForOwn.js","webpack://storm-react-diagrams/./node_modules/lodash/_createBaseFor.js","webpack://storm-react-diagrams/./node_modules/lodash/_createBaseEach.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseMatches.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseIsMatch.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseIsEqualDeep.js","webpack://storm-react-diagrams/./node_modules/lodash/_setCacheAdd.js","webpack://storm-react-diagrams/./node_modules/lodash/_setCacheHas.js","webpack://storm-react-diagrams/./node_modules/lodash/_equalByTag.js","webpack://storm-react-diagrams/./node_modules/lodash/_mapToArray.js","webpack://storm-react-diagrams/./node_modules/lodash/_equalObjects.js","webpack://storm-react-diagrams/./node_modules/lodash/_getMatchData.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseMatchesProperty.js","webpack://storm-react-diagrams/./node_modules/lodash/get.js","webpack://storm-react-diagrams/./node_modules/lodash/_stringToPath.js","webpack://storm-react-diagrams/./node_modules/lodash/_memoizeCapped.js","webpack://storm-react-diagrams/./node_modules/lodash/memoize.js","webpack://storm-react-diagrams/./node_modules/lodash/toString.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseToString.js","webpack://storm-react-diagrams/./node_modules/lodash/hasIn.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseHasIn.js","webpack://storm-react-diagrams/./node_modules/lodash/_hasPath.js","webpack://storm-react-diagrams/./node_modules/lodash/property.js","webpack://storm-react-diagrams/./node_modules/lodash/_basePropertyDeep.js","webpack://storm-react-diagrams/./node_modules/lodash/_isFlattenable.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseMap.js","webpack://storm-react-diagrams/./node_modules/lodash/_castFunction.js","webpack://storm-react-diagrams/./node_modules/lodash/includes.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseFindIndex.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseIsNaN.js","webpack://storm-react-diagrams/./node_modules/lodash/_strictIndexOf.js","webpack://storm-react-diagrams/./node_modules/lodash/toInteger.js","webpack://storm-react-diagrams/./node_modules/lodash/toNumber.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseValues.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseMerge.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseMergeDeep.js","webpack://storm-react-diagrams/./node_modules/lodash/isArrayLikeObject.js","webpack://storm-react-diagrams/./node_modules/lodash/isPlainObject.js","webpack://storm-react-diagrams/./node_modules/lodash/toPlainObject.js","webpack://storm-react-diagrams/./node_modules/lodash/_createAssigner.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseRest.js","webpack://storm-react-diagrams/./node_modules/lodash/_overRest.js","webpack://storm-react-diagrams/./node_modules/lodash/_apply.js","webpack://storm-react-diagrams/./node_modules/lodash/_setToString.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseSetToString.js","webpack://storm-react-diagrams/./node_modules/lodash/constant.js","webpack://storm-react-diagrams/./node_modules/lodash/_shortOut.js","webpack://storm-react-diagrams/./node_modules/lodash/uniq.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseUniq.js","webpack://storm-react-diagrams/./node_modules/lodash/_arrayIncludes.js","webpack://storm-react-diagrams/./node_modules/lodash/_arrayIncludesWith.js","webpack://storm-react-diagrams/./node_modules/lodash/_createSet.js","webpack://storm-react-diagrams/./node_modules/lodash/noop.js","webpack://storm-react-diagrams/./node_modules/lodash/isFinite.js","webpack://storm-react-diagrams/./node_modules/lodash/size.js","webpack://storm-react-diagrams/./node_modules/lodash/_stringSize.js","webpack://storm-react-diagrams/./node_modules/lodash/_asciiSize.js","webpack://storm-react-diagrams/./node_modules/lodash/_hasUnicode.js","webpack://storm-react-diagrams/./node_modules/lodash/_unicodeSize.js","webpack://storm-react-diagrams/./node_modules/lodash/cloneDeep.js","webpack://storm-react-diagrams/./node_modules/lodash/concat.js","webpack://storm-react-diagrams/./node_modules/lodash/maxBy.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseGt.js","webpack://storm-react-diagrams/./node_modules/lodash/minBy.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseLt.js","webpack://storm-react-diagrams/./node_modules/lodash/range.js","webpack://storm-react-diagrams/./node_modules/lodash/_createRange.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseRange.js","webpack://storm-react-diagrams/./src/defaults/factories/DefaultLinkFactory.tsx","webpack://storm-react-diagrams/./node_modules/lodash/first.js","webpack://storm-react-diagrams/./node_modules/lodash/head.js","webpack://storm-react-diagrams/./src/defaults/factories/DefaultNodeFactory.ts","webpack://storm-react-diagrams/./src/widgets/DiagramWidget.tsx","webpack://storm-react-diagrams/./node_modules/lodash/some.js","webpack://storm-react-diagrams/./node_modules/lodash/_baseSome.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__2__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","isArray","Array","DiagonalMovement","Always","Never","IfAtMostOneObstacle","OnlyWhenNoObstacles","freeGlobal","freeSelf","self","Function","baseMerge","createAssigner","merge","source","srcIndex","React","__importStar","BaseWidget","_super","__extends","props","_this","this","className","bem","selector","baseClass","getClassName","getProps","__assign","extraProps","Component","isObject","type","isObjectLike","arrayMap","baseIteratee","baseMap","map","collection","iteratee","func","isFunction","isLength","isArrayLike","length","backtrace","node","path","x","y","parent","push","reverse","biBacktrace","nodeA","nodeB","pathA","pathB","concat","pathLength","sum","a","b","dx","dy","Math","sqrt","interpolate","x0","y0","x1","y1","abs","line","sx","sy","err","e2","expandPath","expanded","len","coord0","coord1","interpolated","interpolatedLen","j","smoothenPath","grid","ex","ey","newPath","coord","testCoord","blocked","isWalkableAt","lastValidCoord","compressPath","compressed","px","py","lx","ly","ldx","ldy","sq","baseIsNative","getValue","getNative","undefined","getRawTag","objectToString","nullTag","undefinedTag","symToStringTag","baseGetTag","closest","PathFinding_1","Path","Toolkit","UID","TESTING","TESTING_UID","replace","random","v","toString","element","document","body","generateLinePath","firstPoint","lastPoint","generateCurvePath","curvy","isHorizontal","curvyX","curvyY","generateDynamicPath","pathCoords","moveto","ROUTING_SCALING_FACTOR","slice","forEach","coords","lineto","print","arrayLikeKeys","baseKeys","keys","arrayEach","baseEach","castFunction","BaseEntity_1","merge_1","__importDefault","BaseModel","id","selected","getParent","setParent","getSelectedEntities","isSelected","deSerialize","ob","engine","serialize","default","getType","getID","setSelected","iterateListeners","listener","event","selectionChanged","remove","entityRemoved","BaseEntity","BaseModel_1","PointModel","link","points","isConnectedToPort","getPortForPoint","getLink","removePoint","updateLocation","getX","getY","isLocked","manhattan","euclidean","octile","F","SQRT2","chebyshev","max","eq","other","assignValue","baseAssignValue","copyObject","customizer","isNew","index","newValue","DataView","Map","Promise","Set","WeakMap","toSource","mapTag","objectTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","getTag","ArrayBuffer","resolve","result","Ctor","constructor","ctorString","baseMatches","baseMatchesProperty","identity","symbolTag","isSymbol","forEach_1","map_1","NodeModel","nodeType","extras","ports","setPosition","oldX","oldY","port","getLinks","point","getPointForPort","nodeClicked","positionChanged","entities","portOb","getPortFactory","getNewInstance","addPort","doClone","lookupTable","clone","getPortFromID","getPort","getPorts","removePort","updateDimensions","_a","width","height","AbstractFactory","PF","pathFinderInstance","JumpPointFinder","heuristic","Heuristic","diagonalMovement","PathFinding","diagramEngine","instance","calculateDirectPath","from","to","matrix","getCanvasMatrix","Grid","findPath","translateRoutingX","floor","translateRoutingY","calculateLinkStartEndCoords","startIndex","findIndex","endIndex","pathToStart","pathToEnd","start","end","calculateDynamicPath","routingMatrix","dynamicPath","Util","webpackPolyfill","deprecate","paths","children","Heap","JumpPointFinderBase","opt","trackJumpRecursion","startX","startY","endX","endY","openList","f","startNode","getNodeAt","endNode","g","opened","empty","pop","closed","_identifySuccessors","neighbors","neighbor","jumpPoint","jx","jy","ng","jumpNode","_findNeighbors","_jump","h","updateItem","Toolkit_1","clone_1","listeners","locked","clearListeners","data","cb","firing","entity","stopPropagation","removeListener","addListener","uid","setLocked","lockChanged","ListCache","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","entries","__data__","size","clear","has","set","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","entry","assocIndexOf","array","nativeCreate","isKeyable","getMapData","baseIsArguments","objectProto","propertyIsEnumerable","isArguments","arguments","stubFalse","freeExports","freeModule","moduleExports","Buffer","nativeIsBuffer","isBuffer","baseKeysIn","keysIn","arrayPush","values","offset","baseForOwn","createBaseEach","INFINITY","toKey","baseValues","PointModel_1","LinkModel","linkType","sourcePort","targetPort","labels","label","labelOb","getLabelFactory","addLabel","target","setTargetPort","getNode","setSourcePort","setPoints","getPoints","linkClicked","removeLink","isLastPoint","getPointIndex","indexOf","getPointModel","getFirstPoint","getLastPoint","addLink","sourcePortChanged","getSourcePort","getTargetPort","targetPortChanged","addPoint","generatePoint","pointModel","splice","removePointsBefore","removePointsAfter","removeMiddlePoints","isFinite_1","size_1","values_1","PortModel","maximumLinks","links","parentNode","getName","getMaximumLinks","setMaximumLinks","createLinkModel","numberOfLinks","updateCoords","canLinkToPort","BaseAction","mouseX","mouseY","ms","Date","getTime","Node","walkable","AStarFinder","allowDiagonal","dontCrossCorners","weight","getNeighbors","BiAStarFinder","cmp","startOpenList","endOpenList","BY_START","BY_END","asyncTag","funcTag","genTag","proxyTag","tag","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","configurable","writable","MAX_SAFE_INTEGER","reIsUint","isIndex","test","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","isTypedArray","freeProcess","process","types","binding","e","isPrototype","proto","copyArray","arrayFilter","stubArray","nativeGetSymbols","getOwnPropertySymbols","getSymbols","symbol","overArg","getPrototype","getPrototypeOf","Uint8Array","cloneArrayBuffer","arrayBuffer","byteLength","setToArray","reIsDeepProp","reIsPlainProp","isKey","isIterateeCall","PortModel_1","DefaultLinkModel_1","DefaultPortModel","isInput","in","DefaultLinkModel","LinkModel_1","DefaultLabelModel_1","LabelModel_1","color","curvyness","LabelModel","DefaultLabelModel","setLabel","setWidth","widthChanged","setColor","colorChanged","offsetY","offsetX","__export","baseAssign","baseAssignIn","cloneBuffer","copySymbols","copySymbolsIn","getAllKeys","getAllKeysIn","initCloneArray","initCloneByTag","initCloneObject","isMap","isSet","CLONE_DEEP_FLAG","CLONE_FLAT_FLAG","CLONE_SYMBOLS_FLAG","argsTag","arrayTag","boolTag","dateTag","errorTag","numberTag","regexpTag","stringTag","arrayBufferTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","cloneableTags","baseClone","bitmask","stack","isDeep","isFlat","isFull","isArr","isFunc","stacked","subValue","add","keysFunc","global","funcProto","funcToString","objValue","baseTimes","inherited","isArg","isBuff","isType","skipIndexes","String","nativeKeys","transform","arg","allocUnsafe","buffer","copy","predicate","resIndex","getSymbolsIn","baseGetAllKeys","symbolsFunc","cloneTypedArray","typedArray","byteOffset","baseCreate","filter_1","flatMap_1","includes_1","uniq_1","NodeModel_1","DiagramModel","nodes","zoom","rendered","gridSize","setGridSize","gridUpdated","getGridPosition","pos","deSerializeDiagram","nodeOb","getNodeFactory","addNode","linkOb","getLinkFactory","serializeDiagram","clearSelection","ignore","getSelectedItems","filters","_i","items","item","setZoomLevel","zoomUpdated","setOffset","offsetUpdated","setOffsetX","setOffsetY","getOffsetY","getOffsetX","getZoomLevel","addAll","models","model","linksUpdated","isCreated","removeNode","nodesUpdated","getNodes","baseFilter","filter","createBaseFor","baseFor","baseIsEqualDeep","baseIsEqual","SetCache","arraySome","cacheHas","COMPARE_PARTIAL_FLAG","COMPARE_UNORDERED_FLAG","equalArrays","equalFunc","isPartial","arrLength","othLength","seen","arrValue","othValue","compared","othIndex","setCacheAdd","setCacheHas","cache","isStrictComparable","matchesStrictComparable","srcValue","castPath","baseGet","stringToPath","baseProperty","baseFlatten","flatMap","isFlattenable","depth","isStrict","baseFindIndex","baseIsNaN","strictIndexOf","baseIndexOf","fromIndex","isString","toNumber","MAX_INTEGER","toFinite","sign","assignMergeValue","safeGet","baseExtremum","comparator","current","computed","DefaultPortModel_1","AbstractPortFactory_1","DefaultPortFactory","initialConfig","AbstractPortFactory","AbstractFactory_1","AbstractLabelFactory_1","DefaultLabelWidget_1","DefaultLabelFactory","generateReactWidget","createElement","DefaultLabelWidget","AbstractLabelFactory","BaseWidget_1","render","DefaultNodeModel","addInPort","addOutPort","getInPorts","portModel","getOutPorts","first_1","last_1","DefaultLinkWidget","addPointToLink","shiftKey","isModelLocked","getMaxNumberPointsPerLink","getRelativeMousePoint","forceUpdate","pointAdded","findPathAndRelativePositionToRenderLabel","lengths","refPaths","getTotalLength","labelPosition","reduce","previousValue","currentValue","pathIndex","position","calculateLabelPosition","refLabels","labelDimensions","offsetWidth","offsetHeight","pathCentre","getPointAtLength","labelCoordinates","setAttribute","state","isSmartRoutingEnabled","pathFinding","calculateAllLabelPosition","componentDidUpdate","requestAnimationFrame","componentDidMount","pointIndex","cx","cy","onMouseLeave","setState","onMouseEnter","data-id","data-linkid","opacity","generateLabel","canvas","ref","getFactoryForLabel","generateLink","Bottom","cloneElement","getFactoryForLink","generateLinkSegment","Top","strokeLinecap","strokeOpacity","strokeWidth","onContextMenu","preventDefault","isSmartRoutingApplicable","nodesRendered","directPathCoords","getRoutingMatrix","smartLink","simplifiedPath","onMouseDown","xOrY","margin","pointLeft","pointRight","this_1","data-point","labelModel","defaultProps","smooth","last","AbstractLinkFactory","DefaultPortLabelWidget_1","DefaultNodeWidget","generatePort","DefaultPortLabel","style","background","PortWidget_1","PortWidget","data-name","data-nodeid","AbstractNodeFactory","BaseAction_1","MoveCanvasAction","diagramModel","initialOffsetX","initialOffsetY","MoveItemsAction","moved","enableRepaintEntities","getDiagramModel","selectedItems","selectionModels","initialX","initialY","SelectingAction","mouseX2","mouseY2","getBoxDimensions","left","top","right","bottom","containsElement","z","dimensions","LinkWidget_1","LinkLayerWidget","linksThatHaveInitiallyRendered","portCenter","getPortCenter","portCoords","getPortCoords","generatedLink","generateWidgetForLink","Error","LinkWidget","shouldComponentUpdate","canEntityRepaint","NodeWidget_1","NodeLayerWidget","updateNodeDimensions","getNodeDimensions","NodeWidget","generateWidgetForNode","matches","checkYoSelf","Element","vendor","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","match","el","querySelectorAll","BestFirstFinder","BreadthFirstFinder","DijkstraFinder","BiBestFirstFinder","BiBreadthFirstFinder","BiDijkstraFinder","IDAStarFinder","defaultCmp","heapify","heappop","heappush","heappushpop","heapreplace","insort","min","nlargest","nsmallest","_siftdown","_siftup","lo","hi","mid","apply","lastelt","returnitem","_ref","_j","_len","_ref1","_results","_results1","elem","sort","los","startpos","newitem","parentpos","childpos","endpos","rightpos","pushpop","peek","contains","heap","toArray","insert","front","width_or_matrix","_buildNodes","isInside","setWalkableAt","s0","d0","s1","d1","s2","d2","s3","d3","thisNodes","newGrid","newNodes","orig","shift","by","trackRecursion","timeLimit","Infinity","nodesVisited","startTime","cost","search","cutoff","route","k","neighbour","neighbours","retainCount","tested","cutOff","JPFNeverMoveDiagonally","JPFAlwaysMoveDiagonally","JPFMoveDiagonallyIfNoObstacles","JPFMoveDiagonallyIfAtMostOneObstacle","nx","ny","neighborNodes","neighborNode","isNextWalkable","isTopWalkable","isBottomWalkable","isRightWalkable","isLeftWalkable","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","iterator","_s","next","done","TypeError","_geom","init","_instructions","areEqualPoints","_ref3","_ref2","a1","b1","_ref32","a2","b2","trimZeros","string","char","charAt","substr","round","number","digits","str","toFixed","printInstrunction","_ref4","command","params","numbers","param","join","_ref5","prev","transformParams","instruction","transformer","V","pts","newPts","matrixTransform","H","A","transformEllipse","sweepFlag","isDegenerate","rx","ry","ax","C","Z","_default","newParams","verbosify","args","plus","hlineto","vlineto","closepath","curveto","x2","y2","smoothcurveto","qcurveto","smoothqcurveto","arc","xrot","largeArcFlag","translate","_ret","newInstructions","rotate","angle","_ret2","rad","PI","cos","sin","scale","_ret3","shearX","_ret4","tan","shearY","_ret5","ps","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","instructions","connect","first","unshift","distPointToPoint","ay","bx","distPointToParabol","circumCenter","xc","yc","parabolsCrossX","fa","fb","q","doHalflinesCross","sa","sb","approx","hp","vec","det","u","torad","epsilon","ma","J","K","D","JK","L","l1","l2","newAx","newRx","newRy","atan","arrayProto","lastIndex","LARGE_ARRAY_SIZE","pairs","isMasked","reRegExpChar","reIsHostCtor","reIsNative","RegExp","pattern","nativeObjectToString","isOwn","unmasked","coreJsData","maskSrcKey","exec","IE_PROTO","Hash","hash","hashClear","hashDelete","hashGet","hashHas","hashSet","HASH_UNDEFINED","typedArrayTags","nativeKeysIn","isProto","input","cloneDataView","cloneRegExp","cloneSymbol","dataView","reFlags","regexp","symbolProto","symbolValueOf","valueOf","objectCreate","baseIsMap","nodeIsMap","baseIsSet","nodeIsSet","DiagramModel_1","cloneDeep_1","concat_1","maxBy_1","minBy_1","range_1","main_1","DefaultPortFactory_1","DefaultLabelFactory_1","DiagramEngine","canvasMatrix","hAdjustmentFactor","vAdjustmentFactor","calculateMatrixDimensions","allNodesCoords","allLinks","allPortsCoords","allPointsCoords","minX","maxXElement","maxX","minY","maxYElement","maxY","ceil","markNodes","markMatrixPoint","markPorts","allElements","nodeFactories","linkFactories","portFactories","labelFactories","isMoving","paintableWidgets","installDefaultFactories","registerNodeFactory","DefaultNodeFactory","registerLinkFactory","DefaultLinkFactory","registerPortFactory","registerLabelFactory","repaintCanvas","clearRepaintEntities","recalculatePortsVisually","baseModel","setCanvas","setDiagramModel","getNodeFactories","getLinkFactories","getLabelFactories","labelFactoriesUpdated","portFactoriesUpdated","nodeFactoriesUpdated","linkFactoriesUpdated","getFactoryForNode","linkFactory","nodeFactory","getRelativePoint","clientX","clientY","canvasRect","getBoundingClientRect","getNodeElement","querySelector","getNodePortElement","sourceElement","sourceRect","rel","nodeElement","nodeRect","maxNumberPointsPerLink","setMaxNumberPointsPerLink","smartRouting","setSmartRoutingStatus","status","calculateCanvasMatrix","canvasWidth","canvasHeight","matrixWidth","matrixHeight","fill","calculateRoutingMatrix","zoomToFit","xFactor","clientWidth","scrollWidth","yFactor","clientHeight","scrollHeight","zoomFactor","fromRight","iterable","eachFunc","baseIsMatch","getMatchData","matchData","noCustomizer","equalByTag","equalObjects","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","mapToArray","message","convert","objProps","objLength","othProps","skipCtor","objCtor","othCtor","hasIn","defaultValue","memoizeCapped","rePropName","reEscapeChar","charCodeAt","quote","subString","memoize","MAX_MEMOIZE_SIZE","FUNC_ERROR_TEXT","resolver","memoized","Cache","baseToString","symbolToString","baseHasIn","hasPath","hasFunc","basePropertyDeep","spreadableSymbol","isConcatSpreadable","toInteger","nativeMax","includes","guard","remainder","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","isBinary","baseMergeDeep","isArrayLikeObject","isPlainObject","toPlainObject","mergeFunc","isCommon","isTyped","objectCtorString","baseRest","assigner","sources","overRest","setToString","otherArgs","thisArg","baseSetToString","shortOut","constant","HOT_COUNT","HOT_SPAN","nativeNow","now","count","lastCalled","stamp","remaining","baseUniq","uniq","arrayIncludes","arrayIncludesWith","createSet","outer","seenIndex","noop","nativeIsFinite","isFinite","stringSize","asciiSize","hasUnicode","unicodeSize","rsAstralRange","rsComboMarksRange","reComboHalfMarksRange","rsComboSymbolsRange","rsComboRange","rsVarRange","rsZWJ","reHasUnicode","rsAstral","rsCombo","rsFitz","rsModifier","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsOptJoin","rsSeq","rsSymbol","reUnicode","cloneDeep","baseGt","maxBy","baseLt","minBy","createRange","range","baseRange","step","nativeCeil","DefaultLinkWidget_1","AbstractLinkFactory_1","widget","stroke","head","DefaultNodeModel_1","DefaultNodeWidget_1","AbstractNodeFactory_1","some_1","LinkLayerWidget_1","NodeLayerWidget_1","MoveCanvasAction_1","MoveItemsAction_1","SelectingAction_1","DiagramWidget","onKeyUpPointer","onMouseMove","onMouseUp","action","wasMoved","renderedNodes","windowListener","diagramEngineListener","componentWillUnmount","removeEventListener","componentWillReceiveProps","nextProps","componentWillUpdate","onKeyUp","addEventListener","focus","getMouseElement","getAttribute","fireAction","actionStillFiring","stopFiringAction","shouldSkipEvent","actionStoppedFiring","startFiringAction","actionStartedFiring","relative","allSelected","amountX_1","amountY_1","amountZoom_1","allowCanvasTranslation","deleteKeys","keyCode","newLink","allowLooseLinks","selectedPoint","drawSelectionBox","onWheel","allowCanvasZoom","oldZoomFactor","scrollDelta","inverseZoom","deltaY","ctrlKey","boundingRect","currentTarget","widthDiff","heightDiff","nativeEvent","which","baseSome","some"],"mappings":"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","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"storm-react-diagrams\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"storm-react-diagrams\"] = factory(root[\"React\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 73);\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var DiagonalMovement = {\r\n    Always: 1,\r\n    Never: 2,\r\n    IfAtMostOneObstacle: 3,\r\n    OnlyWhenNoObstacles: 4\r\n};\r\n\r\nmodule.exports = DiagonalMovement;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","import * as React from \"react\";\n\nexport interface BaseWidgetProps {\n\t/**\n\t * Override the base class name\n\t */\n\tbaseClass?: string;\n\t/**\n\t * append additional classes\n\t */\n\tclassName?: string;\n\n\t/**\n\t * Additional props to add\n\t */\n\textraProps?: any;\n}\n\nexport class BaseWidget<P extends BaseWidgetProps = BaseWidgetProps, S = any> extends React.Component<P, S> {\n\tclassName: string;\n\n\tconstructor(name: string, props: P) {\n\t\tsuper(props);\n\t\tthis.className = name;\n\t}\n\n\tbem(selector: string): string {\n\t\treturn (this.props.baseClass || this.className) + selector + \" \";\n\t}\n\n\tgetClassName(): string {\n\t\treturn (\n\t\t\t(this.props.baseClass || this.className) + \" \" + (this.props.className ? this.props.className + \" \" : \"\")\n\t\t);\n\t}\n\n\tgetProps(): any {\n\t\treturn {\n\t\t\t...((this.props.extraProps as any) || {}),\n\t\t\tclassName: this.getClassName()\n\t\t};\n\t}\n}\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","/**\r\n * Backtrace according to the parent records and return the path.\r\n * (including both start and end nodes)\r\n * @param {Node} node End node\r\n * @return {Array<Array<number>>} the path\r\n */\r\nfunction backtrace(node) {\r\n    var path = [[node.x, node.y]];\r\n    while (node.parent) {\r\n        node = node.parent;\r\n        path.push([node.x, node.y]);\r\n    }\r\n    return path.reverse();\r\n}\r\nexports.backtrace = backtrace;\r\n\r\n/**\r\n * Backtrace from start and end node, and return the path.\r\n * (including both start and end nodes)\r\n * @param {Node}\r\n * @param {Node}\r\n */\r\nfunction biBacktrace(nodeA, nodeB) {\r\n    var pathA = backtrace(nodeA),\r\n        pathB = backtrace(nodeB);\r\n    return pathA.concat(pathB.reverse());\r\n}\r\nexports.biBacktrace = biBacktrace;\r\n\r\n/**\r\n * Compute the length of the path.\r\n * @param {Array<Array<number>>} path The path\r\n * @return {number} The length of the path\r\n */\r\nfunction pathLength(path) {\r\n    var i, sum = 0, a, b, dx, dy;\r\n    for (i = 1; i < path.length; ++i) {\r\n        a = path[i - 1];\r\n        b = path[i];\r\n        dx = a[0] - b[0];\r\n        dy = a[1] - b[1];\r\n        sum += Math.sqrt(dx * dx + dy * dy);\r\n    }\r\n    return sum;\r\n}\r\nexports.pathLength = pathLength;\r\n\r\n\r\n/**\r\n * Given the start and end coordinates, return all the coordinates lying\r\n * on the line formed by these coordinates, based on Bresenham's algorithm.\r\n * http://en.wikipedia.org/wiki/Bresenham's_line_algorithm#Simplification\r\n * @param {number} x0 Start x coordinate\r\n * @param {number} y0 Start y coordinate\r\n * @param {number} x1 End x coordinate\r\n * @param {number} y1 End y coordinate\r\n * @return {Array<Array<number>>} The coordinates on the line\r\n */\r\nfunction interpolate(x0, y0, x1, y1) {\r\n    var abs = Math.abs,\r\n        line = [],\r\n        sx, sy, dx, dy, err, e2;\r\n\r\n    dx = abs(x1 - x0);\r\n    dy = abs(y1 - y0);\r\n\r\n    sx = (x0 < x1) ? 1 : -1;\r\n    sy = (y0 < y1) ? 1 : -1;\r\n\r\n    err = dx - dy;\r\n\r\n    while (true) {\r\n        line.push([x0, y0]);\r\n\r\n        if (x0 === x1 && y0 === y1) {\r\n            break;\r\n        }\r\n        \r\n        e2 = 2 * err;\r\n        if (e2 > -dy) {\r\n            err = err - dy;\r\n            x0 = x0 + sx;\r\n        }\r\n        if (e2 < dx) {\r\n            err = err + dx;\r\n            y0 = y0 + sy;\r\n        }\r\n    }\r\n\r\n    return line;\r\n}\r\nexports.interpolate = interpolate;\r\n\r\n\r\n/**\r\n * Given a compressed path, return a new path that has all the segments\r\n * in it interpolated.\r\n * @param {Array<Array<number>>} path The path\r\n * @return {Array<Array<number>>} expanded path\r\n */\r\nfunction expandPath(path) {\r\n    var expanded = [],\r\n        len = path.length,\r\n        coord0, coord1,\r\n        interpolated,\r\n        interpolatedLen,\r\n        i, j;\r\n\r\n    if (len < 2) {\r\n        return expanded;\r\n    }\r\n\r\n    for (i = 0; i < len - 1; ++i) {\r\n        coord0 = path[i];\r\n        coord1 = path[i + 1];\r\n\r\n        interpolated = interpolate(coord0[0], coord0[1], coord1[0], coord1[1]);\r\n        interpolatedLen = interpolated.length;\r\n        for (j = 0; j < interpolatedLen - 1; ++j) {\r\n            expanded.push(interpolated[j]);\r\n        }\r\n    }\r\n    expanded.push(path[len - 1]);\r\n\r\n    return expanded;\r\n}\r\nexports.expandPath = expandPath;\r\n\r\n\r\n/**\r\n * Smoothen the give path.\r\n * The original path will not be modified; a new path will be returned.\r\n * @param {PF.Grid} grid\r\n * @param {Array<Array<number>>} path The path\r\n */\r\nfunction smoothenPath(grid, path) {\r\n    var len = path.length,\r\n        x0 = path[0][0],        // path start x\r\n        y0 = path[0][1],        // path start y\r\n        x1 = path[len - 1][0],  // path end x\r\n        y1 = path[len - 1][1],  // path end y\r\n        sx, sy,                 // current start coordinate\r\n        ex, ey,                 // current end coordinate\r\n        newPath,\r\n        i, j, coord, line, testCoord, blocked;\r\n\r\n    sx = x0;\r\n    sy = y0;\r\n    newPath = [[sx, sy]];\r\n\r\n    for (i = 2; i < len; ++i) {\r\n        coord = path[i];\r\n        ex = coord[0];\r\n        ey = coord[1];\r\n        line = interpolate(sx, sy, ex, ey);\r\n\r\n        blocked = false;\r\n        for (j = 1; j < line.length; ++j) {\r\n            testCoord = line[j];\r\n\r\n            if (!grid.isWalkableAt(testCoord[0], testCoord[1])) {\r\n                blocked = true;\r\n                break;\r\n            }\r\n        }\r\n        if (blocked) {\r\n            lastValidCoord = path[i - 1];\r\n            newPath.push(lastValidCoord);\r\n            sx = lastValidCoord[0];\r\n            sy = lastValidCoord[1];\r\n        }\r\n    }\r\n    newPath.push([x1, y1]);\r\n\r\n    return newPath;\r\n}\r\nexports.smoothenPath = smoothenPath;\r\n\r\n\r\n/**\r\n * Compress a path, remove redundant nodes without altering the shape\r\n * The original path is not modified\r\n * @param {Array<Array<number>>} path The path\r\n * @return {Array<Array<number>>} The compressed path\r\n */\r\nfunction compressPath(path) {\r\n\r\n    // nothing to compress\r\n    if(path.length < 3) {\r\n        return path;\r\n    }\r\n\r\n    var compressed = [],\r\n        sx = path[0][0], // start x\r\n        sy = path[0][1], // start y\r\n        px = path[1][0], // second point x\r\n        py = path[1][1], // second point y\r\n        dx = px - sx, // direction between the two points\r\n        dy = py - sy, // direction between the two points\r\n        lx, ly,\r\n        ldx, ldy,\r\n        sq, i;\r\n\r\n    // normalize the direction\r\n    sq = Math.sqrt(dx*dx + dy*dy);\r\n    dx /= sq;\r\n    dy /= sq;\r\n\r\n    // start the new path\r\n    compressed.push([sx,sy]);\r\n\r\n    for(i = 2; i < path.length; i++) {\r\n\r\n        // store the last point\r\n        lx = px;\r\n        ly = py;\r\n\r\n        // store the last direction\r\n        ldx = dx;\r\n        ldy = dy;\r\n\r\n        // next point\r\n        px = path[i][0];\r\n        py = path[i][1];\r\n\r\n        // next direction\r\n        dx = px - lx;\r\n        dy = py - ly;\r\n\r\n        // normalize\r\n        sq = Math.sqrt(dx*dx + dy*dy);\r\n        dx /= sq;\r\n        dy /= sq;\r\n\r\n        // if the direction has changed, store the point\r\n        if ( dx !== ldx || dy !== ldy ) {\r\n            compressed.push([lx,ly]);\r\n        }\r\n    }\r\n\r\n    // store the last point\r\n    compressed.push([px,py]);\r\n\r\n    return compressed;\r\n}\r\nexports.compressPath = compressPath;\r\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","// tslint:disable no-bitwise\nimport closest = require(\"closest\");\nimport { PointModel } from \"./models/PointModel\";\nimport { ROUTING_SCALING_FACTOR } from \"./routing/PathFinding\";\nimport * as Path from \"paths-js/path\";\n/**\n * @author Dylan Vorster\n */\nexport class Toolkit {\n\tstatic TESTING: boolean = false;\n\tstatic TESTING_UID = 0;\n\n\t/**\n\t * Generats a unique ID (thanks Stack overflow :3)\n\t * @returns {String}\n\t */\n\tpublic static UID(): string {\n\t\tif (Toolkit.TESTING) {\n\t\t\tToolkit.TESTING_UID++;\n\t\t\treturn \"\" + Toolkit.TESTING_UID;\n\t\t}\n\t\treturn \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, c => {\n\t\t\tconst r = (Math.random() * 16) | 0;\n\t\t\tconst v = c === \"x\" ? r : (r & 0x3) | 0x8;\n\t\t\treturn v.toString(16);\n\t\t});\n\t}\n\n\t/**\n\t * Finds the closest element as a polyfill\n\t *\n\t * @param  {Element} element  [description]\n\t * @param  {string}  selector [description]\n\t */\n\tpublic static closest(element: Element, selector: string) {\n\t\tif (document.body.closest) {\n\t\t\treturn element.closest(selector);\n\t\t}\n\t\treturn closest(element, selector);\n\t}\n\n\tpublic static generateLinePath(firstPoint: PointModel, lastPoint: PointModel): string {\n\t\treturn `M${firstPoint.x},${firstPoint.y} L ${lastPoint.x},${lastPoint.y}`;\n\t}\n\n\tpublic static generateCurvePath(firstPoint: PointModel, lastPoint: PointModel, curvy: number = 0): string {\n\t\tvar isHorizontal = Math.abs(firstPoint.x - lastPoint.x) > Math.abs(firstPoint.y - lastPoint.y);\n\t\tvar curvyX = isHorizontal ? curvy : 0;\n\t\tvar curvyY = isHorizontal ? 0 : curvy;\n\n\t\treturn `M${firstPoint.x},${firstPoint.y} C ${firstPoint.x + curvyX},${firstPoint.y + curvyY}\n    ${lastPoint.x - curvyX},${lastPoint.y - curvyY} ${lastPoint.x},${lastPoint.y}`;\n\t}\n\n\tpublic static generateDynamicPath(pathCoords: number[][]) {\n\t\tlet path = Path();\n\t\tpath = path.moveto(pathCoords[0][0] * ROUTING_SCALING_FACTOR, pathCoords[0][1] * ROUTING_SCALING_FACTOR);\n\t\tpathCoords.slice(1).forEach(coords => {\n\t\t\tpath = path.lineto(coords[0] * ROUTING_SCALING_FACTOR, coords[1] * ROUTING_SCALING_FACTOR);\n\t\t});\n\t\treturn path.print();\n\t}\n}\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var arrayEach = require('./_arrayEach'),\n    baseEach = require('./_baseEach'),\n    castFunction = require('./_castFunction'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nmodule.exports = forEach;\n","import { BaseEntity, BaseListener } from \"../BaseEntity\";\nimport merge from \"lodash/merge\";\nimport { BaseEvent } from \"../BaseEntity\";\nimport { DiagramEngine } from \"../DiagramEngine\";\n\nexport interface BaseModelListener extends BaseListener {\n\tselectionChanged?(event: BaseEvent<BaseModel> & { isSelected: boolean }): void;\n\n\tentityRemoved?(event: BaseEvent<BaseModel>): void;\n}\n\n/**\n * @author Dylan Vorster\n */\nexport class BaseModel<\n\tX extends BaseEntity = BaseEntity,\n\tT extends BaseModelListener = BaseModelListener\n> extends BaseEntity<T> {\n\ttype: string;\n\tselected: boolean;\n\tparent: X;\n\n\tconstructor(type?: string, id?: string) {\n\t\tsuper(id);\n\t\tthis.type = type;\n\t\tthis.selected = false;\n\t}\n\n\tpublic getParent(): X {\n\t\treturn this.parent;\n\t}\n\n\tpublic setParent(parent: X) {\n\t\tthis.parent = parent;\n\t}\n\n\tpublic getSelectedEntities(): BaseModel<any, T>[] {\n\t\tif (this.isSelected()) {\n\t\t\treturn [this];\n\t\t}\n\t\treturn [];\n\t}\n\n\tpublic deSerialize(ob, engine: DiagramEngine) {\n\t\tsuper.deSerialize(ob, engine);\n\t\tthis.type = ob.type;\n\t\tthis.selected = ob.selected;\n\t}\n\n\tpublic serialize() {\n\t\treturn merge(super.serialize(), {\n\t\t\ttype: this.type,\n\t\t\tselected: this.selected\n\t\t});\n\t}\n\n\tpublic getType(): string {\n\t\treturn this.type;\n\t}\n\n\tpublic getID(): string {\n\t\treturn this.id;\n\t}\n\n\tpublic isSelected(): boolean {\n\t\treturn this.selected;\n\t}\n\n\tpublic setSelected(selected: boolean = true) {\n\t\tthis.selected = selected;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.selectionChanged) {\n\t\t\t\tlistener.selectionChanged({ ...event, isSelected: selected });\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic remove() {\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.entityRemoved) {\n\t\t\t\tlistener.entityRemoved(event);\n\t\t\t}\n\t\t});\n\t}\n}\n","import { BaseModel, BaseModelListener } from \"./BaseModel\";\nimport { LinkModel } from \"./LinkModel\";\nimport merge from \"lodash/merge\";\nimport { DiagramEngine } from \"../DiagramEngine\";\n\nexport class PointModel extends BaseModel<LinkModel, BaseModelListener> {\n\tx: number;\n\ty: number;\n\n\tconstructor(link: LinkModel, points: { x: number; y: number }) {\n\t\tsuper();\n\t\tthis.x = points.x;\n\t\tthis.y = points.y;\n\t\tthis.parent = link;\n\t}\n\n\tgetSelectedEntities() {\n\t\tif (super.isSelected() && !this.isConnectedToPort()) {\n\t\t\treturn [this];\n\t\t}\n\t\treturn [];\n\t}\n\n\tisConnectedToPort(): boolean {\n\t\treturn this.parent.getPortForPoint(this) !== null;\n\t}\n\n\tgetLink(): LinkModel {\n\t\treturn this.getParent();\n\t}\n\n\tdeSerialize(ob, engine: DiagramEngine) {\n\t\tsuper.deSerialize(ob, engine);\n\t\tthis.x = ob.x;\n\t\tthis.y = ob.y;\n\t}\n\n\tserialize() {\n\t\treturn merge(super.serialize(), {\n\t\t\tx: this.x,\n\t\t\ty: this.y\n\t\t});\n\t}\n\n\tremove() {\n\t\t//clear references\n\t\tif (this.parent) {\n\t\t\tthis.parent.removePoint(this);\n\t\t}\n\t\tsuper.remove();\n\t}\n\n\tupdateLocation(points: { x: number; y: number }) {\n\t\tthis.x = points.x;\n\t\tthis.y = points.y;\n\t}\n\n\tgetX(): number {\n\t\treturn this.x;\n\t}\n\n\tgetY(): number {\n\t\treturn this.y;\n\t}\n\n\tisLocked() {\n\t\treturn super.isLocked() || this.getParent().isLocked();\n\t}\n}\n","/**\r\n * @namespace PF.Heuristic\r\n * @description A collection of heuristic functions.\r\n */\r\nmodule.exports = {\r\n\r\n  /**\r\n   * Manhattan distance.\r\n   * @param {number} dx - Difference in x.\r\n   * @param {number} dy - Difference in y.\r\n   * @return {number} dx + dy\r\n   */\r\n  manhattan: function(dx, dy) {\r\n      return dx + dy;\r\n  },\r\n\r\n  /**\r\n   * Euclidean distance.\r\n   * @param {number} dx - Difference in x.\r\n   * @param {number} dy - Difference in y.\r\n   * @return {number} sqrt(dx * dx + dy * dy)\r\n   */\r\n  euclidean: function(dx, dy) {\r\n      return Math.sqrt(dx * dx + dy * dy);\r\n  },\r\n\r\n  /**\r\n   * Octile distance.\r\n   * @param {number} dx - Difference in x.\r\n   * @param {number} dy - Difference in y.\r\n   * @return {number} sqrt(dx * dx + dy * dy) for grids\r\n   */\r\n  octile: function(dx, dy) {\r\n      var F = Math.SQRT2 - 1;\r\n      return (dx < dy) ? F * dx + dy : F * dy + dx;\r\n  },\r\n\r\n  /**\r\n   * Chebyshev distance.\r\n   * @param {number} dx - Difference in x.\r\n   * @param {number} dy - Difference in y.\r\n   * @return {number} max(dx, dy)\r\n   */\r\n  chebyshev: function(dx, dy) {\r\n      return Math.max(dx, dy);\r\n  }\r\n\r\n};\r\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","import { BaseEvent } from \"../BaseEntity\";\nimport { BaseModel, BaseModelListener } from \"./BaseModel\";\nimport { LinkModel, LinkModelListener } from \"./LinkModel\";\nimport { PortModel } from \"./PortModel\";\nimport forEach from \"lodash/forEach\";\nimport map from \"lodash/map\";\nimport merge from \"lodash/merge\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { DiagramModel } from \"./DiagramModel\";\n\nexport interface NodeModelListener extends BaseModelListener {\n\tnodeClicked?(event: BaseEvent<NodeModel>): void;\n\tpositionChanged?(event: BaseEvent<NodeModel>): void;\n}\n\nexport class NodeModel<T extends NodeModelListener = NodeModelListener> extends BaseModel<DiagramModel, T> {\n\tx: number;\n\ty: number;\n\textras: any;\n\tports: { [s: string]: PortModel };\n\n\t// calculated post rendering so routing can be done correctly\n\twidth: number;\n\theight: number;\n\n\tconstructor(nodeType: string = \"default\", id?: string) {\n\t\tsuper(nodeType, id);\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t\tthis.extras = {};\n\t\tthis.ports = {};\n\t}\n\n\tsetPosition(x, y) {\n\t\t//store position\n\t\tlet oldX = this.x;\n\t\tlet oldY = this.y;\n\t\tforEach(this.ports, port => {\n\t\t\tforEach(port.getLinks(), link => {\n\t\t\t\tlet point = link.getPointForPort(port);\n\t\t\t\tpoint.x = point.x + x - oldX;\n\t\t\t\tpoint.y = point.y + y - oldY;\n\t\t\t});\n\t\t});\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t}\n\n\tnodeClicked() {\n\t\tthis.iterateListeners(\n\t\t\t(listener: NodeModelListener, event) => listener.nodeClicked && listener.nodeClicked(event)\n\t\t)\n\t}\n\n\tpositionChanged() {\n\t\tthis.iterateListeners(\n\t\t\t(listener: NodeModelListener, event) => listener.positionChanged && listener.positionChanged(event)\n\t\t);\n\t}\n\n\tgetSelectedEntities() {\n\t\tlet entities: any[] = super.getSelectedEntities();\n\n\t\t// add the points of each link that are selected here\n\t\tif (this.isSelected()) {\n\t\t\tforEach(this.ports, port => {\n\t\t\t\tentities = entities.concat(\n\t\t\t\t\tmap(port.getLinks(), link => {\n\t\t\t\t\t\treturn link.getPointForPort(port);\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\t\treturn entities;\n\t}\n\n\tdeSerialize(ob, engine: DiagramEngine) {\n\t\tsuper.deSerialize(ob, engine);\n\t\tthis.x = ob.x;\n\t\tthis.y = ob.y;\n\t\tthis.extras = ob.extras;\n\n\t\t//deserialize ports\n\t\tforEach(ob.ports, (port: any) => {\n\t\t\tlet portOb = engine.getPortFactory(port.type).getNewInstance();\n\t\t\tportOb.deSerialize(port, engine);\n\t\t\tthis.addPort(portOb);\n\t\t});\n\t}\n\n\tserialize() {\n\t\treturn merge(super.serialize(), {\n\t\t\tx: this.x,\n\t\t\ty: this.y,\n\t\t\textras: this.extras,\n\t\t\tports: map(this.ports, port => {\n\t\t\t\treturn port.serialize();\n\t\t\t})\n\t\t});\n\t}\n\n\tdoClone(lookupTable = {}, clone) {\n\t\t// also clone the ports\n\t\tclone.ports = {};\n\t\tforEach(this.ports, port => {\n\t\t\tclone.addPort(port.clone(lookupTable));\n\t\t});\n\t}\n\n\tremove() {\n\t\tsuper.remove();\n\t\tforEach(this.ports, port => {\n\t\t\tforEach(port.getLinks(), link => {\n\t\t\t\tlink.remove();\n\t\t\t});\n\t\t});\n\t}\n\n\tgetPortFromID(id): PortModel | null {\n\t\tfor (var i in this.ports) {\n\t\t\tif (this.ports[i].id === id) {\n\t\t\t\treturn this.ports[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetPort(name: string): PortModel | null {\n\t\treturn this.ports[name];\n\t}\n\n\tgetPorts(): { [s: string]: PortModel } {\n\t\treturn this.ports;\n\t}\n\n\tremovePort(port: PortModel) {\n\t\t//clear the parent node reference\n\t\tif (this.ports[port.name]) {\n\t\t\tthis.ports[port.name].setParent(null);\n\t\t\tdelete this.ports[port.name];\n\t\t}\n\t}\n\n\taddPort<T extends PortModel>(port: T): T {\n\t\tport.setParent(this);\n\t\tthis.ports[port.name] = port;\n\t\treturn port;\n\t}\n\n\tupdateDimensions({ width, height }: { width: number; height: number }) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t}\n}\n","import { BaseModel } from \"../models/BaseModel\";\n\nexport abstract class AbstractFactory<T extends BaseModel> {\n\ttype: string;\n\n\tconstructor(name: string) {\n\t\tthis.type = name;\n\t}\n\n\tgetType(): string {\n\t\treturn this.type;\n\t}\n\n\tabstract getNewInstance(initialConfig?: any): T;\n}\n","import * as PF from \"pathfinding\";\nimport { DiagramEngine } from \"../main\";\n\n/*\nit can be very expensive to calculate routes when every single pixel on the canvas\nis individually represented. Using the factor below, we combine values in order\nto achieve the best trade-off between accuracy and performance.\n*/\nexport const ROUTING_SCALING_FACTOR = 5;\n\nconst pathFinderInstance = new PF.JumpPointFinder({\n\theuristic: PF.Heuristic.manhattan,\n\tdiagonalMovement: PF.DiagonalMovement.Never\n});\n\nexport default class PathFinding {\n\tinstance: any;\n\tdiagramEngine: DiagramEngine;\n\n\tconstructor(diagramEngine: DiagramEngine) {\n\t\tthis.instance = pathFinderInstance;\n\t\tthis.diagramEngine = diagramEngine;\n\t}\n\n\t/**\n\t * Taking as argument a fully unblocked walking matrix, this method\n\t * finds a direct path from point A to B.\n\t */\n\tcalculateDirectPath(\n\t\tfrom: {\n\t\t\tx: number;\n\t\t\ty: number;\n\t\t},\n\t\tto: {\n\t\t\tx: number;\n\t\t\ty: number;\n\t\t}\n\t): number[][] {\n\t\tconst matrix = this.diagramEngine.getCanvasMatrix();\n\t\tconst grid = new PF.Grid(matrix);\n\n\t\treturn pathFinderInstance.findPath(\n\t\t\tthis.diagramEngine.translateRoutingX(Math.floor(from.x / ROUTING_SCALING_FACTOR)),\n\t\t\tthis.diagramEngine.translateRoutingY(Math.floor(from.y / ROUTING_SCALING_FACTOR)),\n\t\t\tthis.diagramEngine.translateRoutingX(Math.floor(to.x / ROUTING_SCALING_FACTOR)),\n\t\t\tthis.diagramEngine.translateRoutingY(Math.floor(to.y / ROUTING_SCALING_FACTOR)),\n\t\t\tgrid\n\t\t);\n\t}\n\n\t/**\n\t * Using @link{#calculateDirectPath}'s result as input, we here\n\t * determine the first walkable point found in the matrix that includes\n\t * blocked paths.\n\t */\n\tcalculateLinkStartEndCoords(\n\t\tmatrix: number[][],\n\t\tpath: number[][]\n\t): {\n\t\tstart: {\n\t\t\tx: number;\n\t\t\ty: number;\n\t\t};\n\t\tend: {\n\t\t\tx: number;\n\t\t\ty: number;\n\t\t};\n\t\tpathToStart: number[][];\n\t\tpathToEnd: number[][];\n\t} {\n\t\tconst startIndex = path.findIndex(point => matrix[point[1]][point[0]] === 0);\n\t\tconst endIndex =\n\t\t\tpath.length -\n\t\t\t1 -\n\t\t\tpath\n\t\t\t\t.slice()\n\t\t\t\t.reverse()\n\t\t\t\t.findIndex(point => matrix[point[1]][point[0]] === 0);\n\n\t\t// are we trying to create a path exclusively through blocked areas?\n\t\t// if so, let's fallback to the linear routing\n\t\tif (startIndex === -1 || endIndex === -1) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst pathToStart = path.slice(0, startIndex);\n\t\tconst pathToEnd = path.slice(endIndex);\n\n\t\treturn {\n\t\t\tstart: {\n\t\t\t\tx: path[startIndex][0],\n\t\t\t\ty: path[startIndex][1]\n\t\t\t},\n\t\t\tend: {\n\t\t\t\tx: path[endIndex][0],\n\t\t\t\ty: path[endIndex][1]\n\t\t\t},\n\t\t\tpathToStart,\n\t\t\tpathToEnd\n\t\t};\n\t}\n\n\t/**\n\t * Puts everything together: merges the paths from/to the centre of the ports,\n\t * with the path calculated around other elements.\n\t */\n\tcalculateDynamicPath(\n\t\troutingMatrix: number[][],\n\t\tstart: {\n\t\t\tx: number;\n\t\t\ty: number;\n\t\t},\n\t\tend: {\n\t\t\tx: number;\n\t\t\ty: number;\n\t\t},\n\t\tpathToStart: number[][],\n\t\tpathToEnd: number[][]\n\t) {\n\t\t// generate the path based on the matrix with obstacles\n\t\tconst grid = new PF.Grid(routingMatrix);\n\t\tconst dynamicPath = pathFinderInstance.findPath(start.x, start.y, end.x, end.y, grid);\n\n\t\t// aggregate everything to have the calculated path ready for rendering\n\t\tconst pathCoords = pathToStart\n\t\t\t.concat(dynamicPath, pathToEnd)\n\t\t\t.map(coords => [\n\t\t\t\tthis.diagramEngine.translateRoutingX(coords[0], true),\n\t\t\t\tthis.diagramEngine.translateRoutingY(coords[1], true)\n\t\t\t]);\n\t\treturn PF.Util.compressPath(pathCoords);\n\t}\n}\n","module.exports = require('./lib/heap');\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**\r\n * @author imor / https://github.com/imor\r\n */\r\nvar Heap       = require('heap');\r\nvar Util       = require('../core/Util');\r\nvar Heuristic  = require('../core/Heuristic');\r\nvar DiagonalMovement = require('../core/DiagonalMovement');\r\n\r\n/**\r\n * Base class for the Jump Point Search algorithm\r\n * @param {object} opt\r\n * @param {function} opt.heuristic Heuristic function to estimate the distance\r\n *     (defaults to manhattan).\r\n */\r\nfunction JumpPointFinderBase(opt) {\r\n    opt = opt || {};\r\n    this.heuristic = opt.heuristic || Heuristic.manhattan;\r\n    this.trackJumpRecursion = opt.trackJumpRecursion || false;\r\n}\r\n\r\n/**\r\n * Find and return the path.\r\n * @return {Array<Array<number>>} The path, including both start and\r\n *     end positions.\r\n */\r\nJumpPointFinderBase.prototype.findPath = function(startX, startY, endX, endY, grid) {\r\n    var openList = this.openList = new Heap(function(nodeA, nodeB) {\r\n            return nodeA.f - nodeB.f;\r\n        }),\r\n        startNode = this.startNode = grid.getNodeAt(startX, startY),\r\n        endNode = this.endNode = grid.getNodeAt(endX, endY), node;\r\n\r\n    this.grid = grid;\r\n\r\n\r\n    // set the `g` and `f` value of the start node to be 0\r\n    startNode.g = 0;\r\n    startNode.f = 0;\r\n\r\n    // push the start node into the open list\r\n    openList.push(startNode);\r\n    startNode.opened = true;\r\n\r\n    // while the open list is not empty\r\n    while (!openList.empty()) {\r\n        // pop the position of node which has the minimum `f` value.\r\n        node = openList.pop();\r\n        node.closed = true;\r\n\r\n        if (node === endNode) {\r\n            return Util.expandPath(Util.backtrace(endNode));\r\n        }\r\n\r\n        this._identifySuccessors(node);\r\n    }\r\n\r\n    // fail to find the path\r\n    return [];\r\n};\r\n\r\n/**\r\n * Identify successors for the given node. Runs a jump point search in the\r\n * direction of each available neighbor, adding any points found to the open\r\n * list.\r\n * @protected\r\n */\r\nJumpPointFinderBase.prototype._identifySuccessors = function(node) {\r\n    var grid = this.grid,\r\n        heuristic = this.heuristic,\r\n        openList = this.openList,\r\n        endX = this.endNode.x,\r\n        endY = this.endNode.y,\r\n        neighbors, neighbor,\r\n        jumpPoint, i, l,\r\n        x = node.x, y = node.y,\r\n        jx, jy, dx, dy, d, ng, jumpNode,\r\n        abs = Math.abs, max = Math.max;\r\n\r\n    neighbors = this._findNeighbors(node);\r\n    for(i = 0, l = neighbors.length; i < l; ++i) {\r\n        neighbor = neighbors[i];\r\n        jumpPoint = this._jump(neighbor[0], neighbor[1], x, y);\r\n        if (jumpPoint) {\r\n\r\n            jx = jumpPoint[0];\r\n            jy = jumpPoint[1];\r\n            jumpNode = grid.getNodeAt(jx, jy);\r\n\r\n            if (jumpNode.closed) {\r\n                continue;\r\n            }\r\n\r\n            // include distance, as parent may not be immediately adjacent:\r\n            d = Heuristic.octile(abs(jx - x), abs(jy - y));\r\n            ng = node.g + d; // next `g` value\r\n\r\n            if (!jumpNode.opened || ng < jumpNode.g) {\r\n                jumpNode.g = ng;\r\n                jumpNode.h = jumpNode.h || heuristic(abs(jx - endX), abs(jy - endY));\r\n                jumpNode.f = jumpNode.g + jumpNode.h;\r\n                jumpNode.parent = node;\r\n\r\n                if (!jumpNode.opened) {\r\n                    openList.push(jumpNode);\r\n                    jumpNode.opened = true;\r\n                } else {\r\n                    openList.updateItem(jumpNode);\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nmodule.exports = JumpPointFinderBase;\r\n","import { Toolkit } from \"./Toolkit\";\nimport ldClone from \"lodash/clone\";\n\nimport { DiagramEngine } from \"./DiagramEngine\";\n\n/**\n * @author Dylan Vorster\n */\nexport interface BaseEvent<T extends BaseEntity = any> {\n\tentity: BaseEntity<BaseListener>;\n\tstopPropagation: () => any;\n\tfiring: boolean;\n\tid: string;\n}\n\nexport interface BaseListener<T extends BaseEntity = any> {\n\tlockChanged?(event: BaseEvent<T> & { locked: boolean }): void;\n}\n\nexport type BaseEntityType = \"node\" | \"link\" | \"port\" | \"point\";\n\nexport class BaseEntity<T extends BaseListener = BaseListener> {\n\tpublic listeners: { [s: string]: T };\n\tpublic id: string;\n\tpublic locked: boolean;\n\n\tconstructor(id?: string) {\n\t\tthis.listeners = {};\n\t\tthis.id = id || Toolkit.UID();\n\t\tthis.locked = false;\n\t}\n\n\tgetID() {\n\t\treturn this.id;\n\t}\n\n\tdoClone(lookupTable: { [s: string]: any } = {}, clone: any) {\n\t\t/*noop*/\n\t}\n\n\tclone(lookupTable: { [s: string]: any } = {}) {\n\t\t// try and use an existing clone first\n\t\tif (lookupTable[this.id]) {\n\t\t\treturn lookupTable[this.id];\n\t\t}\n\t\tlet clone = ldClone(this);\n\t\tclone.id = Toolkit.UID();\n\t\tclone.clearListeners();\n\t\tlookupTable[this.id] = clone;\n\n\t\tthis.doClone(lookupTable, clone);\n\t\treturn clone;\n\t}\n\n\tclearListeners() {\n\t\tthis.listeners = {};\n\t}\n\n\tpublic deSerialize(data: { [s: string]: any }, engine: DiagramEngine) {\n\t\tthis.id = data.id;\n\t}\n\n\tpublic serialize() {\n\t\treturn {\n\t\t\tid: this.id\n\t\t};\n\t}\n\n\tpublic iterateListeners(cb: (t: T, event: BaseEvent) => any) {\n\t\tlet event: BaseEvent = {\n\t\t\tid: Toolkit.UID(),\n\t\t\tfiring: true,\n\t\t\tentity: this,\n\t\t\tstopPropagation: () => {\n\t\t\t\tevent.firing = false;\n\t\t\t}\n\t\t};\n\n\t\tfor (var i in this.listeners) {\n\t\t\tif (this.listeners.hasOwnProperty(i)) {\n\t\t\t\t// propagation stopped\n\t\t\t\tif (!event.firing) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcb(this.listeners[i], event);\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic removeListener(listener: string) {\n\t\tif (this.listeners[listener]) {\n\t\t\tdelete this.listeners[listener];\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tpublic addListener(listener: T): string {\n\t\tvar uid = Toolkit.UID();\n\t\tthis.listeners[uid] = listener;\n\t\treturn uid;\n\t}\n\n\tpublic isLocked(): boolean {\n\t\treturn this.locked;\n\t}\n\n\tpublic setLocked(locked: boolean = true) {\n\t\tthis.locked = locked;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.lockChanged) {\n\t\t\t\tlistener.lockChanged({ ...event, locked: locked });\n\t\t\t}\n\t\t});\n\t}\n}\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseValues = require('./_baseValues'),\n    keys = require('./keys');\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object == null ? [] : baseValues(object, keys(object));\n}\n\nmodule.exports = values;\n","import { BaseModel, BaseModelListener } from \"./BaseModel\";\nimport { PortModel } from \"./PortModel\";\nimport { PointModel } from \"./PointModel\";\nimport forEach from \"lodash/forEach\";\nimport map from \"lodash/map\";\nimport merge from \"lodash/merge\";\nimport { BaseEvent } from \"../BaseEntity\";\nimport { LabelModel } from \"./LabelModel\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { DiagramModel } from \"./DiagramModel\";\n\nexport interface LinkModelListener extends BaseModelListener {\n\tlinkClicked?(event: BaseEvent<LinkModel>): void;\n\tsourcePortChanged?(event: BaseEvent<LinkModel> & { port: null | PortModel }): void;\n\ttargetPortChanged?(event: BaseEvent<LinkModel> & { port: null | PortModel }): void;\n}\n\nexport class LinkModel<T extends LinkModelListener = LinkModelListener> extends BaseModel<DiagramModel, T> {\n\tsourcePort: PortModel | null;\n\ttargetPort: PortModel | null;\n\tlabels: LabelModel[];\n\tpoints: PointModel[];\n\textras: any;\n\n\tconstructor(linkType: string = \"default\", id?: string) {\n\t\tsuper(linkType, id);\n\t\tthis.points = [new PointModel(this, { x: 0, y: 0 }), new PointModel(this, { x: 0, y: 0 })];\n\t\tthis.extras = {};\n\t\tthis.sourcePort = null;\n\t\tthis.targetPort = null;\n\t\tthis.labels = [];\n\t}\n\n\tdeSerialize(ob, engine: DiagramEngine) {\n\t\tsuper.deSerialize(ob, engine);\n\t\tthis.extras = ob.extras;\n\t\tthis.points = map(ob.points || [], (point: { x; y }) => {\n\t\t\tvar p = new PointModel(this, { x: point.x, y: point.y });\n\t\t\tp.deSerialize(point, engine);\n\t\t\treturn p;\n\t\t});\n\n\t\t//deserialize labels\n\t\tforEach(ob.labels || [], (label: any) => {\n\t\t\tlet labelOb = engine.getLabelFactory(label.type).getNewInstance();\n\t\t\tlabelOb.deSerialize(label, engine);\n\t\t\tthis.addLabel(labelOb);\n\t\t});\n\n\t\tif (ob.target) {\n\t\t\tthis.setTargetPort(\n\t\t\t\tthis.getParent()\n\t\t\t\t\t.getNode(ob.target)\n\t\t\t\t\t.getPortFromID(ob.targetPort)\n\t\t\t);\n\t\t}\n\n\t\tif (ob.source) {\n\t\t\tthis.setSourcePort(\n\t\t\t\tthis.getParent()\n\t\t\t\t\t.getNode(ob.source)\n\t\t\t\t\t.getPortFromID(ob.sourcePort)\n\t\t\t);\n\t\t}\n\t}\n\n\tserialize() {\n\t\treturn merge(super.serialize(), {\n\t\t\tsource: this.sourcePort ? this.sourcePort.getParent().id : null,\n\t\t\tsourcePort: this.sourcePort ? this.sourcePort.id : null,\n\t\t\ttarget: this.targetPort ? this.targetPort.getParent().id : null,\n\t\t\ttargetPort: this.targetPort ? this.targetPort.id : null,\n\t\t\tpoints: map(this.points, point => {\n\t\t\t\treturn point.serialize();\n\t\t\t}),\n\t\t\textras: this.extras,\n\t\t\tlabels: map(this.labels, label => {\n\t\t\t\treturn label.serialize();\n\t\t\t})\n\t\t});\n\t}\n\n\tdoClone(lookupTable = {}, clone) {\n\t\tclone.setPoints(\n\t\t\tmap(this.getPoints(), (point: PointModel) => {\n\t\t\t\treturn point.clone(lookupTable);\n\t\t\t})\n\t\t);\n\t\tif (this.sourcePort) {\n\t\t\tclone.setSourcePort(this.sourcePort.clone(lookupTable));\n\t\t}\n\t\tif (this.targetPort) {\n\t\t\tclone.setTargetPort(this.targetPort.clone(lookupTable));\n\t\t}\n\t}\n\n\tlinkClicked() {\n\t\tthis.iterateListeners(\n\t\t\t(listener: LinkModelListener, event) => listener.linkClicked && listener.linkClicked(event)\n\t\t);\n\t}\n\n\tremove() {\n\t\tif (this.sourcePort) {\n\t\t\tthis.sourcePort.removeLink(this);\n\t\t}\n\t\tif (this.targetPort) {\n\t\t\tthis.targetPort.removeLink(this);\n\t\t}\n\t\tsuper.remove();\n\t}\n\n\tisLastPoint(point: PointModel) {\n\t\tvar index = this.getPointIndex(point);\n\t\treturn index === this.points.length - 1;\n\t}\n\n\tgetPointIndex(point: PointModel) {\n\t\treturn this.points.indexOf(point);\n\t}\n\n\tgetPointModel(id: string): PointModel | null {\n\t\tfor (var i = 0; i < this.points.length; i++) {\n\t\t\tif (this.points[i].id === id) {\n\t\t\t\treturn this.points[i];\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetPortForPoint(point: PointModel): PortModel {\n\t\tif (this.sourcePort !== null && this.getFirstPoint().getID() === point.getID()) {\n\t\t\treturn this.sourcePort;\n\t\t}\n\t\tif (this.targetPort !== null && this.getLastPoint().getID() === point.getID()) {\n\t\t\treturn this.targetPort;\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetPointForPort(port: PortModel): PointModel {\n\t\tif (this.sourcePort !== null && this.sourcePort.getID() === port.getID()) {\n\t\t\treturn this.getFirstPoint();\n\t\t}\n\t\tif (this.targetPort !== null && this.targetPort.getID() === port.getID()) {\n\t\t\treturn this.getLastPoint();\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetFirstPoint(): PointModel {\n\t\treturn this.points[0];\n\t}\n\n\tgetLastPoint(): PointModel {\n\t\treturn this.points[this.points.length - 1];\n\t}\n\n\tsetSourcePort(port: PortModel) {\n\t\tif (port !== null) {\n\t\t\tport.addLink(this);\n\t\t}\n\t\tif (this.sourcePort !== null) {\n\t\t\tthis.sourcePort.removeLink(this);\n\t\t}\n\t\tthis.sourcePort = port;\n\t\tthis.iterateListeners((listener: LinkModelListener, event) => {\n\t\t\tif (listener.sourcePortChanged) {\n\t\t\t\tlistener.sourcePortChanged({ ...event, port: port });\n\t\t\t}\n\t\t});\n\t}\n\n\tgetSourcePort(): PortModel {\n\t\treturn this.sourcePort;\n\t}\n\n\tgetTargetPort(): PortModel {\n\t\treturn this.targetPort;\n\t}\n\n\tsetTargetPort(port: PortModel) {\n\t\tif (port !== null) {\n\t\t\tport.addLink(this);\n\t\t}\n\t\tif (this.targetPort !== null) {\n\t\t\tthis.targetPort.removeLink(this);\n\t\t}\n\t\tthis.targetPort = port;\n\t\tthis.iterateListeners((listener: LinkModelListener, event) => {\n\t\t\tif (listener.targetPortChanged) {\n\t\t\t\tlistener.targetPortChanged({ ...event, port: port });\n\t\t\t}\n\t\t});\n\t}\n\n\tpoint(x: number, y: number): PointModel {\n\t\treturn this.addPoint(this.generatePoint(x, y));\n\t}\n\n\taddLabel(label: LabelModel) {\n\t\tlabel.setParent(this);\n\t\tthis.labels.push(label);\n\t}\n\n\tgetPoints(): PointModel[] {\n\t\treturn this.points;\n\t}\n\n\tsetPoints(points: PointModel[]) {\n\t\tforEach(points, point => {\n\t\t\tpoint.setParent(this);\n\t\t});\n\t\tthis.points = points;\n\t}\n\n\tremovePoint(pointModel: PointModel) {\n\t\tthis.points.splice(this.getPointIndex(pointModel), 1);\n\t}\n\n\tremovePointsBefore(pointModel: PointModel) {\n\t\tthis.points.splice(0, this.getPointIndex(pointModel));\n\t}\n\n\tremovePointsAfter(pointModel: PointModel) {\n\t\tthis.points.splice(this.getPointIndex(pointModel) + 1);\n\t}\n\n\tremoveMiddlePoints() {\n\t\tif (this.points.length > 2) {\n\t\t\tthis.points.splice(0, this.points.length - 2);\n\t\t}\n\t}\n\n\taddPoint<P extends PointModel>(pointModel: P, index = 1): P {\n\t\tpointModel.setParent(this);\n\t\tthis.points.splice(index, 0, pointModel);\n\t\treturn pointModel;\n\t}\n\n\tgeneratePoint(x: number = 0, y: number = 0): PointModel {\n\t\treturn new PointModel(this, { x: x, y: y });\n\t}\n}\n","import { BaseModel, BaseModelListener } from \"./BaseModel\";\nimport { NodeModel } from \"./NodeModel\";\nimport { LinkModel } from \"./LinkModel\";\nimport isFinite from \"lodash/isFinite\";\nimport map from \"lodash/map\";\nimport merge from \"lodash/merge\";\nimport size from \"lodash/size\";\nimport values from \"lodash/values\";\n\nimport { DiagramEngine } from \"../DiagramEngine\";\n\nexport class PortModel extends BaseModel<NodeModel, BaseModelListener> {\n\tname: string;\n\tlinks: { [id: string]: LinkModel };\n\tmaximumLinks: number;\n\n\t// calculated post rendering so routing can be done correctly\n\tx: number;\n\ty: number;\n\twidth: number;\n\theight: number;\n\n\tconstructor(name: string, type?: string, id?: string, maximumLinks?: number) {\n\t\tsuper(type, id);\n\t\tthis.name = name;\n\t\tthis.links = {};\n\t\tthis.maximumLinks = maximumLinks;\n\t}\n\n\tdeSerialize(ob, engine: DiagramEngine) {\n\t\tsuper.deSerialize(ob, engine);\n\t\tthis.name = ob.name;\n\t\tthis.maximumLinks = ob.maximumLinks;\n\t}\n\n\tserialize() {\n\t\treturn merge(super.serialize(), {\n\t\t\tname: this.name,\n\t\t\tparentNode: this.parent.id,\n\t\t\tlinks: map(this.links, link => {\n\t\t\t\treturn link.id;\n\t\t\t}),\n\t\t\tmaximumLinks: this.maximumLinks\n\t\t});\n\t}\n\n\tdoClone(lookupTable = {}, clone) {\n\t\tclone.links = {};\n\t\tclone.parentNode = this.getParent().clone(lookupTable);\n\t}\n\n\tgetNode(): NodeModel {\n\t\treturn this.getParent();\n\t}\n\n\tgetName(): string {\n\t\treturn this.name;\n\t}\n\n\tgetMaximumLinks(): number {\n\t\treturn this.maximumLinks;\n\t}\n\n\tsetMaximumLinks(maximumLinks: number) {\n\t\tthis.maximumLinks = maximumLinks;\n\t}\n\n\tremoveLink(link: LinkModel) {\n\t\tdelete this.links[link.getID()];\n\t}\n\n\taddLink(link: LinkModel) {\n\t\tthis.links[link.getID()] = link;\n\t}\n\n\tgetLinks(): { [id: string]: LinkModel } {\n\t\treturn this.links;\n\t}\n\n\tpublic createLinkModel(): LinkModel | null {\n\t\tif (isFinite(this.maximumLinks)) {\n\t\t\tvar numberOfLinks: number = size(this.links);\n\t\t\tif (this.maximumLinks === 1 && numberOfLinks >= 1) {\n\t\t\t\treturn values(this.links)[0];\n\t\t\t} else if (numberOfLinks >= this.maximumLinks) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tupdateCoords({ x, y, width, height }: { x: number; y: number; width: number; height: number }) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t}\n\n\tcanLinkToPort(port: PortModel): boolean {\n\t\treturn true;\n\t}\n\n\tisLocked() {\n\t\treturn super.isLocked() || this.getParent().isLocked();\n\t}\n}\n","export class BaseAction {\n\tmouseX: number;\n\tmouseY: number;\n\tms: number;\n\n\tconstructor(mouseX: number, mouseY: number) {\n\t\tthis.mouseX = mouseX;\n\t\tthis.mouseY = mouseY;\n\t\tthis.ms = new Date().getTime();\n\t}\n}\n","/**\r\n * A node in grid. \r\n * This class holds some basic information about a node and custom \r\n * attributes may be added, depending on the algorithms' needs.\r\n * @constructor\r\n * @param {number} x - The x coordinate of the node on the grid.\r\n * @param {number} y - The y coordinate of the node on the grid.\r\n * @param {boolean} [walkable] - Whether this node is walkable.\r\n */\r\nfunction Node(x, y, walkable) {\r\n    /**\r\n     * The x coordinate of the node on the grid.\r\n     * @type number\r\n     */\r\n    this.x = x;\r\n    /**\r\n     * The y coordinate of the node on the grid.\r\n     * @type number\r\n     */\r\n    this.y = y;\r\n    /**\r\n     * Whether this node can be walked through.\r\n     * @type boolean\r\n     */\r\n    this.walkable = (walkable === undefined ? true : walkable);\r\n}\r\n\r\nmodule.exports = Node;\r\n","var Heap       = require('heap');\r\nvar Util       = require('../core/Util');\r\nvar Heuristic  = require('../core/Heuristic');\r\nvar DiagonalMovement = require('../core/DiagonalMovement');\r\n\r\n/**\r\n * A* path-finder. Based upon https://github.com/bgrins/javascript-astar\r\n * @constructor\r\n * @param {Object} opt\r\n * @param {boolean} opt.allowDiagonal Whether diagonal movement is allowed.\r\n *     Deprecated, use diagonalMovement instead.\r\n * @param {boolean} opt.dontCrossCorners Disallow diagonal movement touching \r\n *     block corners. Deprecated, use diagonalMovement instead.\r\n * @param {DiagonalMovement} opt.diagonalMovement Allowed diagonal movement.\r\n * @param {function} opt.heuristic Heuristic function to estimate the distance\r\n *     (defaults to manhattan).\r\n * @param {number} opt.weight Weight to apply to the heuristic to allow for\r\n *     suboptimal paths, in order to speed up the search.\r\n */\r\nfunction AStarFinder(opt) {\r\n    opt = opt || {};\r\n    this.allowDiagonal = opt.allowDiagonal;\r\n    this.dontCrossCorners = opt.dontCrossCorners;\r\n    this.heuristic = opt.heuristic || Heuristic.manhattan;\r\n    this.weight = opt.weight || 1;\r\n    this.diagonalMovement = opt.diagonalMovement;\r\n\r\n    if (!this.diagonalMovement) {\r\n        if (!this.allowDiagonal) {\r\n            this.diagonalMovement = DiagonalMovement.Never;\r\n        } else {\r\n            if (this.dontCrossCorners) {\r\n                this.diagonalMovement = DiagonalMovement.OnlyWhenNoObstacles;\r\n            } else {\r\n                this.diagonalMovement = DiagonalMovement.IfAtMostOneObstacle;\r\n            }\r\n        }\r\n    }\r\n\r\n    // When diagonal movement is allowed the manhattan heuristic is not\r\n    //admissible. It should be octile instead\r\n    if (this.diagonalMovement === DiagonalMovement.Never) {\r\n        this.heuristic = opt.heuristic || Heuristic.manhattan;\r\n    } else {\r\n        this.heuristic = opt.heuristic || Heuristic.octile;\r\n    }\r\n}\r\n\r\n/**\r\n * Find and return the the path.\r\n * @return {Array<Array<number>>} The path, including both start and\r\n *     end positions.\r\n */\r\nAStarFinder.prototype.findPath = function(startX, startY, endX, endY, grid) {\r\n    var openList = new Heap(function(nodeA, nodeB) {\r\n            return nodeA.f - nodeB.f;\r\n        }),\r\n        startNode = grid.getNodeAt(startX, startY),\r\n        endNode = grid.getNodeAt(endX, endY),\r\n        heuristic = this.heuristic,\r\n        diagonalMovement = this.diagonalMovement,\r\n        weight = this.weight,\r\n        abs = Math.abs, SQRT2 = Math.SQRT2,\r\n        node, neighbors, neighbor, i, l, x, y, ng;\r\n\r\n    // set the `g` and `f` value of the start node to be 0\r\n    startNode.g = 0;\r\n    startNode.f = 0;\r\n\r\n    // push the start node into the open list\r\n    openList.push(startNode);\r\n    startNode.opened = true;\r\n\r\n    // while the open list is not empty\r\n    while (!openList.empty()) {\r\n        // pop the position of node which has the minimum `f` value.\r\n        node = openList.pop();\r\n        node.closed = true;\r\n\r\n        // if reached the end position, construct the path and return it\r\n        if (node === endNode) {\r\n            return Util.backtrace(endNode);\r\n        }\r\n\r\n        // get neigbours of the current node\r\n        neighbors = grid.getNeighbors(node, diagonalMovement);\r\n        for (i = 0, l = neighbors.length; i < l; ++i) {\r\n            neighbor = neighbors[i];\r\n\r\n            if (neighbor.closed) {\r\n                continue;\r\n            }\r\n\r\n            x = neighbor.x;\r\n            y = neighbor.y;\r\n\r\n            // get the distance between current node and the neighbor\r\n            // and calculate the next g score\r\n            ng = node.g + ((x - node.x === 0 || y - node.y === 0) ? 1 : SQRT2);\r\n\r\n            // check if the neighbor has not been inspected yet, or\r\n            // can be reached with smaller cost from the current node\r\n            if (!neighbor.opened || ng < neighbor.g) {\r\n                neighbor.g = ng;\r\n                neighbor.h = neighbor.h || weight * heuristic(abs(x - endX), abs(y - endY));\r\n                neighbor.f = neighbor.g + neighbor.h;\r\n                neighbor.parent = node;\r\n\r\n                if (!neighbor.opened) {\r\n                    openList.push(neighbor);\r\n                    neighbor.opened = true;\r\n                } else {\r\n                    // the neighbor can be reached with smaller cost.\r\n                    // Since its f value has been updated, we have to\r\n                    // update its position in the open list\r\n                    openList.updateItem(neighbor);\r\n                }\r\n            }\r\n        } // end for each neighbor\r\n    } // end while not open list empty\r\n\r\n    // fail to find the path\r\n    return [];\r\n};\r\n\r\nmodule.exports = AStarFinder;\r\n","var Heap       = require('heap');\r\nvar Util       = require('../core/Util');\r\nvar Heuristic  = require('../core/Heuristic');\r\nvar DiagonalMovement = require('../core/DiagonalMovement');\r\n\r\n/**\r\n * A* path-finder.\r\n * based upon https://github.com/bgrins/javascript-astar\r\n * @constructor\r\n * @param {Object} opt\r\n * @param {boolean} opt.allowDiagonal Whether diagonal movement is allowed.\r\n *     Deprecated, use diagonalMovement instead.\r\n * @param {boolean} opt.dontCrossCorners Disallow diagonal movement touching\r\n *     block corners. Deprecated, use diagonalMovement instead.\r\n * @param {DiagonalMovement} opt.diagonalMovement Allowed diagonal movement.\r\n * @param {function} opt.heuristic Heuristic function to estimate the distance\r\n *     (defaults to manhattan).\r\n * @param {number} opt.weight Weight to apply to the heuristic to allow for\r\n *     suboptimal paths, in order to speed up the search.\r\n */\r\nfunction BiAStarFinder(opt) {\r\n    opt = opt || {};\r\n    this.allowDiagonal = opt.allowDiagonal;\r\n    this.dontCrossCorners = opt.dontCrossCorners;\r\n    this.diagonalMovement = opt.diagonalMovement;\r\n    this.heuristic = opt.heuristic || Heuristic.manhattan;\r\n    this.weight = opt.weight || 1;\r\n\r\n    if (!this.diagonalMovement) {\r\n        if (!this.allowDiagonal) {\r\n            this.diagonalMovement = DiagonalMovement.Never;\r\n        } else {\r\n            if (this.dontCrossCorners) {\r\n                this.diagonalMovement = DiagonalMovement.OnlyWhenNoObstacles;\r\n            } else {\r\n                this.diagonalMovement = DiagonalMovement.IfAtMostOneObstacle;\r\n            }\r\n        }\r\n    }\r\n\r\n    //When diagonal movement is allowed the manhattan heuristic is not admissible\r\n    //It should be octile instead\r\n    if (this.diagonalMovement === DiagonalMovement.Never) {\r\n        this.heuristic = opt.heuristic || Heuristic.manhattan;\r\n    } else {\r\n        this.heuristic = opt.heuristic || Heuristic.octile;\r\n    }\r\n}\r\n\r\n/**\r\n * Find and return the the path.\r\n * @return {Array<Array<number>>} The path, including both start and\r\n *     end positions.\r\n */\r\nBiAStarFinder.prototype.findPath = function(startX, startY, endX, endY, grid) {\r\n    var cmp = function(nodeA, nodeB) {\r\n            return nodeA.f - nodeB.f;\r\n        },\r\n        startOpenList = new Heap(cmp),\r\n        endOpenList = new Heap(cmp),\r\n        startNode = grid.getNodeAt(startX, startY),\r\n        endNode = grid.getNodeAt(endX, endY),\r\n        heuristic = this.heuristic,\r\n        diagonalMovement = this.diagonalMovement,\r\n        weight = this.weight,\r\n        abs = Math.abs, SQRT2 = Math.SQRT2,\r\n        node, neighbors, neighbor, i, l, x, y, ng,\r\n        BY_START = 1, BY_END = 2;\r\n\r\n    // set the `g` and `f` value of the start node to be 0\r\n    // and push it into the start open list\r\n    startNode.g = 0;\r\n    startNode.f = 0;\r\n    startOpenList.push(startNode);\r\n    startNode.opened = BY_START;\r\n\r\n    // set the `g` and `f` value of the end node to be 0\r\n    // and push it into the open open list\r\n    endNode.g = 0;\r\n    endNode.f = 0;\r\n    endOpenList.push(endNode);\r\n    endNode.opened = BY_END;\r\n\r\n    // while both the open lists are not empty\r\n    while (!startOpenList.empty() && !endOpenList.empty()) {\r\n\r\n        // pop the position of start node which has the minimum `f` value.\r\n        node = startOpenList.pop();\r\n        node.closed = true;\r\n\r\n        // get neigbours of the current node\r\n        neighbors = grid.getNeighbors(node, diagonalMovement);\r\n        for (i = 0, l = neighbors.length; i < l; ++i) {\r\n            neighbor = neighbors[i];\r\n\r\n            if (neighbor.closed) {\r\n                continue;\r\n            }\r\n            if (neighbor.opened === BY_END) {\r\n                return Util.biBacktrace(node, neighbor);\r\n            }\r\n\r\n            x = neighbor.x;\r\n            y = neighbor.y;\r\n\r\n            // get the distance between current node and the neighbor\r\n            // and calculate the next g score\r\n            ng = node.g + ((x - node.x === 0 || y - node.y === 0) ? 1 : SQRT2);\r\n\r\n            // check if the neighbor has not been inspected yet, or\r\n            // can be reached with smaller cost from the current node\r\n            if (!neighbor.opened || ng < neighbor.g) {\r\n                neighbor.g = ng;\r\n                neighbor.h = neighbor.h ||\r\n                    weight * heuristic(abs(x - endX), abs(y - endY));\r\n                neighbor.f = neighbor.g + neighbor.h;\r\n                neighbor.parent = node;\r\n\r\n                if (!neighbor.opened) {\r\n                    startOpenList.push(neighbor);\r\n                    neighbor.opened = BY_START;\r\n                } else {\r\n                    // the neighbor can be reached with smaller cost.\r\n                    // Since its f value has been updated, we have to\r\n                    // update its position in the open list\r\n                    startOpenList.updateItem(neighbor);\r\n                }\r\n            }\r\n        } // end for each neighbor\r\n\r\n\r\n        // pop the position of end node which has the minimum `f` value.\r\n        node = endOpenList.pop();\r\n        node.closed = true;\r\n\r\n        // get neigbours of the current node\r\n        neighbors = grid.getNeighbors(node, diagonalMovement);\r\n        for (i = 0, l = neighbors.length; i < l; ++i) {\r\n            neighbor = neighbors[i];\r\n\r\n            if (neighbor.closed) {\r\n                continue;\r\n            }\r\n            if (neighbor.opened === BY_START) {\r\n                return Util.biBacktrace(neighbor, node);\r\n            }\r\n\r\n            x = neighbor.x;\r\n            y = neighbor.y;\r\n\r\n            // get the distance between current node and the neighbor\r\n            // and calculate the next g score\r\n            ng = node.g + ((x - node.x === 0 || y - node.y === 0) ? 1 : SQRT2);\r\n\r\n            // check if the neighbor has not been inspected yet, or\r\n            // can be reached with smaller cost from the current node\r\n            if (!neighbor.opened || ng < neighbor.g) {\r\n                neighbor.g = ng;\r\n                neighbor.h = neighbor.h ||\r\n                    weight * heuristic(abs(x - startX), abs(y - startY));\r\n                neighbor.f = neighbor.g + neighbor.h;\r\n                neighbor.parent = node;\r\n\r\n                if (!neighbor.opened) {\r\n                    endOpenList.push(neighbor);\r\n                    neighbor.opened = BY_END;\r\n                } else {\r\n                    // the neighbor can be reached with smaller cost.\r\n                    // Since its f value has been updated, we have to\r\n                    // update its position in the open list\r\n                    endOpenList.updateItem(neighbor);\r\n                }\r\n            }\r\n        } // end for each neighbor\r\n    } // end while not open list empty\r\n\r\n    // fail to find the path\r\n    return [];\r\n};\r\n\r\nmodule.exports = BiAStarFinder;\r\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","import merge from \"lodash/merge\";\nimport { PortModel } from \"../../models/PortModel\";\nimport { DiagramEngine } from \"../../DiagramEngine\";\nimport { DefaultLinkModel } from \"./DefaultLinkModel\";\nimport { LinkModel } from \"../../models/LinkModel\";\n\nexport class DefaultPortModel extends PortModel {\n\tin: boolean;\n\tlabel: string;\n\tlinks: { [id: string]: DefaultLinkModel };\n\n\tconstructor(isInput: boolean, name: string, label: string = null, id?: string) {\n\t\tsuper(name, \"default\", id);\n\t\tthis.in = isInput;\n\t\tthis.label = label || name;\n\t}\n\n\tdeSerialize(object, engine: DiagramEngine) {\n\t\tsuper.deSerialize(object, engine);\n\t\tthis.in = object.in;\n\t\tthis.label = object.label;\n\t}\n\n\tserialize() {\n\t\treturn merge(super.serialize(), {\n\t\t\tin: this.in,\n\t\t\tlabel: this.label\n\t\t});\n\t}\n\n\tlink(port: PortModel): LinkModel {\n\t\tlet link = this.createLinkModel();\n\t\tlink.setSourcePort(this);\n\t\tlink.setTargetPort(port);\n\t\treturn link;\n\t}\n\n\tcanLinkToPort(port: PortModel): boolean {\n\t\tif (port instanceof DefaultPortModel) {\n\t\t\treturn this.in !== port.in;\n\t\t}\n\t\treturn true;\n\t}\n\n\tcreateLinkModel(): LinkModel {\n\t\tlet link = super.createLinkModel();\n\t\treturn link || new DefaultLinkModel();\n\t}\n}\n","/**\n * @author Dylan Vorster\n */\nimport { LinkModel, LinkModelListener } from \"../../models/LinkModel\";\nimport { BaseEvent } from \"../../BaseEntity\";\nimport merge from \"lodash/merge\";\nimport { PointModel } from \"../../models/PointModel\";\nimport { DiagramEngine } from \"../../DiagramEngine\";\nimport { DefaultLabelModel } from \"./DefaultLabelModel\";\nimport { LabelModel } from \"../../models/LabelModel\";\n\nexport interface DefaultLinkModelListener extends LinkModelListener {\n\tcolorChanged?(event: BaseEvent<DefaultLinkModel> & { color: null | string }): void;\n\n\twidthChanged?(event: BaseEvent<DefaultLinkModel> & { width: 0 | number }): void;\n}\n\nexport class DefaultLinkModel extends LinkModel<DefaultLinkModelListener> {\n\twidth: number;\n\tcolor: string;\n\tcurvyness: number;\n\n\tconstructor(type: string = \"default\") {\n\t\tsuper(type);\n\t\tthis.color = \"rgba(255,255,255,0.5)\";\n\t\tthis.width = 3;\n\t\tthis.curvyness = 50;\n\t}\n\n\tserialize() {\n\t\treturn merge(super.serialize(), {\n\t\t\twidth: this.width,\n\t\t\tcolor: this.color,\n\t\t\tcurvyness: this.curvyness\n\t\t});\n\t}\n\n\tdeSerialize(ob, engine: DiagramEngine) {\n\t\tsuper.deSerialize(ob, engine);\n\t\tthis.color = ob.color;\n\t\tthis.width = ob.width;\n\t\tthis.curvyness = ob.curvyness;\n\t}\n\n\taddLabel(label: LabelModel | string) {\n\t\tif (label instanceof LabelModel) {\n\t\t\treturn super.addLabel(label);\n\t\t}\n\t\tlet labelOb = new DefaultLabelModel();\n\t\tlabelOb.setLabel(label);\n\t\treturn super.addLabel(labelOb);\n\t}\n\n\tsetWidth(width: number) {\n\t\tthis.width = width;\n\t\tthis.iterateListeners((listener: DefaultLinkModelListener, event: BaseEvent) => {\n\t\t\tif (listener.widthChanged) {\n\t\t\t\tlistener.widthChanged({ ...event, width: width });\n\t\t\t}\n\t\t});\n\t}\n\n\tsetColor(color: string) {\n\t\tthis.color = color;\n\t\tthis.iterateListeners((listener: DefaultLinkModelListener, event: BaseEvent) => {\n\t\t\tif (listener.colorChanged) {\n\t\t\t\tlistener.colorChanged({ ...event, color: color });\n\t\t\t}\n\t\t});\n\t}\n}\n","import { LabelModel } from \"../../models/LabelModel\";\nimport merge from \"lodash/merge\";\nimport { DiagramEngine } from \"../../DiagramEngine\";\n\nexport class DefaultLabelModel extends LabelModel {\n\tlabel: string;\n\n\tconstructor() {\n\t\tsuper(\"default\");\n\t\tthis.offsetY = -23;\n\t}\n\n\tsetLabel(label: string) {\n\t\tthis.label = label;\n\t}\n\n\tdeSerialize(ob, engine: DiagramEngine) {\n\t\tsuper.deSerialize(ob, engine);\n\t\tthis.label = ob.label;\n\t}\n\n\tserialize() {\n\t\treturn merge(super.serialize(), {\n\t\t\tlabel: this.label\n\t\t});\n\t}\n}\n","import { BaseModel } from \"./BaseModel\";\nimport { LinkModel } from \"./LinkModel\";\nimport merge from \"lodash/merge\";\nimport { DiagramEngine } from \"../DiagramEngine\";\n\nexport class LabelModel extends BaseModel<LinkModel> {\n\toffsetX: number;\n\toffsetY: number;\n\n\tconstructor(type?: string, id?: string) {\n\t\tsuper(type, id);\n\t\tthis.offsetX = 0;\n\t\tthis.offsetY = 0;\n\t}\n\n\tdeSerialize(ob, engine: DiagramEngine) {\n\t\tsuper.deSerialize(ob, engine);\n\t\tthis.offsetX = ob.offsetX;\n\t\tthis.offsetY = ob.offsetY;\n\t}\n\n\tserialize() {\n\t\treturn merge(super.serialize(), {\n\t\t\toffsetX: this.offsetX,\n\t\t\toffsetY: this.offsetY\n\t\t});\n\t}\n}\n","/**\n * @author Dylan Vorster\n */\n\nexport * from \"./Toolkit\";\nexport * from \"./BaseEntity\";\nexport * from \"./DiagramEngine\";\n\nexport * from \"./defaults/models/DefaultNodeModel\";\nexport * from \"./defaults/models/DefaultPortModel\";\nexport * from \"./defaults/models/DefaultLinkModel\";\nexport * from \"./defaults/models/DefaultLabelModel\";\n\nexport * from \"./defaults/factories/DefaultLinkFactory\";\nexport * from \"./defaults/factories/DefaultNodeFactory\";\nexport * from \"./defaults/factories/DefaultPortFactory\";\nexport * from \"./defaults/factories/DefaultLabelFactory\";\n\nexport * from \"./defaults/widgets/DefaultLinkWidget\";\nexport * from \"./defaults/widgets/DefaultLabelWidget\";\nexport * from \"./defaults/widgets/DefaultNodeWidget\";\nexport * from \"./defaults/widgets/DefaultPortLabelWidget\";\n\nexport * from \"./factories/AbstractFactory\";\nexport * from \"./factories/AbstractLabelFactory\";\nexport * from \"./factories/AbstractLinkFactory\";\nexport * from \"./factories/AbstractNodeFactory\";\nexport * from \"./factories/AbstractPortFactory\";\n\nexport * from \"./routing/PathFinding\";\n\nexport * from \"./actions/BaseAction\";\nexport * from \"./actions/MoveCanvasAction\";\nexport * from \"./actions/MoveItemsAction\";\nexport * from \"./actions/SelectingAction\";\n\nexport * from \"./models/SelectionModel\";\nexport * from \"./models/BaseModel\";\nexport * from \"./models/DiagramModel\";\nexport * from \"./models/LinkModel\";\nexport * from \"./models/NodeModel\";\nexport * from \"./models/PointModel\";\nexport * from \"./models/PortModel\";\nexport * from \"./models/LabelModel\";\n\nexport * from \"./widgets/DiagramWidget\";\nexport * from \"./widgets/LinkWidget\";\nexport * from \"./widgets/NodeWidget\";\nexport * from \"./widgets/PortWidget\";\nexport * from \"./widgets/BaseWidget\";\n\nexport * from \"./widgets/layers/LinkLayerWidget\";\nexport * from \"./widgets/layers/NodeLayerWidget\";\n","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n\n    return result;\n  }\n\n  if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n\n    return result;\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","import { BaseListener, BaseEntity, BaseEvent, BaseEntityType } from \"../BaseEntity\";\nimport filter from \"lodash/filter\";\nimport flatMap from \"lodash/flatMap\";\nimport forEach from \"lodash/forEach\";\nimport includes from \"lodash/includes\";\nimport map from \"lodash/map\";\nimport merge from \"lodash/merge\";\nimport uniq from \"lodash/uniq\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { LinkModel } from \"./LinkModel\";\nimport { NodeModel } from \"./NodeModel\";\nimport { PortModel } from \"./PortModel\";\nimport { BaseModel, BaseModelListener } from \"./BaseModel\";\nimport { PointModel } from \"./PointModel\";\n/**\n * @author Dylan Vorster\n *\n */\nexport interface DiagramListener extends BaseListener {\n\tnodesUpdated?(event: BaseEvent & { node: NodeModel; isCreated: boolean }): void;\n\n\tlinksUpdated?(event: BaseEvent & { link: LinkModel; isCreated: boolean }): void;\n\n\toffsetUpdated?(event: BaseEvent<DiagramModel> & { offsetX: number; offsetY: number }): void;\n\n\tzoomUpdated?(event: BaseEvent<DiagramModel> & { zoom: number }): void;\n\n\tgridUpdated?(event: BaseEvent<DiagramModel> & { size: number }): void;\n}\n\n/**\n *\n */\nexport class DiagramModel extends BaseEntity<DiagramListener> {\n\t//models\n\tlinks: { [s: string]: LinkModel };\n\tnodes: { [s: string]: NodeModel };\n\n\t//control variables\n\toffsetX: number;\n\toffsetY: number;\n\tzoom: number;\n\trendered: boolean;\n\tgridSize: number;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.links = {};\n\t\tthis.nodes = {};\n\n\t\tthis.offsetX = 0;\n\t\tthis.offsetY = 0;\n\t\tthis.zoom = 100;\n\t\tthis.rendered = false;\n\t\tthis.gridSize = 0;\n\t}\n\n\tsetGridSize(size: number = 0) {\n\t\tthis.gridSize = size;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.gridUpdated) {\n\t\t\t\tlistener.gridUpdated({ ...event, size: size });\n\t\t\t}\n\t\t});\n\t}\n\n\tgetGridPosition(pos) {\n\t\tif (this.gridSize === 0) {\n\t\t\treturn pos;\n\t\t}\n\t\treturn this.gridSize * Math.floor((pos + this.gridSize / 2) / this.gridSize);\n\t}\n\n\tdeSerializeDiagram(object: any, diagramEngine: DiagramEngine) {\n\t\tthis.deSerialize(object, diagramEngine);\n\n\t\tthis.offsetX = object.offsetX;\n\t\tthis.offsetY = object.offsetY;\n\t\tthis.zoom = object.zoom;\n\t\tthis.gridSize = object.gridSize;\n\n\t\t// deserialize nodes\n\t\tforEach(object.nodes, (node: any) => {\n\t\t\tlet nodeOb = diagramEngine.getNodeFactory(node.type).getNewInstance(node);\n\t\t\tnodeOb.setParent(this);\n\t\t\tnodeOb.deSerialize(node, diagramEngine);\n\t\t\tthis.addNode(nodeOb);\n\t\t});\n\n\t\t// deserialze links\n\t\tforEach(object.links, (link: any) => {\n\t\t\tlet linkOb = diagramEngine.getLinkFactory(link.type).getNewInstance();\n\t\t\tlinkOb.setParent(this);\n\t\t\tlinkOb.deSerialize(link, diagramEngine);\n\t\t\tthis.addLink(linkOb);\n\t\t});\n\t}\n\n\tserializeDiagram() {\n\t\treturn merge(this.serialize(), {\n\t\t\toffsetX: this.offsetX,\n\t\t\toffsetY: this.offsetY,\n\t\t\tzoom: this.zoom,\n\t\t\tgridSize: this.gridSize,\n\t\t\tlinks: map(this.links, link => {\n\t\t\t\treturn link.serialize();\n\t\t\t}),\n\t\t\tnodes: map(this.nodes, node => {\n\t\t\t\treturn node.serialize();\n\t\t\t})\n\t\t});\n\t}\n\n\tclearSelection(ignore: BaseModel<BaseEntity, BaseModelListener> | null = null) {\n\t\tforEach(this.getSelectedItems(), element => {\n\t\t\tif (ignore && ignore.getID() === element.getID()) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telement.setSelected(false); //TODO dont fire the listener\n\t\t});\n\t}\n\n\tgetSelectedItems(...filters: BaseEntityType[]): BaseModel<BaseEntity, BaseModelListener>[] {\n\t\tif (!Array.isArray(filters)) {\n\t\t\tfilters = [filters];\n\t\t}\n\t\tvar items = [];\n\n\t\t// run through nodes\n\t\titems = items.concat(\n\t\t\tflatMap(this.nodes, node => {\n\t\t\t\treturn node.getSelectedEntities();\n\t\t\t})\n\t\t);\n\n\t\t// find all the links\n\t\titems = items.concat(\n\t\t\tflatMap(this.links, link => {\n\t\t\t\treturn link.getSelectedEntities();\n\t\t\t})\n\t\t);\n\n\t\t//find all points\n\t\titems = items.concat(\n\t\t\tflatMap(this.links, link => {\n\t\t\t\treturn flatMap(link.points, point => {\n\t\t\t\t\treturn point.getSelectedEntities();\n\t\t\t\t});\n\t\t\t})\n\t\t);\n\n\t\titems = uniq(items);\n\n\t\tif (filters.length > 0) {\n\t\t\titems = filter(uniq(items), (item: BaseModel<any>) => {\n\t\t\t\tif (includes(filters, \"node\") && item instanceof NodeModel) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (includes(filters, \"link\") && item instanceof LinkModel) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (includes(filters, \"port\") && item instanceof PortModel) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tif (includes(filters, \"point\") && item instanceof PointModel) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t}\n\n\tsetZoomLevel(zoom: number) {\n\t\tthis.zoom = zoom;\n\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.zoomUpdated) {\n\t\t\t\tlistener.zoomUpdated({ ...event, zoom: zoom });\n\t\t\t}\n\t\t});\n\t}\n\n\tsetOffset(offsetX: number, offsetY: number) {\n\t\tthis.offsetX = offsetX;\n\t\tthis.offsetY = offsetY;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.offsetUpdated) {\n\t\t\t\tlistener.offsetUpdated({ ...event, offsetX: offsetX, offsetY: offsetY });\n\t\t\t}\n\t\t});\n\t}\n\n\tsetOffsetX(offsetX: number) {\n\t\tthis.offsetX = offsetX;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.offsetUpdated) {\n\t\t\t\tlistener.offsetUpdated({ ...event, offsetX: offsetX, offsetY: this.offsetY });\n\t\t\t}\n\t\t});\n\t}\n\tsetOffsetY(offsetY: number) {\n\t\tthis.offsetY = offsetY;\n\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.offsetUpdated) {\n\t\t\t\tlistener.offsetUpdated({ ...event, offsetX: this.offsetX, offsetY: this.offsetY });\n\t\t\t}\n\t\t});\n\t}\n\n\tgetOffsetY() {\n\t\treturn this.offsetY;\n\t}\n\n\tgetOffsetX() {\n\t\treturn this.offsetX;\n\t}\n\n\tgetZoomLevel() {\n\t\treturn this.zoom;\n\t}\n\n\tgetNode(node: string | NodeModel): NodeModel | null {\n\t\tif (node instanceof NodeModel) {\n\t\t\treturn node;\n\t\t}\n\t\tif (!this.nodes[node]) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.nodes[node];\n\t}\n\n\tgetLink(link: string | LinkModel): LinkModel | null {\n\t\tif (link instanceof LinkModel) {\n\t\t\treturn link;\n\t\t}\n\t\tif (!this.links[link]) {\n\t\t\treturn null;\n\t\t}\n\t\treturn this.links[link];\n\t}\n\n\taddAll(...models: BaseModel[]): BaseModel[] {\n\t\tforEach(models, model => {\n\t\t\tif (model instanceof LinkModel) {\n\t\t\t\tthis.addLink(model);\n\t\t\t} else if (model instanceof NodeModel) {\n\t\t\t\tthis.addNode(model);\n\t\t\t}\n\t\t});\n\t\treturn models;\n\t}\n\n\taddLink(link: LinkModel): LinkModel {\n\t\tlink.addListener({\n\t\t\tentityRemoved: () => {\n\t\t\t\tthis.removeLink(link);\n\t\t\t}\n\t\t});\n\t\tthis.links[link.getID()] = link;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.linksUpdated) {\n\t\t\t\tlistener.linksUpdated({ ...event, link: link, isCreated: true });\n\t\t\t}\n\t\t});\n\t\treturn link;\n\t}\n\n\taddNode(node: NodeModel): NodeModel {\n\t\tnode.addListener({\n\t\t\tentityRemoved: () => {\n\t\t\t\tthis.removeNode(node);\n\t\t\t}\n\t\t});\n\t\tthis.nodes[node.getID()] = node;\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.nodesUpdated) {\n\t\t\t\tlistener.nodesUpdated({ ...event, node: node, isCreated: true });\n\t\t\t}\n\t\t});\n\t\treturn node;\n\t}\n\n\tremoveLink(link: LinkModel | string) {\n\t\tlink = this.getLink(link);\n\t\tdelete this.links[link.getID()];\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.linksUpdated) {\n\t\t\t\tlistener.linksUpdated({ ...event, link: link as LinkModel, isCreated: false });\n\t\t\t}\n\t\t});\n\t}\n\n\tremoveNode(node: NodeModel | string) {\n\t\tnode = this.getNode(node);\n\t\tdelete this.nodes[node.getID()];\n\t\tthis.iterateListeners((listener, event) => {\n\t\t\tif (listener.nodesUpdated) {\n\t\t\t\tlistener.nodesUpdated({ ...event, node: node as NodeModel, isCreated: false });\n\t\t\t}\n\t\t});\n\t}\n\n\tgetLinks(): { [s: string]: LinkModel } {\n\t\treturn this.links;\n\t}\n\n\tgetNodes(): { [s: string]: NodeModel } {\n\t\treturn this.nodes;\n\t}\n}\n","var arrayFilter = require('./_arrayFilter'),\n    baseFilter = require('./_baseFilter'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Iterates over elements of `collection`, returning an array of all elements\n * `predicate` returns truthy for. The predicate is invoked with three\n * arguments: (value, index|key, collection).\n *\n * **Note:** Unlike `_.remove`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n * @see _.reject\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * _.filter(users, function(o) { return !o.active; });\n * // => objects for ['fred']\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, { 'age': 36, 'active': true });\n * // => objects for ['barney']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, ['active', false]);\n * // => objects for ['fred']\n *\n * // The `_.property` iteratee shorthand.\n * _.filter(users, 'active');\n * // => objects for ['barney']\n */\nfunction filter(collection, predicate) {\n  var func = isArray(collection) ? arrayFilter : baseFilter;\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = filter;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","import { DefaultPortModel } from \"../models/DefaultPortModel\";\nimport { AbstractPortFactory } from \"../../factories/AbstractPortFactory\";\n\nexport class DefaultPortFactory extends AbstractPortFactory<DefaultPortModel> {\n\tconstructor() {\n\t\tsuper(\"default\");\n\t}\n\n\tgetNewInstance(initialConfig?: any): DefaultPortModel {\n\t\treturn new DefaultPortModel(true, \"unknown\");\n\t}\n}\n","import { PortModel } from \"../models/PortModel\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { AbstractFactory } from \"./AbstractFactory\";\n\nexport abstract class AbstractPortFactory<T extends PortModel = PortModel> extends AbstractFactory<T> {}\n","import * as React from \"react\";\nimport { DiagramEngine } from \"../../DiagramEngine\";\nimport { AbstractLabelFactory } from \"../../factories/AbstractLabelFactory\";\nimport { DefaultLabelModel } from \"../models/DefaultLabelModel\";\nimport { DefaultLabelWidget } from \"../widgets/DefaultLabelWidget\";\n\n/**\n * @author Dylan Vorster\n */\nexport class DefaultLabelFactory extends AbstractLabelFactory<DefaultLabelModel> {\n\tconstructor() {\n\t\tsuper(\"default\");\n\t}\n\n\tgenerateReactWidget(diagramEngine: DiagramEngine, label: DefaultLabelModel): JSX.Element {\n\t\treturn <DefaultLabelWidget model={label} />;\n\t}\n\n\tgetNewInstance(initialConfig?: any): DefaultLabelModel {\n\t\treturn new DefaultLabelModel();\n\t}\n}\n","import { LabelModel } from \"../models/LabelModel\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { AbstractFactory } from \"./AbstractFactory\";\n\nexport abstract class AbstractLabelFactory<T extends LabelModel = LabelModel> extends AbstractFactory<T> {\n\tabstract generateReactWidget(diagramEngine: DiagramEngine, link: T): JSX.Element;\n}\n","import * as React from \"react\";\nimport { DefaultLabelModel } from \"../models/DefaultLabelModel\";\nimport { BaseWidget, BaseWidgetProps } from \"../../widgets/BaseWidget\";\n\nexport interface DefaultLabelWidgetProps extends BaseWidgetProps {\n\tmodel: DefaultLabelModel;\n}\n\nexport class DefaultLabelWidget extends BaseWidget<DefaultLabelWidgetProps> {\n\tconstructor(props) {\n\t\tsuper(\"srd-default-label\", props);\n\t}\n\n\trender() {\n\t\treturn <div {...this.getProps()}>{this.props.model.label}</div>;\n\t}\n}\n","import { DefaultPortModel } from \"./DefaultPortModel\";\nimport filter from \"lodash/filter\";\nimport merge from \"lodash/merge\";\n\nimport { NodeModel, NodeModelListener } from \"../../models/NodeModel\";\nimport { Toolkit } from \"../../Toolkit\";\nimport { DiagramEngine } from \"../../DiagramEngine\";\n\n/**\n * @author Dylan Vorster\n */\nexport class DefaultNodeModel extends NodeModel<NodeModelListener> {\n\tname: string;\n\tcolor: string;\n\tports: { [s: string]: DefaultPortModel };\n\n\tconstructor(name: string = \"Untitled\", color: string = \"rgb(0,192,255)\") {\n\t\tsuper(\"default\");\n\t\tthis.name = name;\n\t\tthis.color = color;\n\t}\n\n\taddInPort(label: string): DefaultPortModel {\n\t\treturn this.addPort(new DefaultPortModel(true, Toolkit.UID(), label));\n\t}\n\n\taddOutPort(label: string): DefaultPortModel {\n\t\treturn this.addPort(new DefaultPortModel(false, Toolkit.UID(), label));\n\t}\n\n\tdeSerialize(object, engine: DiagramEngine) {\n\t\tsuper.deSerialize(object, engine);\n\t\tthis.name = object.name;\n\t\tthis.color = object.color;\n\t}\n\n\tserialize() {\n\t\treturn merge(super.serialize(), {\n\t\t\tname: this.name,\n\t\t\tcolor: this.color\n\t\t});\n\t}\n\n\tgetInPorts(): DefaultPortModel[] {\n\t\treturn filter(this.ports, portModel => {\n\t\t\treturn portModel.in;\n\t\t});\n\t}\n\n\tgetOutPorts(): DefaultPortModel[] {\n\t\treturn filter(this.ports, portModel => {\n\t\t\treturn !portModel.in;\n\t\t});\n\t}\n}\n","import * as React from \"react\";\nimport { DiagramEngine } from \"../../DiagramEngine\";\nimport { PointModel } from \"../../models/PointModel\";\nimport { Toolkit } from \"../../Toolkit\";\nimport { DefaultLinkFactory } from \"../factories/DefaultLinkFactory\";\nimport { DefaultLinkModel } from \"../models/DefaultLinkModel\";\nimport PathFinding from \"../../routing/PathFinding\";\nimport first from \"lodash/first\";\nimport forEach from \"lodash/forEach\";\nimport last from \"lodash/last\";\nimport map from \"lodash/map\";\n\nimport { LabelModel } from \"../../models/LabelModel\";\nimport { BaseWidget, BaseWidgetProps } from \"../../widgets/BaseWidget\";\n\nexport interface DefaultLinkProps extends BaseWidgetProps {\n\tcolor?: string;\n\twidth?: number;\n\tsmooth?: boolean;\n\tlink: DefaultLinkModel;\n\tdiagramEngine: DiagramEngine;\n\tpointAdded?: (point: PointModel, event: MouseEvent) => any;\n}\n\nexport interface DefaultLinkState {\n\tselected: boolean;\n}\n\nexport class DefaultLinkWidget extends BaseWidget<DefaultLinkProps, DefaultLinkState> {\n\tpublic static defaultProps: DefaultLinkProps = {\n\t\tcolor: \"black\",\n\t\twidth: 3,\n\t\tlink: null,\n\t\tengine: null,\n\t\tsmooth: false,\n\t\tdiagramEngine: null\n\t};\n\n\t// DOM references to the label and paths (if label is given), used to calculate dynamic positioning\n\trefLabels: { [id: string]: HTMLElement };\n\trefPaths: SVGPathElement[];\n\n\tpathFinding: PathFinding; // only set when smart routing is active\n\n\tconstructor(props: DefaultLinkProps) {\n\t\tsuper(\"srd-default-link\", props);\n\n\t\tthis.refLabels = {};\n\t\tthis.refPaths = [];\n\t\tthis.state = {\n\t\t\tselected: false\n\t\t};\n\n\t\tif (props.diagramEngine.isSmartRoutingEnabled()) {\n\t\t\tthis.pathFinding = new PathFinding(this.props.diagramEngine);\n\t\t}\n\t}\n\n\tcalculateAllLabelPosition() {\n\t\tforEach(this.props.link.labels, (label, index) => {\n\t\t\tthis.calculateLabelPosition(label, index + 1);\n\t\t});\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.props.link.labels.length > 0) {\n\t\t\twindow.requestAnimationFrame(this.calculateAllLabelPosition.bind(this));\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.link.labels.length > 0) {\n\t\t\twindow.requestAnimationFrame(this.calculateAllLabelPosition.bind(this));\n\t\t}\n\t}\n\n\taddPointToLink = (event: MouseEvent, index: number): void => {\n\t\tif (\n\t\t\t!event.shiftKey &&\n\t\t\t!this.props.diagramEngine.isModelLocked(this.props.link) &&\n\t\t\tthis.props.link.points.length - 1 <= this.props.diagramEngine.getMaxNumberPointsPerLink()\n\t\t) {\n\t\t\tconst point = new PointModel(this.props.link, this.props.diagramEngine.getRelativeMousePoint(event));\n\t\t\tpoint.setSelected(true);\n\t\t\tthis.forceUpdate();\n\t\t\tthis.props.link.addPoint(point, index);\n\t\t\tthis.props.pointAdded(point, event);\n\t\t}\n\t};\n\n\tgeneratePoint(pointIndex: number): JSX.Element {\n\t\tlet x = this.props.link.points[pointIndex].x;\n\t\tlet y = this.props.link.points[pointIndex].y;\n\n\t\treturn (\n\t\t\t<g key={\"point-\" + this.props.link.points[pointIndex].id}>\n\t\t\t\t<circle\n\t\t\t\t\tcx={x}\n\t\t\t\t\tcy={y}\n\t\t\t\t\tr={5}\n\t\t\t\t\tclassName={\n\t\t\t\t\t\t\"point \" +\n\t\t\t\t\t\tthis.bem(\"__point\") +\n\t\t\t\t\t\t(this.props.link.points[pointIndex].isSelected() ? this.bem(\"--point-selected\") : \"\")\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<circle\n\t\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\t\tthis.setState({ selected: false });\n\t\t\t\t\t}}\n\t\t\t\t\tonMouseEnter={() => {\n\t\t\t\t\t\tthis.setState({ selected: true });\n\t\t\t\t\t}}\n\t\t\t\t\tdata-id={this.props.link.points[pointIndex].id}\n\t\t\t\t\tdata-linkid={this.props.link.id}\n\t\t\t\t\tcx={x}\n\t\t\t\t\tcy={y}\n\t\t\t\t\tr={15}\n\t\t\t\t\topacity={0}\n\t\t\t\t\tclassName={\"point \" + this.bem(\"__point\")}\n\t\t\t\t/>\n\t\t\t</g>\n\t\t);\n\t}\n\n\tgenerateLabel(label: LabelModel) {\n\t\tconst canvas = this.props.diagramEngine.canvas as HTMLElement;\n\t\treturn (\n\t\t\t<foreignObject\n\t\t\t\tkey={label.id}\n\t\t\t\tclassName={this.bem(\"__label\")}\n\t\t\t\twidth={canvas.offsetWidth}\n\t\t\t\theight={canvas.offsetHeight}\n\t\t\t>\n\t\t\t\t<div ref={ref => (this.refLabels[label.id] = ref)}>\n\t\t\t\t\t{this.props.diagramEngine\n\t\t\t\t\t\t.getFactoryForLabel(label)\n\t\t\t\t\t\t.generateReactWidget(this.props.diagramEngine, label)}\n\t\t\t\t</div>\n\t\t\t</foreignObject>\n\t\t);\n\t}\n\n\tgenerateLink(path: string, extraProps: any, id: string | number): JSX.Element {\n\t\tvar props = this.props;\n\n\t\tvar Bottom = React.cloneElement(\n\t\t\t(props.diagramEngine.getFactoryForLink(this.props.link) as DefaultLinkFactory).generateLinkSegment(\n\t\t\t\tthis.props.link,\n\t\t\t\tthis,\n\t\t\t\tthis.state.selected || this.props.link.isSelected(),\n\t\t\t\tpath\n\t\t\t),\n\t\t\t{\n\t\t\t\tref: ref => ref && this.refPaths.push(ref)\n\t\t\t}\n\t\t);\n\n\t\tvar Top = React.cloneElement(Bottom, {\n\t\t\t...extraProps,\n\t\t\tstrokeLinecap: \"round\",\n\t\t\tonMouseLeave: () => {\n\t\t\t\tthis.setState({ selected: false });\n\t\t\t},\n\t\t\tonMouseEnter: () => {\n\t\t\t\tthis.setState({ selected: true });\n\t\t\t},\n\t\t\tref: null,\n\t\t\t\"data-linkid\": this.props.link.getID(),\n\t\t\tstrokeOpacity: this.state.selected ? 0.1 : 0,\n\t\t\tstrokeWidth: 20,\n\t\t\tonContextMenu: () => {\n\t\t\t\tif (!this.props.diagramEngine.isModelLocked(this.props.link)) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthis.props.link.remove();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\treturn (\n\t\t\t<g key={\"link-\" + id}>\n\t\t\t\t{Bottom}\n\t\t\t\t{Top}\n\t\t\t</g>\n\t\t);\n\t}\n\n\tfindPathAndRelativePositionToRenderLabel = (index: number): { path: any; position: number } => {\n\t\t// an array to hold all path lengths, making sure we hit the DOM only once to fetch this information\n\t\tconst lengths = this.refPaths.map(path => path.getTotalLength());\n\n\t\t// calculate the point where we want to display the label\n\t\tlet labelPosition =\n\t\t\tlengths.reduce((previousValue, currentValue) => previousValue + currentValue, 0) *\n\t\t\t(index / (this.props.link.labels.length + 1));\n\n\t\t// find the path where the label will be rendered and calculate the relative position\n\t\tlet pathIndex = 0;\n\t\twhile (pathIndex < this.refPaths.length) {\n\t\t\tif (labelPosition - lengths[pathIndex] < 0) {\n\t\t\t\treturn {\n\t\t\t\t\tpath: this.refPaths[pathIndex],\n\t\t\t\t\tposition: labelPosition\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// keep searching\n\t\t\tlabelPosition -= lengths[pathIndex];\n\t\t\tpathIndex++;\n\t\t}\n\t};\n\n\tcalculateLabelPosition = (label, index: number) => {\n\t\tif (!this.refLabels[label.id]) {\n\t\t\t// no label? nothing to do here\n\t\t\treturn;\n\t\t}\n\n\t\tconst { path, position } = this.findPathAndRelativePositionToRenderLabel(index);\n\n\t\tconst labelDimensions = {\n\t\t\twidth: this.refLabels[label.id].offsetWidth,\n\t\t\theight: this.refLabels[label.id].offsetHeight\n\t\t};\n\n\t\tconst pathCentre = path.getPointAtLength(position);\n\n\t\tconst labelCoordinates = {\n\t\t\tx: pathCentre.x - labelDimensions.width / 2 + label.offsetX,\n\t\t\ty: pathCentre.y - labelDimensions.height / 2 + label.offsetY\n\t\t};\n\t\tthis.refLabels[label.id].setAttribute(\n\t\t\t\"style\",\n\t\t\t`transform: translate(${labelCoordinates.x}px, ${labelCoordinates.y}px);`\n\t\t);\n\t};\n\n\t/**\n\t * Smart routing is only applicable when all conditions below are true:\n\t * - smart routing is set to true on the engine\n\t * - current link is between two nodes (not between a node and an empty point)\n\t * - no custom points exist along the line\n\t */\n\tisSmartRoutingApplicable(): boolean {\n\t\tconst { diagramEngine, link } = this.props;\n\n\t\tif (!diagramEngine.isSmartRoutingEnabled()) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (link.points.length !== 2) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif (link.sourcePort === null || link.targetPort === null) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\trender() {\n\t\tconst { diagramEngine } = this.props;\n\t\tif (!diagramEngine.nodesRendered) {\n\t\t\treturn null;\n\t\t}\n\n\t\t//ensure id is present for all points on the path\n\t\tvar points = this.props.link.points;\n\t\tvar paths = [];\n\n\t\tif (this.isSmartRoutingApplicable()) {\n\t\t\t// first step: calculate a direct path between the points being linked\n\t\t\tconst directPathCoords = this.pathFinding.calculateDirectPath(first(points), last(points));\n\n\t\t\tconst routingMatrix = diagramEngine.getRoutingMatrix();\n\t\t\t// now we need to extract, from the routing matrix, the very first walkable points\n\t\t\t// so they can be used as origin and destination of the link to be created\n\t\t\tconst smartLink = this.pathFinding.calculateLinkStartEndCoords(routingMatrix, directPathCoords);\n\n\t\t\tif (smartLink) {\n\t\t\t\tconst { start, end, pathToStart, pathToEnd } = smartLink;\n\n\t\t\t\t// second step: calculate a path avoiding hitting other elements\n\t\t\t\tconst simplifiedPath = this.pathFinding.calculateDynamicPath(\n\t\t\t\t\troutingMatrix,\n\t\t\t\t\tstart,\n\t\t\t\t\tend,\n\t\t\t\t\tpathToStart,\n\t\t\t\t\tpathToEnd\n\t\t\t\t);\n\n\t\t\t\tpaths.push(\n\t\t\t\t\t//smooth: boolean, extraProps: any, id: string | number, firstPoint: PointModel, lastPoint: PointModel\n\t\t\t\t\tthis.generateLink(\n\t\t\t\t\t\tToolkit.generateDynamicPath(simplifiedPath),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tonMouseDown: event => {\n\t\t\t\t\t\t\t\tthis.addPointToLink(event, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"0\"\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\t// true when smart routing was skipped or not enabled.\n\t\t// See @link{#isSmartRoutingApplicable()}.\n\t\tif (paths.length === 0) {\n\t\t\tif (points.length === 2) {\n\t\t\t\tvar isHorizontal = Math.abs(points[0].x - points[1].x) > Math.abs(points[0].y - points[1].y);\n\t\t\t\tvar xOrY = isHorizontal ? \"x\" : \"y\";\n\n\t\t\t\t//draw the smoothing\n\t\t\t\t//if the points are too close, just draw a straight line\n\t\t\t\tvar margin = 50;\n\t\t\t\tif (Math.abs(points[0][xOrY] - points[1][xOrY]) < 50) {\n\t\t\t\t\tmargin = 5;\n\t\t\t\t}\n\n\t\t\t\tvar pointLeft = points[0];\n\t\t\t\tvar pointRight = points[1];\n\n\t\t\t\t//some defensive programming to make sure the smoothing is\n\t\t\t\t//always in the right direction\n\t\t\t\tif (pointLeft[xOrY] > pointRight[xOrY]) {\n\t\t\t\t\tpointLeft = points[1];\n\t\t\t\t\tpointRight = points[0];\n\t\t\t\t}\n\n\t\t\t\tpaths.push(\n\t\t\t\t\tthis.generateLink(\n\t\t\t\t\t\tToolkit.generateCurvePath(pointLeft, pointRight, this.props.link.curvyness),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tonMouseDown: event => {\n\t\t\t\t\t\t\t\tthis.addPointToLink(event, 1);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"0\"\n\t\t\t\t\t)\n\t\t\t\t);\n\n\t\t\t\t// draw the link as dangeling\n\t\t\t\tif (this.props.link.targetPort === null) {\n\t\t\t\t\tpaths.push(this.generatePoint(1));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t//draw the multiple anchors and complex line instead\n\t\t\t\tfor (let j = 0; j < points.length - 1; j++) {\n\t\t\t\t\tpaths.push(\n\t\t\t\t\t\tthis.generateLink(\n\t\t\t\t\t\t\tToolkit.generateLinePath(points[j], points[j + 1]),\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"data-linkid\": this.props.link.id,\n\t\t\t\t\t\t\t\t\"data-point\": j,\n\t\t\t\t\t\t\t\tonMouseDown: (event: MouseEvent) => {\n\t\t\t\t\t\t\t\t\tthis.addPointToLink(event, j + 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tj\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t//render the circles\n\t\t\t\tfor (var i = 1; i < points.length - 1; i++) {\n\t\t\t\t\tpaths.push(this.generatePoint(i));\n\t\t\t\t}\n\n\t\t\t\tif (this.props.link.targetPort === null) {\n\t\t\t\t\tpaths.push(this.generatePoint(points.length - 1));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.refPaths = [];\n\t\treturn (\n\t\t\t<g {...this.getProps()}>\n\t\t\t\t{paths}\n\t\t\t\t{map(this.props.link.labels, labelModel => {\n\t\t\t\t\treturn this.generateLabel(labelModel);\n\t\t\t\t})}\n\t\t\t</g>\n\t\t);\n\t}\n}\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","import { LinkModel } from \"../models/LinkModel\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { AbstractFactory } from \"./AbstractFactory\";\n\nexport abstract class AbstractLinkFactory<T extends LinkModel = LinkModel> extends AbstractFactory<T> {\n\tabstract generateReactWidget(diagramEngine: DiagramEngine, link: T): JSX.Element;\n}\n","import * as React from \"react\";\nimport map from \"lodash/map\";\n\nimport { DefaultNodeModel } from \"../models/DefaultNodeModel\";\nimport { DefaultPortLabel } from \"./DefaultPortLabelWidget\";\nimport { DiagramEngine } from \"../../DiagramEngine\";\nimport { BaseWidget, BaseWidgetProps } from \"../../widgets/BaseWidget\";\n\nexport interface DefaultNodeProps extends BaseWidgetProps {\n\tnode: DefaultNodeModel;\n\tdiagramEngine: DiagramEngine;\n}\n\nexport interface DefaultNodeState {}\n\n/**\n * @author Dylan Vorster\n */\nexport class DefaultNodeWidget extends BaseWidget<DefaultNodeProps, DefaultNodeState> {\n\tconstructor(props: DefaultNodeProps) {\n\t\tsuper(\"srd-default-node\", props);\n\t\tthis.state = {};\n\t}\n\n\tgeneratePort(port) {\n\t\treturn <DefaultPortLabel model={port} key={port.id} />;\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div {...this.getProps()} style={{ background: this.props.node.color }}>\n\t\t\t\t<div className={this.bem(\"__title\")}>\n\t\t\t\t\t<div className={this.bem(\"__name\")}>{this.props.node.name}</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={this.bem(\"__ports\")}>\n\t\t\t\t\t<div className={this.bem(\"__in\")}>\n\t\t\t\t\t\t{map(this.props.node.getInPorts(), this.generatePort.bind(this))}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={this.bem(\"__out\")}>\n\t\t\t\t\t\t{map(this.props.node.getOutPorts(), this.generatePort.bind(this))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import * as React from \"react\";\nimport { DefaultPortModel } from \"../models/DefaultPortModel\";\nimport { PortWidget } from \"../../widgets/PortWidget\";\nimport { BaseWidget, BaseWidgetProps } from \"../../widgets/BaseWidget\";\n\nexport interface DefaultPortLabelProps extends BaseWidgetProps {\n\tmodel: DefaultPortModel;\n}\n\nexport interface DefaultPortLabelState {}\n\n/**\n * @author Dylan Vorster\n */\nexport class DefaultPortLabel extends BaseWidget<DefaultPortLabelProps, DefaultPortLabelState> {\n\tconstructor(props) {\n\t\tsuper(\"srd-default-port\", props);\n\t}\n\n\tgetClassName() {\n\t\treturn super.getClassName() + (this.props.model.in ? this.bem(\"--in\") : this.bem(\"--out\"));\n\t}\n\n\trender() {\n\t\tvar port = <PortWidget node={this.props.model.getParent()} name={this.props.model.name} />;\n\t\tvar label = <div className=\"name\">{this.props.model.label}</div>;\n\n\t\treturn (\n\t\t\t<div {...this.getProps()}>\n\t\t\t\t{this.props.model.in ? port : label}\n\t\t\t\t{this.props.model.in ? label : port}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import * as React from \"react\";\nimport { NodeModel } from \"../models/NodeModel\";\nimport { BaseWidget, BaseWidgetProps } from \"./BaseWidget\";\n\nexport interface PortProps extends BaseWidgetProps {\n\tname: string;\n\tnode: NodeModel;\n}\n\nexport interface PortState {\n\tselected: boolean;\n}\n\n/**\n * @author Dylan Vorster\n */\nexport class PortWidget extends BaseWidget<PortProps, PortState> {\n\tconstructor(props: PortProps) {\n\t\tsuper(\"srd-port\", props);\n\t\tthis.state = {\n\t\t\tselected: false\n\t\t};\n\t}\n\n\tgetClassName() {\n\t\treturn \"port \" + super.getClassName() + (this.state.selected ? this.bem(\"--selected\") : \"\");\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...this.getProps()}\n\t\t\t\tonMouseEnter={() => {\n\t\t\t\t\tthis.setState({ selected: true });\n\t\t\t\t}}\n\t\t\t\tonMouseLeave={() => {\n\t\t\t\t\tthis.setState({ selected: false });\n\t\t\t\t}}\n\t\t\t\tdata-name={this.props.name}\n\t\t\t\tdata-nodeid={this.props.node.getID()}\n\t\t\t/>\n\t\t);\n\t}\n}\n","import { NodeModel } from \"../models/NodeModel\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { AbstractFactory } from \"./AbstractFactory\";\n\nexport abstract class AbstractNodeFactory<T extends NodeModel = NodeModel> extends AbstractFactory<T> {\n\tabstract generateReactWidget(diagramEngine: DiagramEngine, node: T): JSX.Element;\n}\n","import { BaseAction } from \"./BaseAction\";\nimport { DiagramModel } from \"../models/DiagramModel\";\n\nexport class MoveCanvasAction extends BaseAction {\n\tinitialOffsetX: number;\n\tinitialOffsetY: number;\n\n\tconstructor(mouseX: number, mouseY: number, diagramModel: DiagramModel) {\n\t\tsuper(mouseX, mouseY);\n\t\tthis.initialOffsetX = diagramModel.getOffsetX();\n\t\tthis.initialOffsetY = diagramModel.getOffsetY();\n\t}\n}\n","import { BaseAction } from \"./BaseAction\";\nimport { SelectionModel } from \"../models/SelectionModel\";\nimport { PointModel } from \"../models/PointModel\";\nimport { NodeModel } from \"../models/NodeModel\";\nimport { DiagramEngine } from \"../DiagramEngine\";\n\nexport class MoveItemsAction extends BaseAction {\n\tselectionModels: SelectionModel[];\n\tmoved: boolean;\n\n\tconstructor(mouseX: number, mouseY: number, diagramEngine: DiagramEngine) {\n\t\tsuper(mouseX, mouseY);\n\t\tthis.moved = false;\n\t\tdiagramEngine.enableRepaintEntities(diagramEngine.getDiagramModel().getSelectedItems());\n\t\tvar selectedItems = diagramEngine.getDiagramModel().getSelectedItems();\n\n\t\t//dont allow items which are locked to move\n\t\tselectedItems = selectedItems.filter(item => {\n\t\t\treturn !diagramEngine.isModelLocked(item);\n\t\t});\n\n\t\tthis.selectionModels = selectedItems.map((item: PointModel | NodeModel) => {\n\t\t\treturn {\n\t\t\t\tmodel: item,\n\t\t\t\tinitialX: item.x,\n\t\t\t\tinitialY: item.y\n\t\t\t};\n\t\t});\n\t}\n}\n","import { BaseAction } from \"./BaseAction\";\nimport { DiagramModel } from \"../models/DiagramModel\";\n\nexport class SelectingAction extends BaseAction {\n\tmouseX2: number;\n\tmouseY2: number;\n\n\tconstructor(mouseX: number, mouseY: number) {\n\t\tsuper(mouseX, mouseY);\n\t\tthis.mouseX2 = mouseX;\n\t\tthis.mouseY2 = mouseY;\n\t}\n\n\tgetBoxDimensions() {\n\t\treturn {\n\t\t\tleft: this.mouseX2 > this.mouseX ? this.mouseX : this.mouseX2,\n\t\t\ttop: this.mouseY2 > this.mouseY ? this.mouseY : this.mouseY2,\n\t\t\twidth: Math.abs(this.mouseX2 - this.mouseX),\n\t\t\theight: Math.abs(this.mouseY2 - this.mouseY),\n\t\t\tright: this.mouseX2 < this.mouseX ? this.mouseX : this.mouseX2,\n\t\t\tbottom: this.mouseY2 < this.mouseY ? this.mouseY : this.mouseY2\n\t\t};\n\t}\n\n\tcontainsElement(x: number, y: number, diagramModel: DiagramModel): boolean {\n\t\tvar z = diagramModel.getZoomLevel() / 100.0;\n\t\tlet dimensions = this.getBoxDimensions();\n\n\t\treturn (\n\t\t\tx * z + diagramModel.getOffsetX() > dimensions.left &&\n\t\t\tx * z + diagramModel.getOffsetX() < dimensions.right &&\n\t\t\ty * z + diagramModel.getOffsetY() > dimensions.top &&\n\t\t\ty * z + diagramModel.getOffsetY() < dimensions.bottom\n\t\t);\n\t}\n}\n","import * as React from \"react\";\nimport { DiagramEngine } from \"../../DiagramEngine\";\nimport { LinkWidget } from \"../LinkWidget\";\nimport last from \"lodash/last\";\nimport map from \"lodash/map\";\nimport { PointModel } from \"../../models/PointModel\";\nimport { BaseWidget, BaseWidgetProps } from \"../BaseWidget\";\n\nexport interface LinkLayerProps extends BaseWidgetProps {\n\tdiagramEngine: DiagramEngine;\n\tpointAdded: (point: PointModel, event: MouseEvent) => any;\n}\n\nexport interface LinkLayerState {}\n\n/**\n * @author Dylan Vorster\n */\nexport class LinkLayerWidget extends BaseWidget<LinkLayerProps, LinkLayerState> {\n\tconstructor(props: LinkLayerProps) {\n\t\tsuper(\"srd-link-layer\", props);\n\t\tthis.state = {};\n\t}\n\n\trender() {\n\t\tvar diagramModel = this.props.diagramEngine.getDiagramModel();\n\t\treturn (\n\t\t\t<svg\n\t\t\t\t{...this.getProps()}\n\t\t\t\tstyle={{\n\t\t\t\t\ttransform:\n\t\t\t\t\t\t\"translate(\" +\n\t\t\t\t\t\tdiagramModel.getOffsetX() +\n\t\t\t\t\t\t\"px,\" +\n\t\t\t\t\t\tdiagramModel.getOffsetY() +\n\t\t\t\t\t\t\"px) scale(\" +\n\t\t\t\t\t\tdiagramModel.getZoomLevel() / 100.0 +\n\t\t\t\t\t\t\")\"\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{//only perform these actions when we have a diagram\n\t\t\t\tthis.props.diagramEngine.canvas &&\n\t\t\t\t\tmap(diagramModel.getLinks(), link => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tthis.props.diagramEngine.nodesRendered &&\n\t\t\t\t\t\t\t!this.props.diagramEngine.linksThatHaveInitiallyRendered[link.id]\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (link.sourcePort !== null) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tconst portCenter = this.props.diagramEngine.getPortCenter(link.sourcePort);\n\t\t\t\t\t\t\t\t\tlink.points[0].updateLocation(portCenter);\n\n\t\t\t\t\t\t\t\t\tconst portCoords = this.props.diagramEngine.getPortCoords(link.sourcePort);\n\t\t\t\t\t\t\t\t\tlink.sourcePort.updateCoords(portCoords);\n\n\t\t\t\t\t\t\t\t\tthis.props.diagramEngine.linksThatHaveInitiallyRendered[link.id] = true;\n\t\t\t\t\t\t\t\t} catch (ignore) {\n\t\t\t\t\t\t\t\t\t/*noop*/\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (link.targetPort !== null) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tconst portCenter = this.props.diagramEngine.getPortCenter(link.targetPort);\n\t\t\t\t\t\t\t\t\tlast(link.points).updateLocation(portCenter);\n\n\t\t\t\t\t\t\t\t\tconst portCoords = this.props.diagramEngine.getPortCoords(link.targetPort);\n\t\t\t\t\t\t\t\t\tlink.targetPort.updateCoords(portCoords);\n\n\t\t\t\t\t\t\t\t\tthis.props.diagramEngine.linksThatHaveInitiallyRendered[link.id] = true;\n\t\t\t\t\t\t\t\t} catch (ignore) {\n\t\t\t\t\t\t\t\t\t/*noop*/\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//generate links\n\t\t\t\t\t\tvar generatedLink = this.props.diagramEngine.generateWidgetForLink(link);\n\t\t\t\t\t\tif (!generatedLink) {\n\t\t\t\t\t\t\tthrow new Error(`no link generated for type: ${link.getType()}`);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<LinkWidget key={link.getID()} link={link} diagramEngine={this.props.diagramEngine}>\n\t\t\t\t\t\t\t\t{React.cloneElement(generatedLink, {\n\t\t\t\t\t\t\t\t\tpointAdded: this.props.pointAdded\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</LinkWidget>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t</svg>\n\t\t);\n\t}\n}\n","import * as React from \"react\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { LinkModel } from \"../models/LinkModel\";\nimport { BaseWidget, BaseWidgetProps } from \"./BaseWidget\";\n\nexport interface LinkProps extends BaseWidgetProps {\n\tlink: LinkModel;\n\tdiagramEngine: DiagramEngine;\n\tchildren?: any;\n}\n\nexport interface LinkState {}\n\n/**\n * @author Dylan Vorster\n */\nexport class LinkWidget extends BaseWidget<LinkProps, LinkState> {\n\tconstructor(props: LinkProps) {\n\t\tsuper(\"srd-link\", props);\n\t\tthis.state = {};\n\t}\n\n\tshouldComponentUpdate() {\n\t\treturn this.props.diagramEngine.canEntityRepaint(this.props.link);\n\t}\n\n\trender() {\n\t\treturn this.props.children;\n\t}\n}\n","import * as React from \"react\";\nimport { DiagramEngine } from \"../../DiagramEngine\";\nimport map from \"lodash/map\";\nimport { NodeWidget } from \"../NodeWidget\";\nimport { NodeModel } from \"../../models/NodeModel\";\nimport { BaseWidget, BaseWidgetProps } from \"../BaseWidget\";\n\nexport interface NodeLayerProps extends BaseWidgetProps {\n\tdiagramEngine: DiagramEngine;\n}\n\nexport interface NodeLayerState {}\n\nexport class NodeLayerWidget extends BaseWidget<NodeLayerProps, NodeLayerState> {\n\tconstructor(props: NodeLayerProps) {\n\t\tsuper(\"srd-node-layer\", props);\n\t\tthis.state = {};\n\t}\n\n\tupdateNodeDimensions = () => {\n\t\tif (!this.props.diagramEngine.nodesRendered) {\n\t\t\tconst diagramModel = this.props.diagramEngine.getDiagramModel();\n\t\t\tmap(diagramModel.getNodes(), node => {\n\t\t\t\tnode.updateDimensions(this.props.diagramEngine.getNodeDimensions(node));\n\t\t\t});\n\t\t}\n\t};\n\n\tcomponentDidUpdate() {\n\t\tthis.updateNodeDimensions();\n\t\tthis.props.diagramEngine.nodesRendered = true;\n\t}\n\n\trender() {\n\t\tvar diagramModel = this.props.diagramEngine.getDiagramModel();\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...this.getProps()}\n\t\t\t\tstyle={{\n\t\t\t\t\ttransform:\n\t\t\t\t\t\t\"translate(\" +\n\t\t\t\t\t\tdiagramModel.getOffsetX() +\n\t\t\t\t\t\t\"px,\" +\n\t\t\t\t\t\tdiagramModel.getOffsetY() +\n\t\t\t\t\t\t\"px) scale(\" +\n\t\t\t\t\t\tdiagramModel.getZoomLevel() / 100.0 +\n\t\t\t\t\t\t\")\"\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{map(diagramModel.getNodes(), (node: NodeModel) => {\n\t\t\t\t\treturn React.createElement(\n\t\t\t\t\t\tNodeWidget,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdiagramEngine: this.props.diagramEngine,\n\t\t\t\t\t\t\tkey: node.id,\n\t\t\t\t\t\t\tnode: node\n\t\t\t\t\t\t},\n\t\t\t\t\t\tthis.props.diagramEngine.generateWidgetForNode(node)\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","import * as React from \"react\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { NodeModel } from \"../models/NodeModel\";\nimport { Toolkit } from \"../Toolkit\";\nimport { BaseWidget, BaseWidgetProps } from \"./BaseWidget\";\n\nexport interface NodeProps extends BaseWidgetProps {\n\tnode: NodeModel;\n\tchildren?: any;\n\tdiagramEngine: DiagramEngine;\n}\n\nexport interface NodeState {}\n\n/**\n * @author Dylan Vorster\n */\nexport class NodeWidget extends BaseWidget<NodeProps, NodeState> {\n\tconstructor(props: NodeProps) {\n\t\tsuper(\"srd-node\", props);\n\t\tthis.state = {};\n\t}\n\n\tshouldComponentUpdate() {\n\t\treturn this.props.diagramEngine.canEntityRepaint(this.props.node);\n\t}\n\n\tgetClassName() {\n\t\treturn \"node \" + super.getClassName() + (this.props.node.isSelected() ? this.bem(\"--selected\") : \"\");\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...this.getProps()}\n\t\t\t\tdata-nodeid={this.props.node.id}\n\t\t\t\tstyle={{\n\t\t\t\t\ttop: this.props.node.y,\n\t\t\t\t\tleft: this.props.node.x\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","var matches = require('matches-selector')\r\n\r\nmodule.exports = function (element, selector, checkYoSelf) {\r\n  var parent = checkYoSelf ? element : element.parentNode\r\n\r\n  while (parent && parent !== document) {\r\n    if (matches(parent, selector)) return parent;\r\n    parent = parent.parentNode\r\n  }\r\n}\r\n","\r\n/**\r\n * Element prototype.\r\n */\r\n\r\nvar proto = Element.prototype;\r\n\r\n/**\r\n * Vendor function.\r\n */\r\n\r\nvar vendor = proto.matchesSelector\r\n  || proto.webkitMatchesSelector\r\n  || proto.mozMatchesSelector\r\n  || proto.msMatchesSelector\r\n  || proto.oMatchesSelector;\r\n\r\n/**\r\n * Expose `match()`.\r\n */\r\n\r\nmodule.exports = match;\r\n\r\n/**\r\n * Match `el` to `selector`.\r\n *\r\n * @param {Element} el\r\n * @param {String} selector\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nfunction match(el, selector) {\r\n  if (vendor) return vendor.call(el, selector);\r\n  var nodes = el.parentNode.querySelectorAll(selector);\r\n  for (var i = 0; i < nodes.length; ++i) {\r\n    if (nodes[i] == el) return true;\r\n  }\r\n  return false;\r\n}","module.exports = require('./src/PathFinding');\r\n","module.exports = {\r\n    'Heap'                      : require('heap'),\r\n    'Node'                      : require('./core/Node'),\r\n    'Grid'                      : require('./core/Grid'),\r\n    'Util'                      : require('./core/Util'),\r\n    'DiagonalMovement'          : require('./core/DiagonalMovement'),\r\n    'Heuristic'                 : require('./core/Heuristic'),\r\n    'AStarFinder'               : require('./finders/AStarFinder'),\r\n    'BestFirstFinder'           : require('./finders/BestFirstFinder'),\r\n    'BreadthFirstFinder'        : require('./finders/BreadthFirstFinder'),\r\n    'DijkstraFinder'            : require('./finders/DijkstraFinder'),\r\n    'BiAStarFinder'             : require('./finders/BiAStarFinder'),\r\n    'BiBestFirstFinder'         : require('./finders/BiBestFirstFinder'),\r\n    'BiBreadthFirstFinder'      : require('./finders/BiBreadthFirstFinder'),\r\n    'BiDijkstraFinder'          : require('./finders/BiDijkstraFinder'),\r\n    'IDAStarFinder'             : require('./finders/IDAStarFinder'),\r\n    'JumpPointFinder'           : require('./finders/JumpPointFinder'),\r\n};\r\n","// Generated by CoffeeScript 1.8.0\n(function() {\n  var Heap, defaultCmp, floor, heapify, heappop, heappush, heappushpop, heapreplace, insort, min, nlargest, nsmallest, updateItem, _siftdown, _siftup;\n\n  floor = Math.floor, min = Math.min;\n\n\n  /*\n  Default comparison function to be used\n   */\n\n  defaultCmp = function(x, y) {\n    if (x < y) {\n      return -1;\n    }\n    if (x > y) {\n      return 1;\n    }\n    return 0;\n  };\n\n\n  /*\n  Insert item x in list a, and keep it sorted assuming a is sorted.\n  \n  If x is already in a, insert it to the right of the rightmost x.\n  \n  Optional args lo (default 0) and hi (default a.length) bound the slice\n  of a to be searched.\n   */\n\n  insort = function(a, x, lo, hi, cmp) {\n    var mid;\n    if (lo == null) {\n      lo = 0;\n    }\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (lo < 0) {\n      throw new Error('lo must be non-negative');\n    }\n    if (hi == null) {\n      hi = a.length;\n    }\n    while (lo < hi) {\n      mid = floor((lo + hi) / 2);\n      if (cmp(x, a[mid]) < 0) {\n        hi = mid;\n      } else {\n        lo = mid + 1;\n      }\n    }\n    return ([].splice.apply(a, [lo, lo - lo].concat(x)), x);\n  };\n\n\n  /*\n  Push item onto heap, maintaining the heap invariant.\n   */\n\n  heappush = function(array, item, cmp) {\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    array.push(item);\n    return _siftdown(array, 0, array.length - 1, cmp);\n  };\n\n\n  /*\n  Pop the smallest item off the heap, maintaining the heap invariant.\n   */\n\n  heappop = function(array, cmp) {\n    var lastelt, returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    lastelt = array.pop();\n    if (array.length) {\n      returnitem = array[0];\n      array[0] = lastelt;\n      _siftup(array, 0, cmp);\n    } else {\n      returnitem = lastelt;\n    }\n    return returnitem;\n  };\n\n\n  /*\n  Pop and return the current smallest value, and add the new item.\n  \n  This is more efficient than heappop() followed by heappush(), and can be\n  more appropriate when using a fixed size heap. Note that the value\n  returned may be larger than item! That constrains reasonable use of\n  this routine unless written as part of a conditional replacement:\n      if item > array[0]\n        item = heapreplace(array, item)\n   */\n\n  heapreplace = function(array, item, cmp) {\n    var returnitem;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    returnitem = array[0];\n    array[0] = item;\n    _siftup(array, 0, cmp);\n    return returnitem;\n  };\n\n\n  /*\n  Fast version of a heappush followed by a heappop.\n   */\n\n  heappushpop = function(array, item, cmp) {\n    var _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (array.length && cmp(array[0], item) < 0) {\n      _ref = [array[0], item], item = _ref[0], array[0] = _ref[1];\n      _siftup(array, 0, cmp);\n    }\n    return item;\n  };\n\n\n  /*\n  Transform list into a heap, in-place, in O(array.length) time.\n   */\n\n  heapify = function(array, cmp) {\n    var i, _i, _j, _len, _ref, _ref1, _results, _results1;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    _ref1 = (function() {\n      _results1 = [];\n      for (var _j = 0, _ref = floor(array.length / 2); 0 <= _ref ? _j < _ref : _j > _ref; 0 <= _ref ? _j++ : _j--){ _results1.push(_j); }\n      return _results1;\n    }).apply(this).reverse();\n    _results = [];\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      i = _ref1[_i];\n      _results.push(_siftup(array, i, cmp));\n    }\n    return _results;\n  };\n\n\n  /*\n  Update the position of the given item in the heap.\n  This function should be called every time the item is being modified.\n   */\n\n  updateItem = function(array, item, cmp) {\n    var pos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    pos = array.indexOf(item);\n    if (pos === -1) {\n      return;\n    }\n    _siftdown(array, 0, pos, cmp);\n    return _siftup(array, pos, cmp);\n  };\n\n\n  /*\n  Find the n largest elements in a dataset.\n   */\n\n  nlargest = function(array, n, cmp) {\n    var elem, result, _i, _len, _ref;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    result = array.slice(0, n);\n    if (!result.length) {\n      return result;\n    }\n    heapify(result, cmp);\n    _ref = array.slice(n);\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      elem = _ref[_i];\n      heappushpop(result, elem, cmp);\n    }\n    return result.sort(cmp).reverse();\n  };\n\n\n  /*\n  Find the n smallest elements in a dataset.\n   */\n\n  nsmallest = function(array, n, cmp) {\n    var elem, i, los, result, _i, _j, _len, _ref, _ref1, _results;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    if (n * 10 <= array.length) {\n      result = array.slice(0, n).sort(cmp);\n      if (!result.length) {\n        return result;\n      }\n      los = result[result.length - 1];\n      _ref = array.slice(n);\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elem = _ref[_i];\n        if (cmp(elem, los) < 0) {\n          insort(result, elem, 0, null, cmp);\n          result.pop();\n          los = result[result.length - 1];\n        }\n      }\n      return result;\n    }\n    heapify(array, cmp);\n    _results = [];\n    for (i = _j = 0, _ref1 = min(n, array.length); 0 <= _ref1 ? _j < _ref1 : _j > _ref1; i = 0 <= _ref1 ? ++_j : --_j) {\n      _results.push(heappop(array, cmp));\n    }\n    return _results;\n  };\n\n  _siftdown = function(array, startpos, pos, cmp) {\n    var newitem, parent, parentpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    newitem = array[pos];\n    while (pos > startpos) {\n      parentpos = (pos - 1) >> 1;\n      parent = array[parentpos];\n      if (cmp(newitem, parent) < 0) {\n        array[pos] = parent;\n        pos = parentpos;\n        continue;\n      }\n      break;\n    }\n    return array[pos] = newitem;\n  };\n\n  _siftup = function(array, pos, cmp) {\n    var childpos, endpos, newitem, rightpos, startpos;\n    if (cmp == null) {\n      cmp = defaultCmp;\n    }\n    endpos = array.length;\n    startpos = pos;\n    newitem = array[pos];\n    childpos = 2 * pos + 1;\n    while (childpos < endpos) {\n      rightpos = childpos + 1;\n      if (rightpos < endpos && !(cmp(array[childpos], array[rightpos]) < 0)) {\n        childpos = rightpos;\n      }\n      array[pos] = array[childpos];\n      pos = childpos;\n      childpos = 2 * pos + 1;\n    }\n    array[pos] = newitem;\n    return _siftdown(array, startpos, pos, cmp);\n  };\n\n  Heap = (function() {\n    Heap.push = heappush;\n\n    Heap.pop = heappop;\n\n    Heap.replace = heapreplace;\n\n    Heap.pushpop = heappushpop;\n\n    Heap.heapify = heapify;\n\n    Heap.updateItem = updateItem;\n\n    Heap.nlargest = nlargest;\n\n    Heap.nsmallest = nsmallest;\n\n    function Heap(cmp) {\n      this.cmp = cmp != null ? cmp : defaultCmp;\n      this.nodes = [];\n    }\n\n    Heap.prototype.push = function(x) {\n      return heappush(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pop = function() {\n      return heappop(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.peek = function() {\n      return this.nodes[0];\n    };\n\n    Heap.prototype.contains = function(x) {\n      return this.nodes.indexOf(x) !== -1;\n    };\n\n    Heap.prototype.replace = function(x) {\n      return heapreplace(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.pushpop = function(x) {\n      return heappushpop(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.heapify = function() {\n      return heapify(this.nodes, this.cmp);\n    };\n\n    Heap.prototype.updateItem = function(x) {\n      return updateItem(this.nodes, x, this.cmp);\n    };\n\n    Heap.prototype.clear = function() {\n      return this.nodes = [];\n    };\n\n    Heap.prototype.empty = function() {\n      return this.nodes.length === 0;\n    };\n\n    Heap.prototype.size = function() {\n      return this.nodes.length;\n    };\n\n    Heap.prototype.clone = function() {\n      var heap;\n      heap = new Heap();\n      heap.nodes = this.nodes.slice(0);\n      return heap;\n    };\n\n    Heap.prototype.toArray = function() {\n      return this.nodes.slice(0);\n    };\n\n    Heap.prototype.insert = Heap.prototype.push;\n\n    Heap.prototype.top = Heap.prototype.peek;\n\n    Heap.prototype.front = Heap.prototype.peek;\n\n    Heap.prototype.has = Heap.prototype.contains;\n\n    Heap.prototype.copy = Heap.prototype.clone;\n\n    return Heap;\n\n  })();\n\n  if (typeof module !== \"undefined\" && module !== null ? module.exports : void 0) {\n    module.exports = Heap;\n  } else {\n    window.Heap = Heap;\n  }\n\n}).call(this);\n","var Node = require('./Node');\r\nvar DiagonalMovement = require('./DiagonalMovement');\r\n\r\n/**\r\n * The Grid class, which serves as the encapsulation of the layout of the nodes.\r\n * @constructor\r\n * @param {number|Array<Array<(number|boolean)>>} width_or_matrix Number of columns of the grid, or matrix\r\n * @param {number} height Number of rows of the grid.\r\n * @param {Array<Array<(number|boolean)>>} [matrix] - A 0-1 matrix\r\n *     representing the walkable status of the nodes(0 or false for walkable).\r\n *     If the matrix is not supplied, all the nodes will be walkable.  */\r\nfunction Grid(width_or_matrix, height, matrix) {\r\n    var width;\r\n\r\n    if (typeof width_or_matrix !== 'object') {\r\n        width = width_or_matrix;\r\n    } else {\r\n        height = width_or_matrix.length;\r\n        width = width_or_matrix[0].length;\r\n        matrix = width_or_matrix;\r\n    }\r\n\r\n    /**\r\n     * The number of columns of the grid.\r\n     * @type number\r\n     */\r\n    this.width = width;\r\n    /**\r\n     * The number of rows of the grid.\r\n     * @type number\r\n     */\r\n    this.height = height;\r\n\r\n    /**\r\n     * A 2D array of nodes.\r\n     */\r\n    this.nodes = this._buildNodes(width, height, matrix);\r\n}\r\n\r\n/**\r\n * Build and return the nodes.\r\n * @private\r\n * @param {number} width\r\n * @param {number} height\r\n * @param {Array<Array<number|boolean>>} [matrix] - A 0-1 matrix representing\r\n *     the walkable status of the nodes.\r\n * @see Grid\r\n */\r\nGrid.prototype._buildNodes = function(width, height, matrix) {\r\n    var i, j,\r\n        nodes = new Array(height);\r\n\r\n    for (i = 0; i < height; ++i) {\r\n        nodes[i] = new Array(width);\r\n        for (j = 0; j < width; ++j) {\r\n            nodes[i][j] = new Node(j, i);\r\n        }\r\n    }\r\n\r\n\r\n    if (matrix === undefined) {\r\n        return nodes;\r\n    }\r\n\r\n    if (matrix.length !== height || matrix[0].length !== width) {\r\n        throw new Error('Matrix size does not fit');\r\n    }\r\n\r\n    for (i = 0; i < height; ++i) {\r\n        for (j = 0; j < width; ++j) {\r\n            if (matrix[i][j]) {\r\n                // 0, false, null will be walkable\r\n                // while others will be un-walkable\r\n                nodes[i][j].walkable = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    return nodes;\r\n};\r\n\r\n\r\nGrid.prototype.getNodeAt = function(x, y) {\r\n    return this.nodes[y][x];\r\n};\r\n\r\n\r\n/**\r\n * Determine whether the node at the given position is walkable.\r\n * (Also returns false if the position is outside the grid.)\r\n * @param {number} x - The x coordinate of the node.\r\n * @param {number} y - The y coordinate of the node.\r\n * @return {boolean} - The walkability of the node.\r\n */\r\nGrid.prototype.isWalkableAt = function(x, y) {\r\n    return this.isInside(x, y) && this.nodes[y][x].walkable;\r\n};\r\n\r\n\r\n/**\r\n * Determine whether the position is inside the grid.\r\n * XXX: `grid.isInside(x, y)` is wierd to read.\r\n * It should be `(x, y) is inside grid`, but I failed to find a better\r\n * name for this method.\r\n * @param {number} x\r\n * @param {number} y\r\n * @return {boolean}\r\n */\r\nGrid.prototype.isInside = function(x, y) {\r\n    return (x >= 0 && x < this.width) && (y >= 0 && y < this.height);\r\n};\r\n\r\n\r\n/**\r\n * Set whether the node on the given position is walkable.\r\n * NOTE: throws exception if the coordinate is not inside the grid.\r\n * @param {number} x - The x coordinate of the node.\r\n * @param {number} y - The y coordinate of the node.\r\n * @param {boolean} walkable - Whether the position is walkable.\r\n */\r\nGrid.prototype.setWalkableAt = function(x, y, walkable) {\r\n    this.nodes[y][x].walkable = walkable;\r\n};\r\n\r\n\r\n/**\r\n * Get the neighbors of the given node.\r\n *\r\n *     offsets      diagonalOffsets:\r\n *  +---+---+---+    +---+---+---+\r\n *  |   | 0 |   |    | 0 |   | 1 |\r\n *  +---+---+---+    +---+---+---+\r\n *  | 3 |   | 1 |    |   |   |   |\r\n *  +---+---+---+    +---+---+---+\r\n *  |   | 2 |   |    | 3 |   | 2 |\r\n *  +---+---+---+    +---+---+---+\r\n *\r\n *  When allowDiagonal is true, if offsets[i] is valid, then\r\n *  diagonalOffsets[i] and\r\n *  diagonalOffsets[(i + 1) % 4] is valid.\r\n * @param {Node} node\r\n * @param {DiagonalMovement} diagonalMovement\r\n */\r\nGrid.prototype.getNeighbors = function(node, diagonalMovement) {\r\n    var x = node.x,\r\n        y = node.y,\r\n        neighbors = [],\r\n        s0 = false, d0 = false,\r\n        s1 = false, d1 = false,\r\n        s2 = false, d2 = false,\r\n        s3 = false, d3 = false,\r\n        nodes = this.nodes;\r\n\r\n    // \r\n    if (this.isWalkableAt(x, y - 1)) {\r\n        neighbors.push(nodes[y - 1][x]);\r\n        s0 = true;\r\n    }\r\n    // \r\n    if (this.isWalkableAt(x + 1, y)) {\r\n        neighbors.push(nodes[y][x + 1]);\r\n        s1 = true;\r\n    }\r\n    // \r\n    if (this.isWalkableAt(x, y + 1)) {\r\n        neighbors.push(nodes[y + 1][x]);\r\n        s2 = true;\r\n    }\r\n    // \r\n    if (this.isWalkableAt(x - 1, y)) {\r\n        neighbors.push(nodes[y][x - 1]);\r\n        s3 = true;\r\n    }\r\n\r\n    if (diagonalMovement === DiagonalMovement.Never) {\r\n        return neighbors;\r\n    }\r\n\r\n    if (diagonalMovement === DiagonalMovement.OnlyWhenNoObstacles) {\r\n        d0 = s3 && s0;\r\n        d1 = s0 && s1;\r\n        d2 = s1 && s2;\r\n        d3 = s2 && s3;\r\n    } else if (diagonalMovement === DiagonalMovement.IfAtMostOneObstacle) {\r\n        d0 = s3 || s0;\r\n        d1 = s0 || s1;\r\n        d2 = s1 || s2;\r\n        d3 = s2 || s3;\r\n    } else if (diagonalMovement === DiagonalMovement.Always) {\r\n        d0 = true;\r\n        d1 = true;\r\n        d2 = true;\r\n        d3 = true;\r\n    } else {\r\n        throw new Error('Incorrect value of diagonalMovement');\r\n    }\r\n\r\n    // \r\n    if (d0 && this.isWalkableAt(x - 1, y - 1)) {\r\n        neighbors.push(nodes[y - 1][x - 1]);\r\n    }\r\n    // \r\n    if (d1 && this.isWalkableAt(x + 1, y - 1)) {\r\n        neighbors.push(nodes[y - 1][x + 1]);\r\n    }\r\n    // \r\n    if (d2 && this.isWalkableAt(x + 1, y + 1)) {\r\n        neighbors.push(nodes[y + 1][x + 1]);\r\n    }\r\n    // \r\n    if (d3 && this.isWalkableAt(x - 1, y + 1)) {\r\n        neighbors.push(nodes[y + 1][x - 1]);\r\n    }\r\n\r\n    return neighbors;\r\n};\r\n\r\n\r\n/**\r\n * Get a clone of this grid.\r\n * @return {Grid} Cloned grid.\r\n */\r\nGrid.prototype.clone = function() {\r\n    var i, j,\r\n\r\n        width = this.width,\r\n        height = this.height,\r\n        thisNodes = this.nodes,\r\n\r\n        newGrid = new Grid(width, height),\r\n        newNodes = new Array(height);\r\n\r\n    for (i = 0; i < height; ++i) {\r\n        newNodes[i] = new Array(width);\r\n        for (j = 0; j < width; ++j) {\r\n            newNodes[i][j] = new Node(j, i, thisNodes[i][j].walkable);\r\n        }\r\n    }\r\n\r\n    newGrid.nodes = newNodes;\r\n\r\n    return newGrid;\r\n};\r\n\r\nmodule.exports = Grid;\r\n","var AStarFinder = require('./AStarFinder');\r\n\r\n/**\r\n * Best-First-Search path-finder.\r\n * @constructor\r\n * @extends AStarFinder\r\n * @param {Object} opt\r\n * @param {boolean} opt.allowDiagonal Whether diagonal movement is allowed.\r\n *     Deprecated, use diagonalMovement instead.\r\n * @param {boolean} opt.dontCrossCorners Disallow diagonal movement touching\r\n *     block corners. Deprecated, use diagonalMovement instead.\r\n * @param {DiagonalMovement} opt.diagonalMovement Allowed diagonal movement.\r\n * @param {function} opt.heuristic Heuristic function to estimate the distance\r\n *     (defaults to manhattan).\r\n */\r\nfunction BestFirstFinder(opt) {\r\n    AStarFinder.call(this, opt);\r\n\r\n    var orig = this.heuristic;\r\n    this.heuristic = function(dx, dy) {\r\n        return orig(dx, dy) * 1000000;\r\n    };\r\n}\r\n\r\nBestFirstFinder.prototype = new AStarFinder();\r\nBestFirstFinder.prototype.constructor = BestFirstFinder;\r\n\r\nmodule.exports = BestFirstFinder;\r\n","var Util = require('../core/Util');\r\nvar DiagonalMovement = require('../core/DiagonalMovement');\r\n\r\n/**\r\n * Breadth-First-Search path finder.\r\n * @constructor\r\n * @param {Object} opt\r\n * @param {boolean} opt.allowDiagonal Whether diagonal movement is allowed.\r\n *     Deprecated, use diagonalMovement instead.\r\n * @param {boolean} opt.dontCrossCorners Disallow diagonal movement touching\r\n *     block corners. Deprecated, use diagonalMovement instead.\r\n * @param {DiagonalMovement} opt.diagonalMovement Allowed diagonal movement.\r\n */\r\nfunction BreadthFirstFinder(opt) {\r\n    opt = opt || {};\r\n    this.allowDiagonal = opt.allowDiagonal;\r\n    this.dontCrossCorners = opt.dontCrossCorners;\r\n    this.diagonalMovement = opt.diagonalMovement;\r\n\r\n    if (!this.diagonalMovement) {\r\n        if (!this.allowDiagonal) {\r\n            this.diagonalMovement = DiagonalMovement.Never;\r\n        } else {\r\n            if (this.dontCrossCorners) {\r\n                this.diagonalMovement = DiagonalMovement.OnlyWhenNoObstacles;\r\n            } else {\r\n                this.diagonalMovement = DiagonalMovement.IfAtMostOneObstacle;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Find and return the the path.\r\n * @return {Array<Array<number>>} The path, including both start and\r\n *     end positions.\r\n */\r\nBreadthFirstFinder.prototype.findPath = function(startX, startY, endX, endY, grid) {\r\n    var openList = [],\r\n        diagonalMovement = this.diagonalMovement,\r\n        startNode = grid.getNodeAt(startX, startY),\r\n        endNode = grid.getNodeAt(endX, endY),\r\n        neighbors, neighbor, node, i, l;\r\n\r\n    // push the start pos into the queue\r\n    openList.push(startNode);\r\n    startNode.opened = true;\r\n\r\n    // while the queue is not empty\r\n    while (openList.length) {\r\n        // take the front node from the queue\r\n        node = openList.shift();\r\n        node.closed = true;\r\n\r\n        // reached the end position\r\n        if (node === endNode) {\r\n            return Util.backtrace(endNode);\r\n        }\r\n\r\n        neighbors = grid.getNeighbors(node, diagonalMovement);\r\n        for (i = 0, l = neighbors.length; i < l; ++i) {\r\n            neighbor = neighbors[i];\r\n\r\n            // skip this neighbor if it has been inspected before\r\n            if (neighbor.closed || neighbor.opened) {\r\n                continue;\r\n            }\r\n\r\n            openList.push(neighbor);\r\n            neighbor.opened = true;\r\n            neighbor.parent = node;\r\n        }\r\n    }\r\n    \r\n    // fail to find the path\r\n    return [];\r\n};\r\n\r\nmodule.exports = BreadthFirstFinder;\r\n","var AStarFinder = require('./AStarFinder');\r\n\r\n/**\r\n * Dijkstra path-finder.\r\n * @constructor\r\n * @extends AStarFinder\r\n * @param {Object} opt\r\n * @param {boolean} opt.allowDiagonal Whether diagonal movement is allowed.\r\n *     Deprecated, use diagonalMovement instead.\r\n * @param {boolean} opt.dontCrossCorners Disallow diagonal movement touching\r\n *     block corners. Deprecated, use diagonalMovement instead.\r\n * @param {DiagonalMovement} opt.diagonalMovement Allowed diagonal movement.\r\n */\r\nfunction DijkstraFinder(opt) {\r\n    AStarFinder.call(this, opt);\r\n    this.heuristic = function(dx, dy) {\r\n        return 0;\r\n    };\r\n}\r\n\r\nDijkstraFinder.prototype = new AStarFinder();\r\nDijkstraFinder.prototype.constructor = DijkstraFinder;\r\n\r\nmodule.exports = DijkstraFinder;\r\n","var BiAStarFinder = require('./BiAStarFinder');\r\n\r\n/**\r\n * Bi-direcitional Best-First-Search path-finder.\r\n * @constructor\r\n * @extends BiAStarFinder\r\n * @param {Object} opt\r\n * @param {boolean} opt.allowDiagonal Whether diagonal movement is allowed.\r\n *     Deprecated, use diagonalMovement instead.\r\n * @param {boolean} opt.dontCrossCorners Disallow diagonal movement touching\r\n *     block corners. Deprecated, use diagonalMovement instead.\r\n * @param {DiagonalMovement} opt.diagonalMovement Allowed diagonal movement.\r\n * @param {function} opt.heuristic Heuristic function to estimate the distance\r\n *     (defaults to manhattan).\r\n */\r\nfunction BiBestFirstFinder(opt) {\r\n    BiAStarFinder.call(this, opt);\r\n\r\n    var orig = this.heuristic;\r\n    this.heuristic = function(dx, dy) {\r\n        return orig(dx, dy) * 1000000;\r\n    };\r\n}\r\n\r\nBiBestFirstFinder.prototype = new BiAStarFinder();\r\nBiBestFirstFinder.prototype.constructor = BiBestFirstFinder;\r\n\r\nmodule.exports = BiBestFirstFinder;\r\n","var Util = require('../core/Util');\r\nvar DiagonalMovement = require('../core/DiagonalMovement');\r\n\r\n/**\r\n * Bi-directional Breadth-First-Search path finder.\r\n * @constructor\r\n * @param {object} opt\r\n * @param {boolean} opt.allowDiagonal Whether diagonal movement is allowed.\r\n *     Deprecated, use diagonalMovement instead.\r\n * @param {boolean} opt.dontCrossCorners Disallow diagonal movement touching\r\n *     block corners. Deprecated, use diagonalMovement instead.\r\n * @param {DiagonalMovement} opt.diagonalMovement Allowed diagonal movement.\r\n */\r\nfunction BiBreadthFirstFinder(opt) {\r\n    opt = opt || {};\r\n    this.allowDiagonal = opt.allowDiagonal;\r\n    this.dontCrossCorners = opt.dontCrossCorners;\r\n    this.diagonalMovement = opt.diagonalMovement;\r\n\r\n    if (!this.diagonalMovement) {\r\n        if (!this.allowDiagonal) {\r\n            this.diagonalMovement = DiagonalMovement.Never;\r\n        } else {\r\n            if (this.dontCrossCorners) {\r\n                this.diagonalMovement = DiagonalMovement.OnlyWhenNoObstacles;\r\n            } else {\r\n                this.diagonalMovement = DiagonalMovement.IfAtMostOneObstacle;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Find and return the the path.\r\n * @return {Array<Array<number>>} The path, including both start and\r\n *     end positions.\r\n */\r\nBiBreadthFirstFinder.prototype.findPath = function(startX, startY, endX, endY, grid) {\r\n    var startNode = grid.getNodeAt(startX, startY),\r\n        endNode = grid.getNodeAt(endX, endY),\r\n        startOpenList = [], endOpenList = [],\r\n        neighbors, neighbor, node,\r\n        diagonalMovement = this.diagonalMovement,\r\n        BY_START = 0, BY_END = 1,\r\n        i, l;\r\n\r\n    // push the start and end nodes into the queues\r\n    startOpenList.push(startNode);\r\n    startNode.opened = true;\r\n    startNode.by = BY_START;\r\n\r\n    endOpenList.push(endNode);\r\n    endNode.opened = true;\r\n    endNode.by = BY_END;\r\n\r\n    // while both the queues are not empty\r\n    while (startOpenList.length && endOpenList.length) {\r\n\r\n        // expand start open list\r\n\r\n        node = startOpenList.shift();\r\n        node.closed = true;\r\n\r\n        neighbors = grid.getNeighbors(node, diagonalMovement);\r\n        for (i = 0, l = neighbors.length; i < l; ++i) {\r\n            neighbor = neighbors[i];\r\n\r\n            if (neighbor.closed) {\r\n                continue;\r\n            }\r\n            if (neighbor.opened) {\r\n                // if this node has been inspected by the reversed search,\r\n                // then a path is found.\r\n                if (neighbor.by === BY_END) {\r\n                    return Util.biBacktrace(node, neighbor);\r\n                }\r\n                continue;\r\n            }\r\n            startOpenList.push(neighbor);\r\n            neighbor.parent = node;\r\n            neighbor.opened = true;\r\n            neighbor.by = BY_START;\r\n        }\r\n\r\n        // expand end open list\r\n\r\n        node = endOpenList.shift();\r\n        node.closed = true;\r\n\r\n        neighbors = grid.getNeighbors(node, diagonalMovement);\r\n        for (i = 0, l = neighbors.length; i < l; ++i) {\r\n            neighbor = neighbors[i];\r\n\r\n            if (neighbor.closed) {\r\n                continue;\r\n            }\r\n            if (neighbor.opened) {\r\n                if (neighbor.by === BY_START) {\r\n                    return Util.biBacktrace(neighbor, node);\r\n                }\r\n                continue;\r\n            }\r\n            endOpenList.push(neighbor);\r\n            neighbor.parent = node;\r\n            neighbor.opened = true;\r\n            neighbor.by = BY_END;\r\n        }\r\n    }\r\n\r\n    // fail to find the path\r\n    return [];\r\n};\r\n\r\nmodule.exports = BiBreadthFirstFinder;\r\n","var BiAStarFinder = require('./BiAStarFinder');\r\n\r\n/**\r\n * Bi-directional Dijkstra path-finder.\r\n * @constructor\r\n * @extends BiAStarFinder\r\n * @param {Object} opt\r\n * @param {boolean} opt.allowDiagonal Whether diagonal movement is allowed.\r\n *     Deprecated, use diagonalMovement instead.\r\n * @param {boolean} opt.dontCrossCorners Disallow diagonal movement touching\r\n *     block corners. Deprecated, use diagonalMovement instead.\r\n * @param {DiagonalMovement} opt.diagonalMovement Allowed diagonal movement.\r\n */\r\nfunction BiDijkstraFinder(opt) {\r\n    BiAStarFinder.call(this, opt);\r\n    this.heuristic = function(dx, dy) {\r\n        return 0;\r\n    };\r\n}\r\n\r\nBiDijkstraFinder.prototype = new BiAStarFinder();\r\nBiDijkstraFinder.prototype.constructor = BiDijkstraFinder;\r\n\r\nmodule.exports = BiDijkstraFinder;\r\n","var Util       = require('../core/Util');\r\nvar Heuristic  = require('../core/Heuristic');\r\nvar Node       = require('../core/Node');\r\nvar DiagonalMovement = require('../core/DiagonalMovement');\r\n\r\n/**\r\n * Iterative Deeping A Star (IDA*) path-finder.\r\n *\r\n * Recursion based on:\r\n *   http://www.apl.jhu.edu/~hall/AI-Programming/IDA-Star.html\r\n *\r\n * Path retracing based on:\r\n *  V. Nageshwara Rao, Vipin Kumar and K. Ramesh\r\n *  \"A Parallel Implementation of Iterative-Deeping-A*\", January 1987.\r\n *  ftp://ftp.cs.utexas.edu/.snapshot/hourly.1/pub/AI-Lab/tech-reports/UT-AI-TR-87-46.pdf\r\n *\r\n * @author Gerard Meier (www.gerardmeier.com)\r\n *\r\n * @constructor\r\n * @param {Object} opt\r\n * @param {boolean} opt.allowDiagonal Whether diagonal movement is allowed.\r\n *     Deprecated, use diagonalMovement instead.\r\n * @param {boolean} opt.dontCrossCorners Disallow diagonal movement touching\r\n *     block corners. Deprecated, use diagonalMovement instead.\r\n * @param {DiagonalMovement} opt.diagonalMovement Allowed diagonal movement.\r\n * @param {function} opt.heuristic Heuristic function to estimate the distance\r\n *     (defaults to manhattan).\r\n * @param {number} opt.weight Weight to apply to the heuristic to allow for\r\n *     suboptimal paths, in order to speed up the search.\r\n * @param {boolean} opt.trackRecursion Whether to track recursion for\r\n *     statistical purposes.\r\n * @param {number} opt.timeLimit Maximum execution time. Use <= 0 for infinite.\r\n */\r\nfunction IDAStarFinder(opt) {\r\n    opt = opt || {};\r\n    this.allowDiagonal = opt.allowDiagonal;\r\n    this.dontCrossCorners = opt.dontCrossCorners;\r\n    this.diagonalMovement = opt.diagonalMovement;\r\n    this.heuristic = opt.heuristic || Heuristic.manhattan;\r\n    this.weight = opt.weight || 1;\r\n    this.trackRecursion = opt.trackRecursion || false;\r\n    this.timeLimit = opt.timeLimit || Infinity; // Default: no time limit.\r\n\r\n    if (!this.diagonalMovement) {\r\n        if (!this.allowDiagonal) {\r\n            this.diagonalMovement = DiagonalMovement.Never;\r\n        } else {\r\n            if (this.dontCrossCorners) {\r\n                this.diagonalMovement = DiagonalMovement.OnlyWhenNoObstacles;\r\n            } else {\r\n                this.diagonalMovement = DiagonalMovement.IfAtMostOneObstacle;\r\n            }\r\n        }\r\n    }\r\n\r\n    // When diagonal movement is allowed the manhattan heuristic is not\r\n    // admissible, it should be octile instead\r\n    if (this.diagonalMovement === DiagonalMovement.Never) {\r\n        this.heuristic = opt.heuristic || Heuristic.manhattan;\r\n    } else {\r\n        this.heuristic = opt.heuristic || Heuristic.octile;\r\n    }\r\n}\r\n\r\n/**\r\n * Find and return the the path. When an empty array is returned, either\r\n * no path is possible, or the maximum execution time is reached.\r\n *\r\n * @return {Array<Array<number>>} The path, including both start and\r\n *     end positions.\r\n */\r\nIDAStarFinder.prototype.findPath = function(startX, startY, endX, endY, grid) {\r\n    // Used for statistics:\r\n    var nodesVisited = 0;\r\n\r\n    // Execution time limitation:\r\n    var startTime = new Date().getTime();\r\n\r\n    // Heuristic helper:\r\n    var h = function(a, b) {\r\n        return this.heuristic(Math.abs(b.x - a.x), Math.abs(b.y - a.y));\r\n    }.bind(this);\r\n\r\n    // Step cost from a to b:\r\n    var cost = function(a, b) {\r\n        return (a.x === b.x || a.y === b.y) ? 1 : Math.SQRT2;\r\n    };\r\n\r\n    /**\r\n     * IDA* search implementation.\r\n     *\r\n     * @param {Node} The node currently expanding from.\r\n     * @param {number} Cost to reach the given node.\r\n     * @param {number} Maximum search depth (cut-off value).\r\n     * @param {Array<Array<number>>} The found route.\r\n     * @param {number} Recursion depth.\r\n     *\r\n     * @return {Object} either a number with the new optimal cut-off depth,\r\n     * or a valid node instance, in which case a path was found.\r\n     */\r\n    var search = function(node, g, cutoff, route, depth) {\r\n        nodesVisited++;\r\n\r\n        // Enforce timelimit:\r\n        if (this.timeLimit > 0 &&\r\n            new Date().getTime() - startTime > this.timeLimit * 1000) {\r\n            // Enforced as \"path-not-found\".\r\n            return Infinity;\r\n        }\r\n\r\n        var f = g + h(node, end) * this.weight;\r\n\r\n        // We've searched too deep for this iteration.\r\n        if (f > cutoff) {\r\n            return f;\r\n        }\r\n\r\n        if (node == end) {\r\n            route[depth] = [node.x, node.y];\r\n            return node;\r\n        }\r\n\r\n        var min, t, k, neighbour;\r\n\r\n        var neighbours = grid.getNeighbors(node, this.diagonalMovement);\r\n\r\n        // Sort the neighbours, gives nicer paths. But, this deviates\r\n        // from the original algorithm - so I left it out.\r\n        //neighbours.sort(function(a, b){\r\n        //    return h(a, end) - h(b, end);\r\n        //});\r\n\r\n        \r\n        /*jshint -W084 *///Disable warning: Expected a conditional expression and instead saw an assignment\r\n        for (k = 0, min = Infinity; neighbour = neighbours[k]; ++k) {\r\n        /*jshint +W084 *///Enable warning: Expected a conditional expression and instead saw an assignment\r\n            if (this.trackRecursion) {\r\n                // Retain a copy for visualisation. Due to recursion, this\r\n                // node may be part of other paths too.\r\n                neighbour.retainCount = neighbour.retainCount + 1 || 1;\r\n\r\n                if(neighbour.tested !== true) {\r\n                    neighbour.tested = true;\r\n                }\r\n            }\r\n\r\n            t = search(neighbour, g + cost(node, neighbour), cutoff, route, depth + 1);\r\n\r\n            if (t instanceof Node) {\r\n                route[depth] = [node.x, node.y];\r\n\r\n                // For a typical A* linked list, this would work:\r\n                // neighbour.parent = node;\r\n                return t;\r\n            }\r\n\r\n            // Decrement count, then determine whether it's actually closed.\r\n            if (this.trackRecursion && (--neighbour.retainCount) === 0) {\r\n                neighbour.tested = false;\r\n            }\r\n\r\n            if (t < min) {\r\n                min = t;\r\n            }\r\n        }\r\n\r\n        return min;\r\n\r\n    }.bind(this);\r\n\r\n    // Node instance lookups:\r\n    var start = grid.getNodeAt(startX, startY);\r\n    var end   = grid.getNodeAt(endX, endY);\r\n\r\n    // Initial search depth, given the typical heuristic contraints,\r\n    // there should be no cheaper route possible.\r\n    var cutOff = h(start, end);\r\n\r\n    var j, route, t;\r\n\r\n    // With an overflow protection.\r\n    for (j = 0; true; ++j) {\r\n\r\n        route = [];\r\n\r\n        // Search till cut-off depth:\r\n        t = search(start, 0, cutOff, route, 0);\r\n\r\n        // Route not possible, or not found in time limit.\r\n        if (t === Infinity) {\r\n            return [];\r\n        }\r\n\r\n        // If t is a node, it's also the end node. Route is now\r\n        // populated with a valid path to the end node.\r\n        if (t instanceof Node) {\r\n            return route;\r\n        }\r\n\r\n        // Try again, this time with a deeper cut-off. The t score\r\n        // is the closest we got to the end node.\r\n        cutOff = t;\r\n    }\r\n\r\n    // This _should_ never to be reached.\r\n    return [];\r\n};\r\n\r\nmodule.exports = IDAStarFinder;\r\n","/**\r\n * @author aniero / https://github.com/aniero\r\n */\r\nvar DiagonalMovement = require('../core/DiagonalMovement');\r\nvar JPFNeverMoveDiagonally = require('./JPFNeverMoveDiagonally');\r\nvar JPFAlwaysMoveDiagonally = require('./JPFAlwaysMoveDiagonally');\r\nvar JPFMoveDiagonallyIfNoObstacles = require('./JPFMoveDiagonallyIfNoObstacles');\r\nvar JPFMoveDiagonallyIfAtMostOneObstacle = require('./JPFMoveDiagonallyIfAtMostOneObstacle');\r\n\r\n/**\r\n * Path finder using the Jump Point Search algorithm\r\n * @param {Object} opt\r\n * @param {function} opt.heuristic Heuristic function to estimate the distance\r\n *     (defaults to manhattan).\r\n * @param {DiagonalMovement} opt.diagonalMovement Condition under which diagonal\r\n *      movement will be allowed.\r\n */\r\nfunction JumpPointFinder(opt) {\r\n    opt = opt || {};\r\n    if (opt.diagonalMovement === DiagonalMovement.Never) {\r\n        return new JPFNeverMoveDiagonally(opt);\r\n    } else if (opt.diagonalMovement === DiagonalMovement.Always) {\r\n        return new JPFAlwaysMoveDiagonally(opt);\r\n    } else if (opt.diagonalMovement === DiagonalMovement.OnlyWhenNoObstacles) {\r\n        return new JPFMoveDiagonallyIfNoObstacles(opt);\r\n    } else {\r\n        return new JPFMoveDiagonallyIfAtMostOneObstacle(opt);\r\n    }\r\n}\r\n\r\nmodule.exports = JumpPointFinder;\r\n","/**\r\n * @author imor / https://github.com/imor\r\n */\r\nvar JumpPointFinderBase = require('./JumpPointFinderBase');\r\nvar DiagonalMovement = require('../core/DiagonalMovement');\r\n\r\n/**\r\n * Path finder using the Jump Point Search algorithm allowing only horizontal\r\n * or vertical movements.\r\n */\r\nfunction JPFNeverMoveDiagonally(opt) {\r\n    JumpPointFinderBase.call(this, opt);\r\n}\r\n\r\nJPFNeverMoveDiagonally.prototype = new JumpPointFinderBase();\r\nJPFNeverMoveDiagonally.prototype.constructor = JPFNeverMoveDiagonally;\r\n\r\n/**\r\n * Search recursively in the direction (parent -> child), stopping only when a\r\n * jump point is found.\r\n * @protected\r\n * @return {Array<Array<number>>} The x, y coordinate of the jump point\r\n *     found, or null if not found\r\n */\r\nJPFNeverMoveDiagonally.prototype._jump = function(x, y, px, py) {\r\n    var grid = this.grid,\r\n        dx = x - px, dy = y - py;\r\n\r\n    if (!grid.isWalkableAt(x, y)) {\r\n        return null;\r\n    }\r\n\r\n    if(this.trackJumpRecursion === true) {\r\n        grid.getNodeAt(x, y).tested = true;\r\n    }\r\n\r\n    if (grid.getNodeAt(x, y) === this.endNode) {\r\n        return [x, y];\r\n    }\r\n\r\n    if (dx !== 0) {\r\n        if ((grid.isWalkableAt(x, y - 1) && !grid.isWalkableAt(x - dx, y - 1)) ||\r\n            (grid.isWalkableAt(x, y + 1) && !grid.isWalkableAt(x - dx, y + 1))) {\r\n            return [x, y];\r\n        }\r\n    }\r\n    else if (dy !== 0) {\r\n        if ((grid.isWalkableAt(x - 1, y) && !grid.isWalkableAt(x - 1, y - dy)) ||\r\n            (grid.isWalkableAt(x + 1, y) && !grid.isWalkableAt(x + 1, y - dy))) {\r\n            return [x, y];\r\n        }\r\n        //When moving vertically, must check for horizontal jump points\r\n        if (this._jump(x + 1, y, x, y) || this._jump(x - 1, y, x, y)) {\r\n            return [x, y];\r\n        }\r\n    }\r\n    else {\r\n        throw new Error(\"Only horizontal and vertical movements are allowed\");\r\n    }\r\n\r\n    return this._jump(x + dx, y + dy, x, y);\r\n};\r\n\r\n/**\r\n * Find the neighbors for the given node. If the node has a parent,\r\n * prune the neighbors based on the jump point search algorithm, otherwise\r\n * return all available neighbors.\r\n * @return {Array<Array<number>>} The neighbors found.\r\n */\r\nJPFNeverMoveDiagonally.prototype._findNeighbors = function(node) {\r\n    var parent = node.parent,\r\n        x = node.x, y = node.y,\r\n        grid = this.grid,\r\n        px, py, nx, ny, dx, dy,\r\n        neighbors = [], neighborNodes, neighborNode, i, l;\r\n\r\n    // directed pruning: can ignore most neighbors, unless forced.\r\n    if (parent) {\r\n        px = parent.x;\r\n        py = parent.y;\r\n        // get the normalized direction of travel\r\n        dx = (x - px) / Math.max(Math.abs(x - px), 1);\r\n        dy = (y - py) / Math.max(Math.abs(y - py), 1);\r\n\r\n        if (dx !== 0) {\r\n            if (grid.isWalkableAt(x, y - 1)) {\r\n                neighbors.push([x, y - 1]);\r\n            }\r\n            if (grid.isWalkableAt(x, y + 1)) {\r\n                neighbors.push([x, y + 1]);\r\n            }\r\n            if (grid.isWalkableAt(x + dx, y)) {\r\n                neighbors.push([x + dx, y]);\r\n            }\r\n        }\r\n        else if (dy !== 0) {\r\n            if (grid.isWalkableAt(x - 1, y)) {\r\n                neighbors.push([x - 1, y]);\r\n            }\r\n            if (grid.isWalkableAt(x + 1, y)) {\r\n                neighbors.push([x + 1, y]);\r\n            }\r\n            if (grid.isWalkableAt(x, y + dy)) {\r\n                neighbors.push([x, y + dy]);\r\n            }\r\n        }\r\n    }\r\n    // return all neighbors\r\n    else {\r\n        neighborNodes = grid.getNeighbors(node, DiagonalMovement.Never);\r\n        for (i = 0, l = neighborNodes.length; i < l; ++i) {\r\n            neighborNode = neighborNodes[i];\r\n            neighbors.push([neighborNode.x, neighborNode.y]);\r\n        }\r\n    }\r\n\r\n    return neighbors;\r\n};\r\n\r\nmodule.exports = JPFNeverMoveDiagonally;\r\n","/**\r\n * @author imor / https://github.com/imor\r\n */\r\nvar JumpPointFinderBase = require('./JumpPointFinderBase');\r\nvar DiagonalMovement = require('../core/DiagonalMovement');\r\n\r\n/**\r\n * Path finder using the Jump Point Search algorithm which always moves\r\n * diagonally irrespective of the number of obstacles.\r\n */\r\nfunction JPFAlwaysMoveDiagonally(opt) {\r\n    JumpPointFinderBase.call(this, opt);\r\n}\r\n\r\nJPFAlwaysMoveDiagonally.prototype = new JumpPointFinderBase();\r\nJPFAlwaysMoveDiagonally.prototype.constructor = JPFAlwaysMoveDiagonally;\r\n\r\n/**\r\n * Search recursively in the direction (parent -> child), stopping only when a\r\n * jump point is found.\r\n * @protected\r\n * @return {Array<Array<number>>} The x, y coordinate of the jump point\r\n *     found, or null if not found\r\n */\r\nJPFAlwaysMoveDiagonally.prototype._jump = function(x, y, px, py) {\r\n    var grid = this.grid,\r\n        dx = x - px, dy = y - py;\r\n\r\n    if (!grid.isWalkableAt(x, y)) {\r\n        return null;\r\n    }\r\n\r\n    if(this.trackJumpRecursion === true) {\r\n        grid.getNodeAt(x, y).tested = true;\r\n    }\r\n\r\n    if (grid.getNodeAt(x, y) === this.endNode) {\r\n        return [x, y];\r\n    }\r\n\r\n    // check for forced neighbors\r\n    // along the diagonal\r\n    if (dx !== 0 && dy !== 0) {\r\n        if ((grid.isWalkableAt(x - dx, y + dy) && !grid.isWalkableAt(x - dx, y)) ||\r\n            (grid.isWalkableAt(x + dx, y - dy) && !grid.isWalkableAt(x, y - dy))) {\r\n            return [x, y];\r\n        }\r\n        // when moving diagonally, must check for vertical/horizontal jump points\r\n        if (this._jump(x + dx, y, x, y) || this._jump(x, y + dy, x, y)) {\r\n            return [x, y];\r\n        }\r\n    }\r\n    // horizontally/vertically\r\n    else {\r\n        if( dx !== 0 ) { // moving along x\r\n            if((grid.isWalkableAt(x + dx, y + 1) && !grid.isWalkableAt(x, y + 1)) ||\r\n               (grid.isWalkableAt(x + dx, y - 1) && !grid.isWalkableAt(x, y - 1))) {\r\n                return [x, y];\r\n            }\r\n        }\r\n        else {\r\n            if((grid.isWalkableAt(x + 1, y + dy) && !grid.isWalkableAt(x + 1, y)) ||\r\n               (grid.isWalkableAt(x - 1, y + dy) && !grid.isWalkableAt(x - 1, y))) {\r\n                return [x, y];\r\n            }\r\n        }\r\n    }\r\n\r\n    return this._jump(x + dx, y + dy, x, y);\r\n};\r\n\r\n/**\r\n * Find the neighbors for the given node. If the node has a parent,\r\n * prune the neighbors based on the jump point search algorithm, otherwise\r\n * return all available neighbors.\r\n * @return {Array<Array<number>>} The neighbors found.\r\n */\r\nJPFAlwaysMoveDiagonally.prototype._findNeighbors = function(node) {\r\n    var parent = node.parent,\r\n        x = node.x, y = node.y,\r\n        grid = this.grid,\r\n        px, py, nx, ny, dx, dy,\r\n        neighbors = [], neighborNodes, neighborNode, i, l;\r\n\r\n    // directed pruning: can ignore most neighbors, unless forced.\r\n    if (parent) {\r\n        px = parent.x;\r\n        py = parent.y;\r\n        // get the normalized direction of travel\r\n        dx = (x - px) / Math.max(Math.abs(x - px), 1);\r\n        dy = (y - py) / Math.max(Math.abs(y - py), 1);\r\n\r\n        // search diagonally\r\n        if (dx !== 0 && dy !== 0) {\r\n            if (grid.isWalkableAt(x, y + dy)) {\r\n                neighbors.push([x, y + dy]);\r\n            }\r\n            if (grid.isWalkableAt(x + dx, y)) {\r\n                neighbors.push([x + dx, y]);\r\n            }\r\n            if (grid.isWalkableAt(x + dx, y + dy)) {\r\n                neighbors.push([x + dx, y + dy]);\r\n            }\r\n            if (!grid.isWalkableAt(x - dx, y)) {\r\n                neighbors.push([x - dx, y + dy]);\r\n            }\r\n            if (!grid.isWalkableAt(x, y - dy)) {\r\n                neighbors.push([x + dx, y - dy]);\r\n            }\r\n        }\r\n        // search horizontally/vertically\r\n        else {\r\n            if(dx === 0) {\r\n                if (grid.isWalkableAt(x, y + dy)) {\r\n                    neighbors.push([x, y + dy]);\r\n                }\r\n                if (!grid.isWalkableAt(x + 1, y)) {\r\n                    neighbors.push([x + 1, y + dy]);\r\n                }\r\n                if (!grid.isWalkableAt(x - 1, y)) {\r\n                    neighbors.push([x - 1, y + dy]);\r\n                }\r\n            }\r\n            else {\r\n                if (grid.isWalkableAt(x + dx, y)) {\r\n                    neighbors.push([x + dx, y]);\r\n                }\r\n                if (!grid.isWalkableAt(x, y + 1)) {\r\n                    neighbors.push([x + dx, y + 1]);\r\n                }\r\n                if (!grid.isWalkableAt(x, y - 1)) {\r\n                    neighbors.push([x + dx, y - 1]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // return all neighbors\r\n    else {\r\n        neighborNodes = grid.getNeighbors(node, DiagonalMovement.Always);\r\n        for (i = 0, l = neighborNodes.length; i < l; ++i) {\r\n            neighborNode = neighborNodes[i];\r\n            neighbors.push([neighborNode.x, neighborNode.y]);\r\n        }\r\n    }\r\n\r\n    return neighbors;\r\n};\r\n\r\nmodule.exports = JPFAlwaysMoveDiagonally;\r\n","/**\r\n * @author imor / https://github.com/imor\r\n */\r\nvar JumpPointFinderBase = require('./JumpPointFinderBase');\r\nvar DiagonalMovement = require('../core/DiagonalMovement');\r\n\r\n/**\r\n * Path finder using the Jump Point Search algorithm which moves\r\n * diagonally only when there are no obstacles.\r\n */\r\nfunction JPFMoveDiagonallyIfNoObstacles(opt) {\r\n    JumpPointFinderBase.call(this, opt);\r\n}\r\n\r\nJPFMoveDiagonallyIfNoObstacles.prototype = new JumpPointFinderBase();\r\nJPFMoveDiagonallyIfNoObstacles.prototype.constructor = JPFMoveDiagonallyIfNoObstacles;\r\n\r\n/**\r\n * Search recursively in the direction (parent -> child), stopping only when a\r\n * jump point is found.\r\n * @protected\r\n * @return {Array<Array<number>>} The x, y coordinate of the jump point\r\n *     found, or null if not found\r\n */\r\nJPFMoveDiagonallyIfNoObstacles.prototype._jump = function(x, y, px, py) {\r\n    var grid = this.grid,\r\n        dx = x - px, dy = y - py;\r\n\r\n    if (!grid.isWalkableAt(x, y)) {\r\n        return null;\r\n    }\r\n\r\n    if(this.trackJumpRecursion === true) {\r\n        grid.getNodeAt(x, y).tested = true;\r\n    }\r\n\r\n    if (grid.getNodeAt(x, y) === this.endNode) {\r\n        return [x, y];\r\n    }\r\n\r\n    // check for forced neighbors\r\n    // along the diagonal\r\n    if (dx !== 0 && dy !== 0) {\r\n        // if ((grid.isWalkableAt(x - dx, y + dy) && !grid.isWalkableAt(x - dx, y)) ||\r\n            // (grid.isWalkableAt(x + dx, y - dy) && !grid.isWalkableAt(x, y - dy))) {\r\n            // return [x, y];\r\n        // }\r\n        // when moving diagonally, must check for vertical/horizontal jump points\r\n        if (this._jump(x + dx, y, x, y) || this._jump(x, y + dy, x, y)) {\r\n            return [x, y];\r\n        }\r\n    }\r\n    // horizontally/vertically\r\n    else {\r\n        if (dx !== 0) {\r\n            if ((grid.isWalkableAt(x, y - 1) && !grid.isWalkableAt(x - dx, y - 1)) ||\r\n                (grid.isWalkableAt(x, y + 1) && !grid.isWalkableAt(x - dx, y + 1))) {\r\n                return [x, y];\r\n            }\r\n        }\r\n        else if (dy !== 0) {\r\n            if ((grid.isWalkableAt(x - 1, y) && !grid.isWalkableAt(x - 1, y - dy)) ||\r\n                (grid.isWalkableAt(x + 1, y) && !grid.isWalkableAt(x + 1, y - dy))) {\r\n                return [x, y];\r\n            }\r\n            // When moving vertically, must check for horizontal jump points\r\n            // if (this._jump(x + 1, y, x, y) || this._jump(x - 1, y, x, y)) {\r\n                // return [x, y];\r\n            // }\r\n        }\r\n    }\r\n\r\n    // moving diagonally, must make sure one of the vertical/horizontal\r\n    // neighbors is open to allow the path\r\n    if (grid.isWalkableAt(x + dx, y) && grid.isWalkableAt(x, y + dy)) {\r\n        return this._jump(x + dx, y + dy, x, y);\r\n    } else {\r\n        return null;\r\n    }\r\n};\r\n\r\n/**\r\n * Find the neighbors for the given node. If the node has a parent,\r\n * prune the neighbors based on the jump point search algorithm, otherwise\r\n * return all available neighbors.\r\n * @return {Array<Array<number>>} The neighbors found.\r\n */\r\nJPFMoveDiagonallyIfNoObstacles.prototype._findNeighbors = function(node) {\r\n    var parent = node.parent,\r\n        x = node.x, y = node.y,\r\n        grid = this.grid,\r\n        px, py, nx, ny, dx, dy,\r\n        neighbors = [], neighborNodes, neighborNode, i, l;\r\n\r\n    // directed pruning: can ignore most neighbors, unless forced.\r\n    if (parent) {\r\n        px = parent.x;\r\n        py = parent.y;\r\n        // get the normalized direction of travel\r\n        dx = (x - px) / Math.max(Math.abs(x - px), 1);\r\n        dy = (y - py) / Math.max(Math.abs(y - py), 1);\r\n\r\n        // search diagonally\r\n        if (dx !== 0 && dy !== 0) {\r\n            if (grid.isWalkableAt(x, y + dy)) {\r\n                neighbors.push([x, y + dy]);\r\n            }\r\n            if (grid.isWalkableAt(x + dx, y)) {\r\n                neighbors.push([x + dx, y]);\r\n            }\r\n            if (grid.isWalkableAt(x, y + dy) && grid.isWalkableAt(x + dx, y)) {\r\n                neighbors.push([x + dx, y + dy]);\r\n            }\r\n        }\r\n        // search horizontally/vertically\r\n        else {\r\n            var isNextWalkable;\r\n            if (dx !== 0) {\r\n                isNextWalkable = grid.isWalkableAt(x + dx, y);\r\n                var isTopWalkable = grid.isWalkableAt(x, y + 1);\r\n                var isBottomWalkable = grid.isWalkableAt(x, y - 1);\r\n\r\n                if (isNextWalkable) {\r\n                    neighbors.push([x + dx, y]);\r\n                    if (isTopWalkable) {\r\n                        neighbors.push([x + dx, y + 1]);\r\n                    }\r\n                    if (isBottomWalkable) {\r\n                        neighbors.push([x + dx, y - 1]);\r\n                    }\r\n                }\r\n                if (isTopWalkable) {\r\n                    neighbors.push([x, y + 1]);\r\n                }\r\n                if (isBottomWalkable) {\r\n                    neighbors.push([x, y - 1]);\r\n                }\r\n            }\r\n            else if (dy !== 0) {\r\n                isNextWalkable = grid.isWalkableAt(x, y + dy);\r\n                var isRightWalkable = grid.isWalkableAt(x + 1, y);\r\n                var isLeftWalkable = grid.isWalkableAt(x - 1, y);\r\n\r\n                if (isNextWalkable) {\r\n                    neighbors.push([x, y + dy]);\r\n                    if (isRightWalkable) {\r\n                        neighbors.push([x + 1, y + dy]);\r\n                    }\r\n                    if (isLeftWalkable) {\r\n                        neighbors.push([x - 1, y + dy]);\r\n                    }\r\n                }\r\n                if (isRightWalkable) {\r\n                    neighbors.push([x + 1, y]);\r\n                }\r\n                if (isLeftWalkable) {\r\n                    neighbors.push([x - 1, y]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // return all neighbors\r\n    else {\r\n        neighborNodes = grid.getNeighbors(node, DiagonalMovement.OnlyWhenNoObstacles);\r\n        for (i = 0, l = neighborNodes.length; i < l; ++i) {\r\n            neighborNode = neighborNodes[i];\r\n            neighbors.push([neighborNode.x, neighborNode.y]);\r\n        }\r\n    }\r\n\r\n    return neighbors;\r\n};\r\n\r\nmodule.exports = JPFMoveDiagonallyIfNoObstacles;\r\n","/**\r\n * @author imor / https://github.com/imor\r\n */\r\nvar JumpPointFinderBase = require('./JumpPointFinderBase');\r\nvar DiagonalMovement = require('../core/DiagonalMovement');\r\n\r\n/**\r\n * Path finder using the Jump Point Search algorithm which moves\r\n * diagonally only when there is at most one obstacle.\r\n */\r\nfunction JPFMoveDiagonallyIfAtMostOneObstacle(opt) {\r\n    JumpPointFinderBase.call(this, opt);\r\n}\r\n\r\nJPFMoveDiagonallyIfAtMostOneObstacle.prototype = new JumpPointFinderBase();\r\nJPFMoveDiagonallyIfAtMostOneObstacle.prototype.constructor = JPFMoveDiagonallyIfAtMostOneObstacle;\r\n\r\n/**\r\n * Search recursively in the direction (parent -> child), stopping only when a\r\n * jump point is found.\r\n * @protected\r\n * @return {Array<Array<number>>} The x, y coordinate of the jump point\r\n *     found, or null if not found\r\n */\r\nJPFMoveDiagonallyIfAtMostOneObstacle.prototype._jump = function(x, y, px, py) {\r\n    var grid = this.grid,\r\n        dx = x - px, dy = y - py;\r\n\r\n    if (!grid.isWalkableAt(x, y)) {\r\n        return null;\r\n    }\r\n\r\n    if(this.trackJumpRecursion === true) {\r\n        grid.getNodeAt(x, y).tested = true;\r\n    }\r\n\r\n    if (grid.getNodeAt(x, y) === this.endNode) {\r\n        return [x, y];\r\n    }\r\n\r\n    // check for forced neighbors\r\n    // along the diagonal\r\n    if (dx !== 0 && dy !== 0) {\r\n        if ((grid.isWalkableAt(x - dx, y + dy) && !grid.isWalkableAt(x - dx, y)) ||\r\n            (grid.isWalkableAt(x + dx, y - dy) && !grid.isWalkableAt(x, y - dy))) {\r\n            return [x, y];\r\n        }\r\n        // when moving diagonally, must check for vertical/horizontal jump points\r\n        if (this._jump(x + dx, y, x, y) || this._jump(x, y + dy, x, y)) {\r\n            return [x, y];\r\n        }\r\n    }\r\n    // horizontally/vertically\r\n    else {\r\n        if( dx !== 0 ) { // moving along x\r\n            if((grid.isWalkableAt(x + dx, y + 1) && !grid.isWalkableAt(x, y + 1)) ||\r\n               (grid.isWalkableAt(x + dx, y - 1) && !grid.isWalkableAt(x, y - 1))) {\r\n                return [x, y];\r\n            }\r\n        }\r\n        else {\r\n            if((grid.isWalkableAt(x + 1, y + dy) && !grid.isWalkableAt(x + 1, y)) ||\r\n               (grid.isWalkableAt(x - 1, y + dy) && !grid.isWalkableAt(x - 1, y))) {\r\n                return [x, y];\r\n            }\r\n        }\r\n    }\r\n\r\n    // moving diagonally, must make sure one of the vertical/horizontal\r\n    // neighbors is open to allow the path\r\n    if (grid.isWalkableAt(x + dx, y) || grid.isWalkableAt(x, y + dy)) {\r\n        return this._jump(x + dx, y + dy, x, y);\r\n    } else {\r\n        return null;\r\n    }\r\n};\r\n\r\n/**\r\n * Find the neighbors for the given node. If the node has a parent,\r\n * prune the neighbors based on the jump point search algorithm, otherwise\r\n * return all available neighbors.\r\n * @return {Array<Array<number>>} The neighbors found.\r\n */\r\nJPFMoveDiagonallyIfAtMostOneObstacle.prototype._findNeighbors = function(node) {\r\n    var parent = node.parent,\r\n        x = node.x, y = node.y,\r\n        grid = this.grid,\r\n        px, py, nx, ny, dx, dy,\r\n        neighbors = [], neighborNodes, neighborNode, i, l;\r\n\r\n    // directed pruning: can ignore most neighbors, unless forced.\r\n    if (parent) {\r\n        px = parent.x;\r\n        py = parent.y;\r\n        // get the normalized direction of travel\r\n        dx = (x - px) / Math.max(Math.abs(x - px), 1);\r\n        dy = (y - py) / Math.max(Math.abs(y - py), 1);\r\n\r\n        // search diagonally\r\n        if (dx !== 0 && dy !== 0) {\r\n            if (grid.isWalkableAt(x, y + dy)) {\r\n                neighbors.push([x, y + dy]);\r\n            }\r\n            if (grid.isWalkableAt(x + dx, y)) {\r\n                neighbors.push([x + dx, y]);\r\n            }\r\n            if (grid.isWalkableAt(x, y + dy) || grid.isWalkableAt(x + dx, y)) {\r\n                neighbors.push([x + dx, y + dy]);\r\n            }\r\n            if (!grid.isWalkableAt(x - dx, y) && grid.isWalkableAt(x, y + dy)) {\r\n                neighbors.push([x - dx, y + dy]);\r\n            }\r\n            if (!grid.isWalkableAt(x, y - dy) && grid.isWalkableAt(x + dx, y)) {\r\n                neighbors.push([x + dx, y - dy]);\r\n            }\r\n        }\r\n        // search horizontally/vertically\r\n        else {\r\n            if(dx === 0) {\r\n                if (grid.isWalkableAt(x, y + dy)) {\r\n                    neighbors.push([x, y + dy]);\r\n                    if (!grid.isWalkableAt(x + 1, y)) {\r\n                        neighbors.push([x + 1, y + dy]);\r\n                    }\r\n                    if (!grid.isWalkableAt(x - 1, y)) {\r\n                        neighbors.push([x - 1, y + dy]);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (grid.isWalkableAt(x + dx, y)) {\r\n                    neighbors.push([x + dx, y]);\r\n                    if (!grid.isWalkableAt(x, y + 1)) {\r\n                        neighbors.push([x + dx, y + 1]);\r\n                    }\r\n                    if (!grid.isWalkableAt(x, y - 1)) {\r\n                        neighbors.push([x + dx, y - 1]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    // return all neighbors\r\n    else {\r\n        neighborNodes = grid.getNeighbors(node, DiagonalMovement.IfAtMostOneObstacle);\r\n        for (i = 0, l = neighborNodes.length; i < l; ++i) {\r\n            neighborNode = neighborNodes[i];\r\n            neighbors.push([neighborNode.x, neighborNode.y]);\r\n        }\r\n    }\r\n\r\n    return neighbors;\r\n};\r\n\r\nmodule.exports = JPFMoveDiagonallyIfAtMostOneObstacle;\r\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();\n\nvar _geom = require('./geom');\n\nvar Path = function Path(init) {\n  var _instructions = init || [];\n\n  var push = function push(arr, el) {\n    var copy = arr.slice(0, arr.length);\n    copy.push(el);\n    return copy;\n  };\n\n  var areEqualPoints = function areEqualPoints(_ref, _ref3) {\n    var _ref2 = _slicedToArray(_ref, 2);\n\n    var a1 = _ref2[0];\n    var b1 = _ref2[1];\n\n    var _ref32 = _slicedToArray(_ref3, 2);\n\n    var a2 = _ref32[0];\n    var b2 = _ref32[1];\n    return a1 === a2 && b1 === b2;\n  };\n\n  var trimZeros = function trimZeros(string, char) {\n    var l = string.length;\n    while (string.charAt(l - 1) === '0') {\n      l = l - 1;\n    }\n    if (string.charAt(l - 1) === '.') {\n      l = l - 1;\n    }\n    return string.substr(0, l);\n  };\n\n  var round = function round(number, digits) {\n    var str = number.toFixed(digits);\n    return trimZeros(str);\n  };\n\n  var printInstrunction = function printInstrunction(_ref4) {\n    var command = _ref4.command;\n    var params = _ref4.params;\n\n    var numbers = params.map(function (param) {\n      return round(param, 6);\n    });\n    return command + ' ' + numbers.join(' ');\n  };\n\n  var point = function point(_ref5, prev) {\n    var command = _ref5.command;\n    var params = _ref5.params;\n\n    switch (command) {\n      case 'M':\n        return [params[0], params[1]];\n      case 'L':\n        return [params[0], params[1]];\n      case 'H':\n        return [params[0], prev[1]];\n      case 'V':\n        return [prev[0], params[0]];\n      case 'Z':\n        return null;\n      case 'C':\n        return [params[4], params[5]];\n      case 'S':\n        return [params[2], params[3]];\n      case 'Q':\n        return [params[2], params[3]];\n      case 'T':\n        return [params[0], params[1]];\n      case 'A':\n        return [params[5], params[6]];\n    }\n  };\n\n  var transformParams = function transformParams(instruction, matrix, prev) {\n    var p = instruction.params;\n\n    var transformer = {\n      'V': function V(instruction, matrix, prev) {\n        var pts = [{ x: prev[0], y: p[1] }];\n        var newPts = (0, _geom.matrixTransform)(pts, matrix);\n        if (newPts[0].x === (0, _geom.matrixTransform)([{ x: prev[0], y: prev[1] }])[0].x) {\n          return {\n            command: 'V',\n            params: [newPts[0].y]\n          };\n        } else {\n          return {\n            command: 'L',\n            params: [newPts[0].x, newPts[0].y]\n          };\n        }\n      },\n      'H': function H(instruction, matrix, prev) {\n        var pts = [{ x: p[0], y: prev[1] }];\n        var newPts = (0, _geom.matrixTransform)(pts, matrix);\n        if (newPts[0].y === (0, _geom.matrixTransform)([{ x: prev[0], y: prev[1] }])[0].y) {\n          return {\n            command: 'H',\n            params: [newPts[0].x]\n          };\n        } else {\n          return {\n            command: 'L',\n            params: [newPts[0].x, newPts[0].y]\n          };\n        }\n      },\n      'A': function A(instruction, matrix, prev) {\n        // transform rx, ry, and x-axis rotation\n        var r = (0, _geom.transformEllipse)(p[0], p[1], p[2], matrix);\n\n        var sweepFlag = p[4];\n        if (matrix[0] * matrix[3] - matrix[1] * matrix[2] < 0) {\n          sweepFlag = sweepFlag ? '0' : '1';\n        }\n\n        // transform endpoint\n        var pts = [{ x: p[5], y: p[6] }];\n        var newPts = (0, _geom.matrixTransform)(pts, matrix);\n\n        if (r.isDegenerate) {\n          return {\n            command: 'L',\n            params: [newPts[0].x, newPts[0].y]\n          };\n        } else {\n          return {\n            command: 'A',\n            params: [r.rx, r.ry, r.ax, p[3], sweepFlag, newPts[0].x, newPts[0].y]\n          };\n        }\n      },\n      'C': function C(instruction, matrix, prev) {\n        var pts = [{ x: p[0], y: p[1] }, { x: p[2], y: p[3] }, { x: p[4], y: p[5] }];\n        var newPts = (0, _geom.matrixTransform)(pts, matrix);\n        return {\n          command: 'C',\n          params: [newPts[0].x, newPts[0].y, newPts[1].x, newPts[1].y, newPts[2].x, newPts[2].y]\n        };\n      },\n      'Z': function Z(instruction, matrix, prev) {\n        return {\n          command: 'Z',\n          params: []\n        };\n      },\n      'default': function _default(instruction, matrix, prev) {\n        var pts = [{ x: p[0], y: p[1] }];\n        var newPts = (0, _geom.matrixTransform)(pts, matrix);\n        var newParams = instruction.params.slice(0, instruction.params.length);\n        newParams.splice(0, 2, newPts[0].x, newPts[0].y);\n        return {\n          command: instruction.command,\n          params: newParams\n        };\n      }\n    };\n\n    if (transformer[instruction.command]) {\n      return transformer[instruction.command](instruction, matrix, prev);\n    } else {\n      return transformer['default'](instruction, matrix, prev);\n    }\n  };\n\n  var verbosify = function verbosify(keys, f) {\n    return function (a) {\n      var args = typeof a === 'object' ? keys.map(function (k) {\n        return a[k];\n      }) : arguments;\n      return f.apply(null, args);\n    };\n  };\n\n  var plus = function plus(instruction) {\n    return Path(push(_instructions, instruction));\n  };\n\n  return {\n    moveto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'M',\n        params: [x, y]\n      });\n    }),\n    lineto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'L',\n        params: [x, y]\n      });\n    }),\n    hlineto: verbosify(['x'], function (x) {\n      return plus({\n        command: 'H',\n        params: [x]\n      });\n    }),\n    vlineto: verbosify(['y'], function (y) {\n      return plus({\n        command: 'V',\n        params: [y]\n      });\n    }),\n    closepath: function closepath() {\n      return plus({\n        command: 'Z',\n        params: []\n      });\n    },\n    curveto: verbosify(['x1', 'y1', 'x2', 'y2', 'x', 'y'], function (x1, y1, x2, y2, x, y) {\n      return plus({\n        command: 'C',\n        params: [x1, y1, x2, y2, x, y]\n      });\n    }),\n    smoothcurveto: verbosify(['x2', 'y2', 'x', 'y'], function (x2, y2, x, y) {\n      return plus({\n        command: 'S',\n        params: [x2, y2, x, y]\n      });\n    }),\n    qcurveto: verbosify(['x1', 'y1', 'x', 'y'], function (x1, y1, x, y) {\n      return plus({\n        command: 'Q',\n        params: [x1, y1, x, y]\n      });\n    }),\n    smoothqcurveto: verbosify(['x', 'y'], function (x, y) {\n      return plus({\n        command: 'T',\n        params: [x, y]\n      });\n    }),\n    arc: verbosify(['rx', 'ry', 'xrot', 'largeArcFlag', 'sweepFlag', 'x', 'y'], function (rx, ry, xrot, largeArcFlag, sweepFlag, x, y) {\n      return plus({\n        command: 'A',\n        params: [rx, ry, xrot, largeArcFlag, sweepFlag, x, y]\n      });\n    }),\n    translate: verbosify(['dx', 'dy'], function () {\n      var dx = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n      var dy = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n\n      if (dx !== 0 || dx !== 0) {\n        var _ret = (function () {\n          var prev = [0, 0];\n          var matrix = [1, 0, 0, 1, dx, dy];\n          var newInstructions = _instructions.map(function (instruction) {\n            var p = transformParams(instruction, matrix, prev);\n            prev = point(instruction, prev);\n            return p;\n          });\n          return {\n            v: Path(newInstructions)\n          };\n        })();\n\n        if (typeof _ret === 'object') return _ret.v;\n      } else {\n        return Path(_instructions);\n      }\n    }),\n    rotate: verbosify(['angle', 'rx', 'ry'], function (angle) {\n      var rx = arguments.length <= 1 || arguments[1] === undefined ? 0 : arguments[1];\n      var ry = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n      if (angle !== 0) {\n        var _ret2 = (function () {\n          var prev = undefined;\n          var matrix = undefined;\n          var newInstructions = _instructions;\n\n          if (rx !== 0 && ry !== 0) {\n            prev = [0, 0];\n            matrix = [1, 0, 0, 1, -rx, -ry];\n            newInstructions = newInstructions.map(function (instruction) {\n              var p = transformParams(instruction, matrix, prev);\n              prev = point(instruction, prev);\n              return p;\n            });\n          }\n\n          var rad = angle * Math.PI / 180;\n          var cos = Math.cos(rad);\n          var sin = Math.sin(rad);\n\n          prev = [0, 0];\n          matrix = [cos, sin, -sin, cos, 0, 0];\n          newInstructions = newInstructions.map(function (instruction) {\n            var p = transformParams(instruction, matrix, prev);\n            prev = point(instruction, prev);\n            return p;\n          });\n\n          if (rx !== 0 && ry !== 0) {\n            prev = [0, 0];\n            matrix = [1, 0, 0, 1, rx, ry];\n            newInstructions = newInstructions.map(function (instruction) {\n              var p = transformParams(instruction, matrix, prev);\n              prev = point(instruction, prev);\n              return p;\n            });\n          }\n\n          return {\n            v: Path(newInstructions)\n          };\n        })();\n\n        if (typeof _ret2 === 'object') return _ret2.v;\n      } else {\n        return Path(_instructions);\n      }\n    }),\n    scale: verbosify(['sx', 'sy'], function () {\n      var sx = arguments.length <= 0 || arguments[0] === undefined ? 1 : arguments[0];\n      var sy = arguments.length <= 1 || arguments[1] === undefined ? sx : arguments[1];\n      return (function () {\n        if (sx !== 1 || sy !== 1) {\n          var _ret3 = (function () {\n            var prev = [0, 0];\n            var matrix = [sx, 0, 0, sy, 0, 0];\n            var newInstructions = _instructions.map(function (instruction) {\n              var p = transformParams(instruction, matrix, prev);\n              prev = point(instruction, prev);\n              return p;\n            });\n            return {\n              v: Path(newInstructions)\n            };\n          })();\n\n          if (typeof _ret3 === 'object') return _ret3.v;\n        } else {\n          return Path(_instructions);\n        }\n      })();\n    }),\n    shearX: verbosify(['angle'], function () {\n      var angle = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\n      if (angle !== 0) {\n        var _ret4 = (function () {\n          var prev = [0, 0];\n          var matrix = [1, 0, Math.tan(angle * Math.PI / 180), 1, 0, 0];\n          var newInstructions = _instructions.map(function (instruction) {\n            var p = transformParams(instruction, matrix, prev);\n            prev = point(instruction, prev);\n            return p;\n          });\n          return {\n            v: Path(newInstructions)\n          };\n        })();\n\n        if (typeof _ret4 === 'object') return _ret4.v;\n      } else {\n        return Path(_instructions);\n      }\n    }),\n    shearY: verbosify(['angle'], function () {\n      var angle = arguments.length <= 0 || arguments[0] === undefined ? 0 : arguments[0];\n\n      if (angle !== 0) {\n        var _ret5 = (function () {\n          var prev = [0, 0];\n          var matrix = [1, Math.tan(angle * Math.PI / 180), 0, 1, 0, 0];\n          var newInstructions = _instructions.map(function (instruction) {\n            var p = transformParams(instruction, matrix, prev);\n            prev = point(instruction, prev);\n            return p;\n          });\n          return {\n            v: Path(newInstructions)\n          };\n        })();\n\n        if (typeof _ret5 === 'object') return _ret5.v;\n      } else {\n        return Path(_instructions);\n      }\n    }),\n    print: function print() {\n      return _instructions.map(printInstrunction).join(' ');\n    },\n    toString: function toString() {\n      return undefined.print();\n    },\n    points: function points() {\n      var ps = [];\n      var prev = [0, 0];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = _instructions[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var instruction = _step.value;\n\n          var p = point(instruction, prev);\n          prev = p;\n          if (p) {\n            ps.push(p);\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator['return']) {\n            _iterator['return']();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return ps;\n    },\n    instructions: function instructions() {\n      return _instructions.slice(0, _instructions.length);\n    },\n    connect: function connect(path) {\n      var ps = this.points();\n      var last = ps[ps.length - 1];\n      var first = path.points()[0];\n      var newInstructions = undefined;\n      if (_instructions[_instructions.length - 1].command !== 'Z') {\n        newInstructions = path.instructions().slice(1);\n        if (!areEqualPoints(last, first)) {\n          newInstructions.unshift({\n            command: \"L\",\n            params: first\n          });\n        }\n      } else {\n        newInstructions = path.instructions();\n      }\n      return Path(this.instructions().concat(newInstructions));\n    }\n  };\n};\n\nexports['default'] = function () {\n  return Path();\n};\n\nmodule.exports = exports['default'];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; })();\n\nvar sq = function sq(x) {\n  return x * x;\n};\n\nvar distPointToPoint = function distPointToPoint(_ref, _ref3) {\n  var _ref2 = _slicedToArray(_ref, 2);\n\n  var ax = _ref2[0];\n  var ay = _ref2[1];\n\n  var _ref32 = _slicedToArray(_ref3, 2);\n\n  var bx = _ref32[0];\n  var by = _ref32[1];\n  return Math.sqrt(sq(ax - bx) + sq(ay - by));\n};\n\nvar distPointToParabol = function distPointToParabol(a, f) {\n  var p = distPointToPoint(a, f);\n\n  return p == 0 ? Infinity : sq(p) / (2 * Math.abs(a[1] - f[1]));\n};\n\nvar circumCenter = function circumCenter(a, b, c) {\n  var d = (a[0] - c[0]) * (b[1] - c[1]) - (b[0] - c[0]) * (a[1] - c[1]);\n\n  if (d == 0) return [Infinity, Infinity];\n\n  var xc = (((a[0] - c[0]) * (a[0] + c[0]) + (a[1] - c[1]) * (a[1] + c[1])) / 2 * (b[1] - c[1]) - ((b[0] - c[0]) * (b[0] + c[0]) + (b[1] - c[1]) * (b[1] + c[1])) / 2 * (a[1] - c[1])) / d;\n  var yc = (((b[0] - c[0]) * (b[0] + c[0]) + (b[1] - c[1]) * (b[1] + c[1])) / 2 * (a[0] - c[0]) - ((a[0] - c[0]) * (a[0] + c[0]) + (a[1] - c[1]) * (a[1] + c[1])) / 2 * (b[0] - c[0])) / d;\n  return [xc, yc];\n};\n\nvar parabolsCrossX = function parabolsCrossX(fa, fb, q) {\n  if (fa[1] === fb[1]) return [(fa[0] + fb[0]) / 2, (fa[0] + fb[0]) / 2];\n\n  var s1 = (fa[1] * fb[0] - fa[0] * fb[1] + fa[0] * q - fb[0] * q + Math.sqrt((fa[0] * fa[0] + fa[1] * fa[1] - 2 * fa[0] * fb[0] + fb[0] * fb[0] - 2 * fa[1] * fb[1] + fb[1] * fb[1]) * (fa[1] * fb[1] - fa[1] * q - fb[1] * q + q * q))) / (fa[1] - fb[1]);\n  var s2 = (fa[1] * fb[0] - fa[0] * fb[1] + fa[0] * q - fb[0] * q - Math.sqrt((fa[0] * fa[0] + fa[1] * fa[1] - 2 * fa[0] * fb[0] + fb[0] * fb[0] - 2 * fa[1] * fb[1] + fb[1] * fb[1]) * (fa[1] * fb[1] - fa[1] * q - fb[1] * q + q * q))) / (fa[1] - fb[1]);\n\n  return s1 < s2 ? [s1, s2] : [s2, s1];\n};\n\nvar doHalflinesCross = function doHalflinesCross(sa, sb) {\n  var approx = arguments.length <= 2 || arguments[2] === undefined ? 1e-10 : arguments[2];\n  //sa, sb are Segment instance\n  var dx = sb.ps[0] - sa.ps[0];\n  var dy = sb.ps[1] - sa.ps[1];\n\n  if (sa.m == Infinity) return sa.hp * (sb.m * dx - dy) <= approx && sb.vec[0] * dx <= approx;\n  if (sb.m == Infinity) return sb.hp * (sa.m * dx - dy) >= -approx && sa.vec[0] * dx >= -approx;\n\n  var det = sb.vec[0] * sa.vec[1] - sb.vec[1] * sa.vec[0];\n\n  if (det === 0) return false;\n\n  var u = (dy * sb.vec[0] - dx * sb.vec[1]) / det;\n  var v = (dy * sa.vec[0] - dx * sa.vec[1]) / det;\n\n  return u >= -approx && v >= approx || u >= approx && v >= -approx;\n};\n\nvar matrixTransform = function matrixTransform(points, matrix) {\n  return points.map(function (point) {\n    return {\n      x: point.x * matrix[0] + point.y * matrix[2] + matrix[4],\n      y: point.x * matrix[1] + point.y * matrix[3] + matrix[5]\n    };\n  });\n};\n\nvar transformEllipse = function transformEllipse(rx, ry, ax, m) {\n  var torad = Math.PI / 180;\n  var epsilon = 0.0000000001;\n\n  var c = Math.cos(ax * torad),\n      s = Math.sin(ax * torad);\n  var ma = [rx * (m[0] * c + m[2] * s), rx * (m[1] * c + m[3] * s), ry * (-m[0] * s + m[2] * c), ry * (-m[1] * s + m[3] * c)];\n\n  var J = ma[0] * ma[0] + ma[2] * ma[2],\n      K = ma[1] * ma[1] + ma[3] * ma[3];\n\n  var D = ((ma[0] - ma[3]) * (ma[0] - ma[3]) + (ma[2] + ma[1]) * (ma[2] + ma[1])) * ((ma[0] + ma[3]) * (ma[0] + ma[3]) + (ma[2] - ma[1]) * (ma[2] - ma[1]));\n\n  var JK = (J + K) / 2;\n\n  if (D < epsilon * JK) {\n    return {\n      rx: Math.sqrt(JK),\n      ry: Math.sqrt(JK),\n      ax: 0,\n      isDegenerate: false\n    };\n  }\n\n  var L = ma[0] * ma[1] + ma[2] * ma[3];\n  D = Math.sqrt(D);\n\n  var l1 = JK + D / 2,\n      l2 = JK - D / 2;\n\n  var newAx = undefined,\n      newRx = undefined,\n      newRy = undefined;\n  newAx = Math.abs(L) < epsilon && Math.abs(l1 - K) < epsilon ? 90 : Math.atan(Math.abs(L) > Math.abs(l1 - K) ? (l1 - J) / L : L / (l1 - K)) * 180 / Math.PI;\n\n  if (newAx >= 0) {\n    newRx = Math.sqrt(l1);\n    newRy = Math.sqrt(l2);\n  } else {\n    newAx += 90;\n    newRx = Math.sqrt(l2);\n    newRy = Math.sqrt(l1);\n  }\n\n  return {\n    rx: newRx,\n    ry: newRy,\n    ax: newAx,\n    isDegenerate: newRx < epsilon * newRy || newRy < epsilon * newRx\n  };\n};\n\nexports[\"default\"] = { distPointToPoint: distPointToPoint, distPointToParabol: distPointToParabol, circumCenter: circumCenter,\n  parabolsCrossX: parabolsCrossX, doHalflinesCross: doHalflinesCross, matrixTransform: matrixTransform, transformEllipse: transformEllipse };\nmodule.exports = exports[\"default\"];","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n","var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var baseIsMap = require('./_baseIsMap'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nmodule.exports = baseIsMap;\n","var baseIsSet = require('./_baseIsSet'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nmodule.exports = baseIsSet;\n","import { BaseEntity, BaseListener } from \"./BaseEntity\";\nimport { DiagramModel } from \"./models/DiagramModel\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport concat from \"lodash/concat\";\nimport flatMap from \"lodash/flatMap\";\nimport forEach from \"lodash/forEach\";\nimport maxBy from \"lodash/maxBy\";\nimport minBy from \"lodash/minBy\";\nimport range from \"lodash/range\";\nimport values from \"lodash/values\";\n\nimport { BaseModel, BaseModelListener } from \"./models/BaseModel\";\nimport { NodeModel } from \"./models/NodeModel\";\nimport { PointModel } from \"./models/PointModel\";\nimport { PortModel } from \"./models/PortModel\";\nimport { LinkModel } from \"./models/LinkModel\";\nimport { AbstractLabelFactory } from \"./factories/AbstractLabelFactory\";\nimport { AbstractLinkFactory } from \"./factories/AbstractLinkFactory\";\nimport { AbstractNodeFactory } from \"./factories/AbstractNodeFactory\";\nimport { AbstractPortFactory } from \"./factories/AbstractPortFactory\";\nimport { DefaultLinkFactory, DefaultNodeFactory } from \"./main\";\nimport { ROUTING_SCALING_FACTOR } from \"./routing/PathFinding\";\nimport { DefaultPortFactory } from \"./defaults/factories/DefaultPortFactory\";\nimport { LabelModel } from \"./models/LabelModel\";\nimport { DefaultLabelFactory } from \"./defaults/factories/DefaultLabelFactory\";\nimport { Toolkit } from \"./Toolkit\";\n/**\n * @author Dylan Vorster\n */\nexport interface DiagramEngineListener extends BaseListener {\n\tportFactoriesUpdated?(): void;\n\n\tnodeFactoriesUpdated?(): void;\n\n\tlinkFactoriesUpdated?(): void;\n\n\tlabelFactoriesUpdated?(): void;\n\n\trepaintCanvas?(): void;\n}\n\n/**\n * Passed as a parameter to the DiagramWidget\n */\nexport class DiagramEngine extends BaseEntity<DiagramEngineListener> {\n\tnodeFactories: { [s: string]: AbstractNodeFactory };\n\tlinkFactories: { [s: string]: AbstractLinkFactory };\n\tportFactories: { [s: string]: AbstractPortFactory };\n\tlabelFactories: { [s: string]: AbstractLabelFactory };\n\n\tdiagramModel: DiagramModel;\n\tcanvas: Element;\n\tisMoving: boolean;\n\tpaintableWidgets: {};\n\tlinksThatHaveInitiallyRendered: {};\n\tnodesRendered: boolean;\n\tmaxNumberPointsPerLink: number;\n\tsmartRouting: boolean;\n\n\t// calculated only when smart routing is active\n\tcanvasMatrix: number[][] = [];\n\troutingMatrix: number[][] = [];\n\t// used when at least one element has negative coordinates\n\thAdjustmentFactor: number = 0;\n\tvAdjustmentFactor: number = 0;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.diagramModel = new DiagramModel();\n\t\tthis.nodeFactories = {};\n\t\tthis.linkFactories = {};\n\t\tthis.portFactories = {};\n\t\tthis.labelFactories = {};\n\t\tthis.canvas = null;\n\t\tthis.isMoving = false;\n\t\tthis.paintableWidgets = null;\n\t\tthis.linksThatHaveInitiallyRendered = {};\n\n\t\tif (Toolkit.TESTING) {\n\t\t\tToolkit.TESTING_UID = 0;\n\n\t\t\t//pop it onto the window so our E2E helpers can find it\n\t\t\tif (window) {\n\t\t\t\t(window as any)[\"diagram_instance\"] = this;\n\t\t\t}\n\t\t}\n\t}\n\n\t// startMove() {\n\t// \tconsole.log(\"startMove\");\n\t// \tthis.isMoving = true;\n\t// }\n\n\t// stopMove() {\n\t// \tconsole.log(\"stopMove\");\n\t// \tthis.isMoving = false;\n\t// }\n\n\t// getMove() {\n\t// \tconsole.log(\"getMove\");\n\t// \treturn this.isMoving;\n\t// }\n\n\tinstallDefaultFactories() {\n\t\tthis.registerNodeFactory(new DefaultNodeFactory());\n\t\tthis.registerLinkFactory(new DefaultLinkFactory());\n\t\tthis.registerPortFactory(new DefaultPortFactory());\n\t\tthis.registerLabelFactory(new DefaultLabelFactory());\n\t}\n\n\trepaintCanvas() {\n\t\tthis.iterateListeners(listener => {\n\t\t\tif (listener.repaintCanvas) {\n\t\t\t\tlistener.repaintCanvas();\n\t\t\t}\n\t\t});\n\t}\n\n\tclearRepaintEntities() {\n\t\tthis.paintableWidgets = null;\n\t}\n\n\tenableRepaintEntities(entities: BaseModel<BaseEntity, BaseModelListener>[]) {\n\t\tthis.paintableWidgets = {};\n\t\tentities.forEach(entity => {\n\t\t\t//if a node is requested to repaint, add all of its links\n\t\t\tif (entity instanceof NodeModel) {\n\t\t\t\tforEach(entity.getPorts(), port => {\n\t\t\t\t\tforEach(port.getLinks(), link => {\n\t\t\t\t\t\tthis.paintableWidgets[link.getID()] = true;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (entity instanceof PointModel) {\n\t\t\t\tthis.paintableWidgets[entity.getLink().getID()] = true;\n\t\t\t}\n\n\t\t\tthis.paintableWidgets[entity.getID()] = true;\n\t\t});\n\t}\n\n\t/**\n\t * Checks to see if a model is locked by running through\n\t * its parents to see if they are locked first\n\t */\n\tisModelLocked(model: BaseEntity<BaseListener>) {\n\t\t//always check the diagram model\n\t\tif (this.diagramModel.isLocked()) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn model.isLocked();\n\t}\n\n\trecalculatePortsVisually() {\n\t\tthis.nodesRendered = false;\n\t\tthis.linksThatHaveInitiallyRendered = {};\n\t}\n\n\tcanEntityRepaint(baseModel: BaseModel<BaseEntity, BaseModelListener>) {\n\t\t//no rules applied, allow repaint\n\t\tif (this.paintableWidgets === null) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.paintableWidgets[baseModel.getID()] !== undefined;\n\t}\n\n\tsetCanvas(canvas: Element | null) {\n\t\tthis.canvas = canvas;\n\t}\n\n\tsetDiagramModel(model: DiagramModel) {\n\t\tthis.diagramModel = model;\n\t\tthis.recalculatePortsVisually();\n\t}\n\n\tgetDiagramModel(): DiagramModel {\n\t\treturn this.diagramModel;\n\t}\n\n\t//!-------------- FACTORIES ------------\n\n\tgetNodeFactories(): { [s: string]: AbstractNodeFactory } {\n\t\treturn this.nodeFactories;\n\t}\n\n\tgetLinkFactories(): { [s: string]: AbstractLinkFactory } {\n\t\treturn this.linkFactories;\n\t}\n\n\tgetLabelFactories(): { [s: string]: AbstractLabelFactory } {\n\t\treturn this.labelFactories;\n\t}\n\n\tregisterLabelFactory(factory: AbstractLabelFactory) {\n\t\tthis.labelFactories[factory.getType()] = factory;\n\t\tthis.iterateListeners(listener => {\n\t\t\tif (listener.labelFactoriesUpdated) {\n\t\t\t\tlistener.labelFactoriesUpdated();\n\t\t\t}\n\t\t});\n\t}\n\n\tregisterPortFactory(factory: AbstractPortFactory) {\n\t\tthis.portFactories[factory.getType()] = factory;\n\t\tthis.iterateListeners(listener => {\n\t\t\tif (listener.portFactoriesUpdated) {\n\t\t\t\tlistener.portFactoriesUpdated();\n\t\t\t}\n\t\t});\n\t}\n\n\tregisterNodeFactory(factory: AbstractNodeFactory) {\n\t\tthis.nodeFactories[factory.getType()] = factory;\n\t\tthis.iterateListeners(listener => {\n\t\t\tif (listener.nodeFactoriesUpdated) {\n\t\t\t\tlistener.nodeFactoriesUpdated();\n\t\t\t}\n\t\t});\n\t}\n\n\tregisterLinkFactory(factory: AbstractLinkFactory) {\n\t\tthis.linkFactories[factory.getType()] = factory;\n\t\tthis.iterateListeners(listener => {\n\t\t\tif (listener.linkFactoriesUpdated) {\n\t\t\t\tlistener.linkFactoriesUpdated();\n\t\t\t}\n\t\t});\n\t}\n\n\tgetPortFactory(type: string): AbstractPortFactory {\n\t\tif (this.portFactories[type]) {\n\t\t\treturn this.portFactories[type];\n\t\t}\n\t\tthrow new Error(`cannot find factory for port of type: [${type}]`);\n\t}\n\n\tgetNodeFactory(type: string): AbstractNodeFactory {\n\t\tif (this.nodeFactories[type]) {\n\t\t\treturn this.nodeFactories[type];\n\t\t}\n\t\tthrow new Error(`cannot find factory for node of type: [${type}]`);\n\t}\n\n\tgetLinkFactory(type: string): AbstractLinkFactory {\n\t\tif (this.linkFactories[type]) {\n\t\t\treturn this.linkFactories[type];\n\t\t}\n\t\tthrow new Error(`cannot find factory for link of type: [${type}]`);\n\t}\n\n\tgetLabelFactory(type: string): AbstractLabelFactory {\n\t\tif (this.labelFactories[type]) {\n\t\t\treturn this.labelFactories[type];\n\t\t}\n\t\tthrow new Error(`cannot find factory for label of type: [${type}]`);\n\t}\n\n\tgetFactoryForNode(node: NodeModel): AbstractNodeFactory | null {\n\t\treturn this.getNodeFactory(node.getType());\n\t}\n\n\tgetFactoryForLink(link: LinkModel): AbstractLinkFactory | null {\n\t\treturn this.getLinkFactory(link.getType());\n\t}\n\n\tgetFactoryForLabel(label: LabelModel): AbstractLabelFactory | null {\n\t\treturn this.getLabelFactory(label.getType());\n\t}\n\n\tgenerateWidgetForLink(link: LinkModel): JSX.Element | null {\n\t\tvar linkFactory = this.getFactoryForLink(link);\n\t\tif (!linkFactory) {\n\t\t\tthrow new Error(\"Cannot find link factory for link: \" + link.getType());\n\t\t}\n\t\treturn linkFactory.generateReactWidget(this, link);\n\t}\n\n\tgenerateWidgetForNode(node: NodeModel): JSX.Element | null {\n\t\tvar nodeFactory = this.getFactoryForNode(node);\n\t\tif (!nodeFactory) {\n\t\t\tthrow new Error(\"Cannot find widget factory for node: \" + node.getType());\n\t\t}\n\t\treturn nodeFactory.generateReactWidget(this, node);\n\t}\n\n\tgetRelativeMousePoint(event): { x: number; y: number } {\n\t\tvar point = this.getRelativePoint(event.clientX, event.clientY);\n\t\treturn {\n\t\t\tx: (point.x - this.diagramModel.getOffsetX()) / (this.diagramModel.getZoomLevel() / 100.0),\n\t\t\ty: (point.y - this.diagramModel.getOffsetY()) / (this.diagramModel.getZoomLevel() / 100.0)\n\t\t};\n\t}\n\n\tgetRelativePoint(x, y) {\n\t\tvar canvasRect = this.canvas.getBoundingClientRect();\n\t\treturn { x: x - canvasRect.left, y: y - canvasRect.top };\n\t}\n\n\tgetNodeElement(node: NodeModel): Element {\n\t\tconst selector = this.canvas.querySelector(`.node[data-nodeid=\"${node.getID()}\"]`);\n\t\tif (selector === null) {\n\t\t\tthrow new Error(\"Cannot find Node element with nodeID: [\" + node.getID() + \"]\");\n\t\t}\n\t\treturn selector;\n\t}\n\n\tgetNodePortElement(port: PortModel): any {\n\t\tvar selector = this.canvas.querySelector(\n\t\t\t`.port[data-name=\"${port.getName()}\"][data-nodeid=\"${port.getParent().getID()}\"]`\n\t\t);\n\t\tif (selector === null) {\n\t\t\tthrow new Error(\n\t\t\t\t\"Cannot find Node Port element with nodeID: [\" +\n\t\t\t\t\tport.getParent().getID() +\n\t\t\t\t\t\"] and name: [\" +\n\t\t\t\t\tport.getName() +\n\t\t\t\t\t\"]\"\n\t\t\t);\n\t\t}\n\t\treturn selector;\n\t}\n\n\tgetPortCenter(port: PortModel) {\n\t\tvar sourceElement = this.getNodePortElement(port);\n\t\tvar sourceRect = sourceElement.getBoundingClientRect();\n\n\t\tvar rel = this.getRelativePoint(sourceRect.left, sourceRect.top);\n\n\t\treturn {\n\t\t\tx:\n\t\t\t\tsourceElement.offsetWidth / 2 +\n\t\t\t\t(rel.x - this.diagramModel.getOffsetX()) / (this.diagramModel.getZoomLevel() / 100.0),\n\t\t\ty:\n\t\t\t\tsourceElement.offsetHeight / 2 +\n\t\t\t\t(rel.y - this.diagramModel.getOffsetY()) / (this.diagramModel.getZoomLevel() / 100.0)\n\t\t};\n\t}\n\n\t/**\n\t * Calculate rectangular coordinates of the port passed in.\n\t */\n\tgetPortCoords(\n\t\tport: PortModel\n\t): {\n\t\tx: number;\n\t\ty: number;\n\t\twidth: number;\n\t\theight: number;\n\t} {\n\t\tconst sourceElement = this.getNodePortElement(port);\n\t\tconst sourceRect = sourceElement.getBoundingClientRect();\n\t\tconst canvasRect = this.canvas.getBoundingClientRect() as ClientRect;\n\n\t\treturn {\n\t\t\tx:\n\t\t\t\t(sourceRect.x - this.diagramModel.getOffsetX()) / (this.diagramModel.getZoomLevel() / 100.0) -\n\t\t\t\tcanvasRect.left,\n\t\t\ty:\n\t\t\t\t(sourceRect.y - this.diagramModel.getOffsetY()) / (this.diagramModel.getZoomLevel() / 100.0) -\n\t\t\t\tcanvasRect.top,\n\t\t\twidth: sourceRect.width,\n\t\t\theight: sourceRect.height\n\t\t};\n\t}\n\n\t/**\n\t * Determine the width and height of the node passed in.\n\t * It currently assumes nodes have a rectangular shape, can be overriden for customised shapes.\n\t */\n\tgetNodeDimensions(node: NodeModel): { width: number; height: number } {\n\t\tif (!this.canvas) {\n\t\t\treturn {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t};\n\t\t}\n\n\t\tconst nodeElement = this.getNodeElement(node);\n\t\tconst nodeRect = nodeElement.getBoundingClientRect();\n\n\t\treturn {\n\t\t\twidth: nodeRect.width,\n\t\t\theight: nodeRect.height\n\t\t};\n\t}\n\n\tgetMaxNumberPointsPerLink(): number {\n\t\treturn this.maxNumberPointsPerLink;\n\t}\n\n\tsetMaxNumberPointsPerLink(max: number) {\n\t\tthis.maxNumberPointsPerLink = max;\n\t}\n\n\tisSmartRoutingEnabled() {\n\t\treturn !!this.smartRouting;\n\t}\n\tsetSmartRoutingStatus(status: boolean) {\n\t\tthis.smartRouting = status;\n\t}\n\n\t/**\n\t * A representation of the canvas in the following format:\n\t *\n\t * +-----------------+\n\t * | 0 0 0 0 0 0 0 0 |\n\t * | 0 0 0 0 0 0 0 0 |\n\t * | 0 0 0 0 0 0 0 0 |\n\t * | 0 0 0 0 0 0 0 0 |\n\t * | 0 0 0 0 0 0 0 0 |\n\t * +-----------------+\n\t *\n\t * In which all walkable points are marked by zeros.\n\t * It uses @link{#ROUTING_SCALING_FACTOR} to reduce the matrix dimensions and improve performance.\n\t */\n\tgetCanvasMatrix(): number[][] {\n\t\tif (this.canvasMatrix.length === 0) {\n\t\t\tthis.calculateCanvasMatrix();\n\t\t}\n\n\t\treturn this.canvasMatrix;\n\t}\n\tcalculateCanvasMatrix() {\n\t\tconst {\n\t\t\twidth: canvasWidth,\n\t\t\thAdjustmentFactor,\n\t\t\theight: canvasHeight,\n\t\t\tvAdjustmentFactor\n\t\t} = this.calculateMatrixDimensions();\n\n\t\tthis.hAdjustmentFactor = hAdjustmentFactor;\n\t\tthis.vAdjustmentFactor = vAdjustmentFactor;\n\n\t\tconst matrixWidth = Math.ceil(canvasWidth / ROUTING_SCALING_FACTOR);\n\t\tconst matrixHeight = Math.ceil(canvasHeight / ROUTING_SCALING_FACTOR);\n\n\t\tthis.canvasMatrix = range(0, matrixHeight).map(() => {\n\t\t\treturn new Array(matrixWidth).fill(0);\n\t\t});\n\t}\n\n\t/**\n\t * A representation of the canvas in the following format:\n\t *\n\t * +-----------------+\n\t * | 0 0 1 1 0 0 0 0 |\n\t * | 0 0 1 1 0 0 1 1 |\n\t * | 0 0 0 0 0 0 1 1 |\n\t * | 1 1 0 0 0 0 0 0 |\n\t * | 1 1 0 0 0 0 0 0 |\n\t * +-----------------+\n\t *\n\t * In which all points blocked by a node (and its ports) are\n\t * marked as 1; points were there is nothing (ie, free) receive 0.\n\t */\n\tgetRoutingMatrix(): number[][] {\n\t\tif (this.routingMatrix.length === 0) {\n\t\t\tthis.calculateRoutingMatrix();\n\t\t}\n\n\t\treturn this.routingMatrix;\n\t}\n\tcalculateRoutingMatrix(): void {\n\t\tconst matrix = cloneDeep(this.getCanvasMatrix());\n\n\t\t// nodes need to be marked as blocked points\n\t\tthis.markNodes(matrix);\n\t\t// same thing for ports\n\t\tthis.markPorts(matrix);\n\n\t\tthis.routingMatrix = matrix;\n\t}\n\n\t/**\n\t * The routing matrix does not have negative indexes, but elements could be negatively positioned.\n\t * We use the functions below to translate back and forth between these coordinates, relying on the\n\t * calculated values of hAdjustmentFactor and vAdjustmentFactor.\n\t */\n\ttranslateRoutingX(x: number, reverse: boolean = false) {\n\t\treturn x + this.hAdjustmentFactor * (reverse ? -1 : 1);\n\t}\n\ttranslateRoutingY(y: number, reverse: boolean = false) {\n\t\treturn y + this.vAdjustmentFactor * (reverse ? -1 : 1);\n\t}\n\n\t/**\n\t * Despite being a long method, we simply iterate over all three collections (nodes, ports and points)\n\t * to find the highest X and Y dimensions, so we can build the matrix large enough to contain all elements.\n\t */\n\tcalculateMatrixDimensions = (): {\n\t\twidth: number;\n\t\thAdjustmentFactor: number;\n\t\theight: number;\n\t\tvAdjustmentFactor: number;\n\t} => {\n\t\tconst allNodesCoords = values(this.diagramModel.nodes).map(item => ({\n\t\t\tx: item.x,\n\t\t\twidth: item.width,\n\t\t\ty: item.y,\n\t\t\theight: item.height\n\t\t}));\n\n\t\tconst allLinks = values(this.diagramModel.links);\n\t\tconst allPortsCoords = flatMap(allLinks.map(link => [link.sourcePort, link.targetPort]))\n\t\t\t.filter(port => port !== null)\n\t\t\t.map(item => ({\n\t\t\t\tx: item.x,\n\t\t\t\twidth: item.width,\n\t\t\t\ty: item.y,\n\t\t\t\theight: item.height\n\t\t\t}));\n\t\tconst allPointsCoords = flatMap(allLinks.map(link => link.points)).map(item => ({\n\t\t\t// points don't have width/height, so let's just use 0\n\t\t\tx: item.x,\n\t\t\twidth: 0,\n\t\t\ty: item.y,\n\t\t\theight: 0\n\t\t}));\n\n\t\tconst canvas = this.canvas as HTMLDivElement;\n\t\tconst minX =\n\t\t\tMath.floor(\n\t\t\t\tMath.min(minBy(concat(allNodesCoords, allPortsCoords, allPointsCoords), item => item.x).x, 0) /\n\t\t\t\t\tROUTING_SCALING_FACTOR\n\t\t\t) * ROUTING_SCALING_FACTOR;\n\t\tconst maxXElement = maxBy(\n\t\t\tconcat(allNodesCoords, allPortsCoords, allPointsCoords),\n\t\t\titem => item.x + item.width\n\t\t);\n\t\tconst maxX = Math.max(maxXElement.x + maxXElement.width, canvas.offsetWidth);\n\n\t\tconst minY =\n\t\t\tMath.floor(\n\t\t\t\tMath.min(minBy(concat(allNodesCoords, allPortsCoords, allPointsCoords), item => item.y).y, 0) /\n\t\t\t\t\tROUTING_SCALING_FACTOR\n\t\t\t) * ROUTING_SCALING_FACTOR;\n\t\tconst maxYElement = maxBy(\n\t\t\tconcat(allNodesCoords, allPortsCoords, allPointsCoords),\n\t\t\titem => item.y + item.height\n\t\t);\n\t\tconst maxY = Math.max(maxYElement.y + maxYElement.height, canvas.offsetHeight);\n\n\t\treturn {\n\t\t\twidth: Math.ceil(Math.abs(minX) + maxX),\n\t\t\thAdjustmentFactor: Math.abs(minX) / ROUTING_SCALING_FACTOR + 1,\n\t\t\theight: Math.ceil(Math.abs(minY) + maxY),\n\t\t\tvAdjustmentFactor: Math.abs(minY) / ROUTING_SCALING_FACTOR + 1\n\t\t};\n\t};\n\n\t/**\n\t * Updates (by reference) where nodes will be drawn on the matrix passed in.\n\t */\n\tmarkNodes = (matrix: number[][]): void => {\n\t\tvalues(this.diagramModel.nodes).forEach(node => {\n\t\t\tconst startX = Math.floor(node.x / ROUTING_SCALING_FACTOR);\n\t\t\tconst endX = Math.ceil((node.x + node.width) / ROUTING_SCALING_FACTOR);\n\t\t\tconst startY = Math.floor(node.y / ROUTING_SCALING_FACTOR);\n\t\t\tconst endY = Math.ceil((node.y + node.height) / ROUTING_SCALING_FACTOR);\n\n\t\t\tfor (let x = startX - 1; x <= endX + 1; x++) {\n\t\t\t\tfor (let y = startY - 1; y < endY + 1; y++) {\n\t\t\t\t\tthis.markMatrixPoint(matrix, this.translateRoutingX(x), this.translateRoutingY(y));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * Updates (by reference) where ports will be drawn on the matrix passed in.\n\t */\n\tmarkPorts = (matrix: number[][]): void => {\n\t\tconst allElements = flatMap(\n\t\t\tvalues(this.diagramModel.links).map(link => [].concat(link.sourcePort, link.targetPort))\n\t\t);\n\t\tallElements.filter(port => port !== null).forEach(port => {\n\t\t\tconst startX = Math.floor(port.x / ROUTING_SCALING_FACTOR);\n\t\t\tconst endX = Math.ceil((port.x + port.width) / ROUTING_SCALING_FACTOR);\n\t\t\tconst startY = Math.floor(port.y / ROUTING_SCALING_FACTOR);\n\t\t\tconst endY = Math.ceil((port.y + port.height) / ROUTING_SCALING_FACTOR);\n\n\t\t\tfor (let x = startX - 1; x <= endX + 1; x++) {\n\t\t\t\tfor (let y = startY - 1; y < endY + 1; y++) {\n\t\t\t\t\tthis.markMatrixPoint(matrix, this.translateRoutingX(x), this.translateRoutingY(y));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tmarkMatrixPoint = (matrix: number[][], x: number, y: number) => {\n\t\tif (matrix[y] !== undefined && matrix[y][x] !== undefined) {\n\t\t\tmatrix[y][x] = 1;\n\t\t}\n\t};\n\n\tzoomToFit() {\n\t\tconst xFactor = this.canvas.clientWidth / this.canvas.scrollWidth;\n\t\tconst yFactor = this.canvas.clientHeight / this.canvas.scrollHeight;\n\t\tconst zoomFactor = xFactor < yFactor ? xFactor : yFactor;\n\n\t\tthis.diagramModel.setZoomLevel(this.diagramModel.getZoomLevel() * zoomFactor);\n\t\tthis.diagramModel.setOffset(0, 0);\n\t\tthis.repaintCanvas();\n\t}\n}\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.filter` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction baseFilter(collection, predicate) {\n  var result = [];\n  baseEach(collection, function(value, index, collection) {\n    if (predicate(value, index, collection)) {\n      result.push(value);\n    }\n  });\n  return result;\n}\n\nmodule.exports = baseFilter;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var baseIndexOf = require('./_baseIndexOf'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    toInteger = require('./toInteger'),\n    values = require('./values');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Checks if `value` is in `collection`. If `collection` is a string, it's\n * checked for a substring of `value`, otherwise\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * is used for equality comparisons. If `fromIndex` is negative, it's used as\n * the offset from the end of `collection`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @param {*} value The value to search for.\n * @param {number} [fromIndex=0] The index to search from.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {boolean} Returns `true` if `value` is found, else `false`.\n * @example\n *\n * _.includes([1, 2, 3], 1);\n * // => true\n *\n * _.includes([1, 2, 3], 1, 2);\n * // => false\n *\n * _.includes({ 'a': 1, 'b': 2 }, 1);\n * // => true\n *\n * _.includes('abcd', 'bc');\n * // => true\n */\nfunction includes(collection, value, fromIndex, guard) {\n  collection = isArrayLike(collection) ? collection : values(collection);\n  fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n  var length = collection.length;\n  if (fromIndex < 0) {\n    fromIndex = nativeMax(length + fromIndex, 0);\n  }\n  return isString(collection)\n    ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n    : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n}\n\nmodule.exports = includes;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","var arrayMap = require('./_arrayMap');\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\nmodule.exports = baseValues;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack);\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var root = require('./_root');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsFinite = root.isFinite;\n\n/**\n * Checks if `value` is a finite primitive number.\n *\n * **Note:** This method is based on\n * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n * @example\n *\n * _.isFinite(3);\n * // => true\n *\n * _.isFinite(Number.MIN_VALUE);\n * // => true\n *\n * _.isFinite(Infinity);\n * // => false\n *\n * _.isFinite('3');\n * // => false\n */\nfunction isFinite(value) {\n  return typeof value == 'number' && nativeIsFinite(value);\n}\n\nmodule.exports = isFinite;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArrayLike = require('./isArrayLike'),\n    isString = require('./isString'),\n    stringSize = require('./_stringSize');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Gets the size of `collection` by returning its length for array-like\n * values or the number of own enumerable string keyed properties for objects.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object|string} collection The collection to inspect.\n * @returns {number} Returns the collection size.\n * @example\n *\n * _.size([1, 2, 3]);\n * // => 3\n *\n * _.size({ 'a': 1, 'b': 2 });\n * // => 2\n *\n * _.size('pebbles');\n * // => 7\n */\nfunction size(collection) {\n  if (collection == null) {\n    return 0;\n  }\n  if (isArrayLike(collection)) {\n    return isString(collection) ? stringSize(collection) : collection.length;\n  }\n  var tag = getTag(collection);\n  if (tag == mapTag || tag == setTag) {\n    return collection.size;\n  }\n  return baseKeys(collection).length;\n}\n\nmodule.exports = size;\n","var asciiSize = require('./_asciiSize'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeSize = require('./_unicodeSize');\n\n/**\n * Gets the number of symbols in `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the string size.\n */\nfunction stringSize(string) {\n  return hasUnicode(string)\n    ? unicodeSize(string)\n    : asciiSize(string);\n}\n\nmodule.exports = stringSize;\n","var baseProperty = require('./_baseProperty');\n\n/**\n * Gets the size of an ASCII `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nvar asciiSize = baseProperty('length');\n\nmodule.exports = asciiSize;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Gets the size of a Unicode `string`.\n *\n * @private\n * @param {string} string The string inspect.\n * @returns {number} Returns the string size.\n */\nfunction unicodeSize(string) {\n  var result = reUnicode.lastIndex = 0;\n  while (reUnicode.test(string)) {\n    ++result;\n  }\n  return result;\n}\n\nmodule.exports = unicodeSize;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","var arrayPush = require('./_arrayPush'),\n    baseFlatten = require('./_baseFlatten'),\n    copyArray = require('./_copyArray'),\n    isArray = require('./isArray');\n\n/**\n * Creates a new array concatenating `array` with any additional arrays\n * and/or values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to concatenate.\n * @param {...*} [values] The values to concatenate.\n * @returns {Array} Returns the new concatenated array.\n * @example\n *\n * var array = [1];\n * var other = _.concat(array, 2, [3], [[4]]);\n *\n * console.log(other);\n * // => [1, 2, 3, [4]]\n *\n * console.log(array);\n * // => [1]\n */\nfunction concat() {\n  var length = arguments.length;\n  if (!length) {\n    return [];\n  }\n  var args = Array(length - 1),\n      array = arguments[0],\n      index = length;\n\n  while (index--) {\n    args[index - 1] = arguments[index];\n  }\n  return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n}\n\nmodule.exports = concat;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","var baseExtremum = require('./_baseExtremum'),\n    baseIteratee = require('./_baseIteratee'),\n    baseLt = require('./_baseLt');\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n    : undefined;\n}\n\nmodule.exports = minBy;\n","/**\n * The base implementation of `_.lt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is less than `other`,\n *  else `false`.\n */\nfunction baseLt(value, other) {\n  return value < other;\n}\n\nmodule.exports = baseLt;\n","var createRange = require('./_createRange');\n\n/**\n * Creates an array of numbers (positive and/or negative) progressing from\n * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n * `start` is specified without an `end` or `step`. If `end` is not specified,\n * it's set to `start` with `start` then set to `0`.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} [start=0] The start of the range.\n * @param {number} end The end of the range.\n * @param {number} [step=1] The value to increment or decrement by.\n * @returns {Array} Returns the range of numbers.\n * @see _.inRange, _.rangeRight\n * @example\n *\n * _.range(4);\n * // => [0, 1, 2, 3]\n *\n * _.range(-4);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 5);\n * // => [1, 2, 3, 4]\n *\n * _.range(0, 20, 5);\n * // => [0, 5, 10, 15]\n *\n * _.range(0, -4, -1);\n * // => [0, -1, -2, -3]\n *\n * _.range(1, 4, 0);\n * // => [1, 1, 1]\n *\n * _.range(0);\n * // => []\n */\nvar range = createRange();\n\nmodule.exports = range;\n","var baseRange = require('./_baseRange'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/**\n * Creates a `_.range` or `_.rangeRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new range function.\n */\nfunction createRange(fromRight) {\n  return function(start, end, step) {\n    if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n      end = step = undefined;\n    }\n    // Ensure the sign of `-0` is preserved.\n    start = toFinite(start);\n    if (end === undefined) {\n      end = start;\n      start = 0;\n    } else {\n      end = toFinite(end);\n    }\n    step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n    return baseRange(start, end, step, fromRight);\n  };\n}\n\nmodule.exports = createRange;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeCeil = Math.ceil,\n    nativeMax = Math.max;\n\n/**\n * The base implementation of `_.range` and `_.rangeRight` which doesn't\n * coerce arguments.\n *\n * @private\n * @param {number} start The start of the range.\n * @param {number} end The end of the range.\n * @param {number} step The value to increment or decrement by.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the range of numbers.\n */\nfunction baseRange(start, end, step, fromRight) {\n  var index = -1,\n      length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n      result = Array(length);\n\n  while (length--) {\n    result[fromRight ? length : ++index] = start;\n    start += step;\n  }\n  return result;\n}\n\nmodule.exports = baseRange;\n","import * as React from \"react\";\nimport { DefaultLinkWidget } from \"../widgets/DefaultLinkWidget\";\nimport { DiagramEngine } from \"../../DiagramEngine\";\nimport { AbstractLinkFactory } from \"../../factories/AbstractLinkFactory\";\nimport { DefaultLinkModel } from \"../models/DefaultLinkModel\";\n\n/**\n * @author Dylan Vorster\n */\nexport class DefaultLinkFactory extends AbstractLinkFactory<DefaultLinkModel> {\n\tconstructor() {\n\t\tsuper(\"default\");\n\t}\n\n\tgenerateReactWidget(diagramEngine: DiagramEngine, link: DefaultLinkModel): JSX.Element {\n\t\treturn React.createElement(DefaultLinkWidget, {\n\t\t\tlink: link,\n\t\t\tdiagramEngine: diagramEngine\n\t\t});\n\t}\n\n\tgetNewInstance(initialConfig?: any): DefaultLinkModel {\n\t\treturn new DefaultLinkModel();\n\t}\n\n\tgenerateLinkSegment(model: DefaultLinkModel, widget: DefaultLinkWidget, selected: boolean, path: string) {\n\t\treturn (\n\t\t\t<path\n\t\t\t\tclassName={selected ? widget.bem(\"--path-selected\") : \"\"}\n\t\t\t\tstrokeWidth={model.width}\n\t\t\t\tstroke={model.color}\n\t\t\t\td={path}\n\t\t\t/>\n\t\t);\n\t}\n}\n","module.exports = require('./head');\n","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n","import { DefaultNodeModel } from \"../models/DefaultNodeModel\";\nimport * as React from \"react\";\nimport { DefaultNodeWidget } from \"../widgets/DefaultNodeWidget\";\nimport { DiagramEngine } from \"../../DiagramEngine\";\nimport { AbstractNodeFactory } from \"../../factories/AbstractNodeFactory\";\n/**\n * @author Dylan Vorster\n */\nexport class DefaultNodeFactory extends AbstractNodeFactory<DefaultNodeModel> {\n\tconstructor() {\n\t\tsuper(\"default\");\n\t}\n\n\tgenerateReactWidget(diagramEngine: DiagramEngine, node: DefaultNodeModel): JSX.Element {\n\t\treturn React.createElement(DefaultNodeWidget, {\n\t\t\tnode: node,\n\t\t\tdiagramEngine: diagramEngine\n\t\t});\n\t}\n\n\tgetNewInstance(initialConfig?: any): DefaultNodeModel {\n\t\treturn new DefaultNodeModel();\n\t}\n}\n","import * as React from \"react\";\nimport forEach from \"lodash/forEach\";\nimport some from \"lodash/some\";\nimport values from \"lodash/values\";\nimport { DiagramEngine } from \"../DiagramEngine\";\nimport { LinkLayerWidget } from \"./layers/LinkLayerWidget\";\nimport { NodeLayerWidget } from \"./layers/NodeLayerWidget\";\nimport { Toolkit } from \"../Toolkit\";\nimport { BaseAction } from \"../actions/BaseAction\";\nimport { MoveCanvasAction } from \"../actions/MoveCanvasAction\";\nimport { MoveItemsAction } from \"../actions/MoveItemsAction\";\nimport { SelectingAction } from \"../actions/SelectingAction\";\nimport { NodeModel } from \"../models/NodeModel\";\nimport { PointModel } from \"../models/PointModel\";\nimport { PortModel } from \"../models/PortModel\";\nimport { LinkModel } from \"../models/LinkModel\";\nimport { SelectionModel } from \"../models/SelectionModel\";\nimport { BaseModel, BaseModelListener } from \"../models/BaseModel\";\nimport { BaseEntity } from \"../BaseEntity\";\nimport { BaseWidget, BaseWidgetProps } from \"./BaseWidget\";\n\nexport interface DiagramProps extends BaseWidgetProps {\n\tdiagramEngine: DiagramEngine;\n\n\tallowLooseLinks?: boolean;\n\tallowCanvasTranslation?: boolean;\n\tallowCanvasZoom?: boolean;\n\tinverseZoom?: boolean;\n\tmaxNumberPointsPerLink?: number;\n\tsmartRouting?: boolean;\n\n\tactionStartedFiring?: (action: BaseAction) => boolean;\n\tactionStillFiring?: (action: BaseAction) => void;\n\tactionStoppedFiring?: (action: BaseAction) => void;\n\n\tdeleteKeys?: number[];\n}\n\nexport interface DiagramState {\n\taction: BaseAction | null;\n\twasMoved: boolean;\n\trenderedNodes: boolean;\n\twindowListener: any;\n\tdiagramEngineListener: any;\n\tdocument: any;\n}\n\n/**\n * @author Dylan Vorster\n */\nexport class DiagramWidget extends BaseWidget<DiagramProps, DiagramState> {\n\tpublic static defaultProps: DiagramProps = {\n\t\tdiagramEngine: null,\n\t\tallowLooseLinks: true,\n\t\tallowCanvasTranslation: true,\n\t\tallowCanvasZoom: true,\n\t\tinverseZoom: false,\n\t\tmaxNumberPointsPerLink: Infinity, // backwards compatible default\n\t\tsmartRouting: false,\n\t\tdeleteKeys: [46, 8]\n\t};\n\n\tonKeyUpPointer: (this: Window, ev: KeyboardEvent) => void = null;\n\n\tconstructor(props: DiagramProps) {\n\t\tsuper(\"srd-diagram\", props);\n\t\tthis.onMouseMove = this.onMouseMove.bind(this);\n\t\tthis.onMouseUp = this.onMouseUp.bind(this);\n\t\tthis.state = {\n\t\t\taction: null,\n\t\t\twasMoved: false,\n\t\t\trenderedNodes: false,\n\t\t\twindowListener: null,\n\t\t\tdiagramEngineListener: null,\n\t\t\tdocument: null\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.diagramEngine.removeListener(this.state.diagramEngineListener);\n\t\tthis.props.diagramEngine.setCanvas(null);\n\t\twindow.removeEventListener(\"keyup\", this.onKeyUpPointer);\n\t\twindow.removeEventListener(\"mouseUp\", this.onMouseUp);\n\t\twindow.removeEventListener(\"mouseMove\", this.onMouseMove);\n\t}\n\n\tcomponentWillReceiveProps(nextProps: DiagramProps) {\n\t\tif (this.props.diagramEngine !== nextProps.diagramEngine) {\n\t\t\tthis.props.diagramEngine.removeListener(this.state.diagramEngineListener);\n\t\t\tconst diagramEngineListener = nextProps.diagramEngine.addListener({\n\t\t\t\trepaintCanvas: () => this.forceUpdate()\n\t\t\t});\n\t\t\tthis.setState({ diagramEngineListener });\n\t\t}\n\t}\n\n\tcomponentWillUpdate(nextProps: DiagramProps) {\n\t\tif (this.props.diagramEngine.diagramModel.id !== nextProps.diagramEngine.diagramModel.id) {\n\t\t\tthis.setState({ renderedNodes: false });\n\t\t\tnextProps.diagramEngine.diagramModel.rendered = true;\n\t\t}\n\t\tif (!nextProps.diagramEngine.diagramModel.rendered) {\n\t\t\tthis.setState({ renderedNodes: false });\n\t\t\tnextProps.diagramEngine.diagramModel.rendered = true;\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (!this.state.renderedNodes) {\n\t\t\tthis.setState({\n\t\t\t\trenderedNodes: true\n\t\t\t});\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.onKeyUpPointer = this.onKeyUp.bind(this);\n\n\t\t//add a keyboard listener\n\t\tthis.setState({\n\t\t\tdocument: document,\n\t\t\trenderedNodes: true,\n\t\t\tdiagramEngineListener: this.props.diagramEngine.addListener({\n\t\t\t\trepaintCanvas: () => {\n\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\n\t\twindow.addEventListener(\"keyup\", this.onKeyUpPointer, false);\n\n\t\t// dont focus the window when in test mode - jsdom fails\n\t\tif (process.env.NODE_ENV !== \"test\") {\n\t\t\twindow.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Gets a model and element under the mouse cursor\n\t */\n\tgetMouseElement(event): { model: BaseModel<BaseEntity, BaseModelListener>; element: Element } {\n\t\tvar target = event.target as Element;\n\t\tvar diagramModel = this.props.diagramEngine.diagramModel;\n\n\t\t//is it a port\n\t\tvar element = Toolkit.closest(target, \".port[data-name]\");\n\t\tif (element) {\n\t\t\tvar nodeElement = Toolkit.closest(target, \".node[data-nodeid]\") as HTMLElement;\n\t\t\treturn {\n\t\t\t\tmodel: diagramModel\n\t\t\t\t\t.getNode(nodeElement.getAttribute(\"data-nodeid\"))\n\t\t\t\t\t.getPort(element.getAttribute(\"data-name\")),\n\t\t\t\telement: element\n\t\t\t};\n\t\t}\n\n\t\t//look for a point\n\t\telement = Toolkit.closest(target, \".point[data-id]\");\n\t\tif (element) {\n\t\t\treturn {\n\t\t\t\tmodel: diagramModel\n\t\t\t\t\t.getLink(element.getAttribute(\"data-linkid\"))\n\t\t\t\t\t.getPointModel(element.getAttribute(\"data-id\")),\n\t\t\t\telement: element\n\t\t\t};\n\t\t}\n\n\t\t//look for a link\n\t\telement = Toolkit.closest(target, \"[data-linkid]\");\n\t\tif (element) {\n\t\t\treturn {\n\t\t\t\tmodel: diagramModel.getLink(element.getAttribute(\"data-linkid\")),\n\t\t\t\telement: element\n\t\t\t};\n\t\t}\n\n\t\t//look for a node\n\t\telement = Toolkit.closest(target, \".node[data-nodeid]\");\n\t\tif (element) {\n\t\t\treturn {\n\t\t\t\tmodel: diagramModel.getNode(element.getAttribute(\"data-nodeid\")),\n\t\t\t\telement: element\n\t\t\t};\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfireAction() {\n\t\tif (this.state.action && this.props.actionStillFiring) {\n\t\t\tthis.props.actionStillFiring(this.state.action);\n\t\t}\n\t}\n\n\tstopFiringAction(shouldSkipEvent?: boolean) {\n\t\tif (this.props.actionStoppedFiring && !shouldSkipEvent) {\n\t\t\tthis.props.actionStoppedFiring(this.state.action);\n\t\t}\n\t\tthis.setState({ action: null });\n\t}\n\n\tstartFiringAction(action: BaseAction) {\n\t\tvar setState = true;\n\t\tif (this.props.actionStartedFiring) {\n\t\t\tsetState = this.props.actionStartedFiring(action);\n\t\t}\n\t\tif (setState) {\n\t\t\tthis.setState({ action: action });\n\t\t}\n\t}\n\n\tonMouseMove(event) {\n\t\tvar diagramEngine = this.props.diagramEngine;\n\t\tvar diagramModel = diagramEngine.getDiagramModel();\n\t\t//select items so draw a bounding box\n\t\tif (this.state.action instanceof SelectingAction) {\n\t\t\tvar relative = diagramEngine.getRelativePoint(event.clientX, event.clientY);\n\n\t\t\tforEach(diagramModel.getNodes(), node => {\n\t\t\t\tif ((this.state.action as SelectingAction).containsElement(node.x, node.y, diagramModel)) {\n\t\t\t\t\tnode.setSelected(true);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tforEach(diagramModel.getLinks(), link => {\n\t\t\t\tvar allSelected = true;\n\t\t\t\tforEach(link.points, point => {\n\t\t\t\t\tif ((this.state.action as SelectingAction).containsElement(point.x, point.y, diagramModel)) {\n\t\t\t\t\t\tpoint.setSelected(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tallSelected = false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (allSelected) {\n\t\t\t\t\tlink.setSelected(true);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.state.action.mouseX2 = relative.x;\n\t\t\tthis.state.action.mouseY2 = relative.y;\n\n\t\t\tthis.fireAction();\n\t\t\tthis.setState({ action: this.state.action });\n\t\t\treturn;\n\t\t} else if (this.state.action instanceof MoveItemsAction) {\n\t\t\tlet amountX = event.clientX - this.state.action.mouseX;\n\t\t\tlet amountY = event.clientY - this.state.action.mouseY;\n\t\t\tlet amountZoom = diagramModel.getZoomLevel() / 100;\n\n\t\t\tforEach(this.state.action.selectionModels, model => {\n\t\t\t\t// in this case we need to also work out the relative grid position\n\t\t\t\tif (\n\t\t\t\t\tmodel.model instanceof NodeModel ||\n\t\t\t\t\t(model.model instanceof PointModel && !model.model.isConnectedToPort())\n\t\t\t\t) {\n\t\t\t\t\tmodel.model.x = diagramModel.getGridPosition(model.initialX + amountX / amountZoom);\n\t\t\t\t\tmodel.model.y = diagramModel.getGridPosition(model.initialY + amountY / amountZoom);\n\n\t\t\t\t\tif (model.model instanceof NodeModel) {\n\t\t\t\t\t\tmodel.model.positionChanged();\n\n\t\t\t\t\t\t// update port coordinates as well\n\t\t\t\t\t\tforEach(model.model.getPorts(), port => {\n\t\t\t\t\t\t\tconst portCoords = this.props.diagramEngine.getPortCoords(port);\n\t\t\t\t\t\t\tport.updateCoords(portCoords);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (diagramEngine.isSmartRoutingEnabled()) {\n\t\t\t\t\t\tdiagramEngine.calculateRoutingMatrix();\n\t\t\t\t\t}\n\t\t\t\t} else if (model.model instanceof PointModel) {\n\t\t\t\t\t// we want points that are connected to ports, to not necessarily snap to grid\n\t\t\t\t\t// this stuff needs to be pixel perfect, dont touch it\n\t\t\t\t\tmodel.model.x = model.initialX + diagramModel.getGridPosition(amountX / amountZoom);\n\t\t\t\t\tmodel.model.y = model.initialY + diagramModel.getGridPosition(amountY / amountZoom);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (diagramEngine.isSmartRoutingEnabled()) {\n\t\t\t\tdiagramEngine.calculateCanvasMatrix();\n\t\t\t}\n\n\t\t\tthis.fireAction();\n\t\t\tif (!this.state.wasMoved) {\n\t\t\t\tthis.setState({ wasMoved: true });\n\t\t\t} else {\n\t\t\t\tthis.forceUpdate();\n\t\t\t}\n\t\t} else if (this.state.action instanceof MoveCanvasAction) {\n\t\t\t//translate the actual canvas\n\t\t\tif (this.props.allowCanvasTranslation) {\n\t\t\t\tdiagramModel.setOffset(\n\t\t\t\t\tthis.state.action.initialOffsetX + (event.clientX - this.state.action.mouseX),\n\t\t\t\t\tthis.state.action.initialOffsetY + (event.clientY - this.state.action.mouseY)\n\t\t\t\t);\n\n\t\t\t\tthis.fireAction();\n\t\t\t\tthis.forceUpdate();\n\t\t\t}\n\t\t}\n\t}\n\n\tonKeyUp(event) {\n\t\t//delete all selected\n\t\tif (this.props.deleteKeys.indexOf(event.keyCode) !== -1) {\n\t\t\tforEach(this.props.diagramEngine.getDiagramModel().getSelectedItems(), element => {\n\t\t\t\t//only delete items which are not locked\n\t\t\t\tif (!this.props.diagramEngine.isModelLocked(element)) {\n\t\t\t\t\telement.remove();\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.forceUpdate();\n\t\t}\n\t}\n\n\tonMouseUp(event) {\n\t\tvar diagramEngine = this.props.diagramEngine;\n\n\t\t//are we going to connect a link to something?\n\t\tif (this.state.action instanceof MoveItemsAction) {\n\t\t\tvar element = this.getMouseElement(event);\n\n\t\t\tforEach(this.state.action.selectionModels, model => {\n\t\t\t\t//only care about points connecting to things\n\t\t\t\tif (!(model.model instanceof PointModel)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (element && element.model instanceof PortModel && !diagramEngine.isModelLocked(element.model)) {\n\t\t\t\t\tlet link = model.model.getLink();\n\t\t\t\t\tif (link.getTargetPort() !== null) {\n\t\t\t\t\t\t//if this was a valid link already and we are adding a node in the middle, create 2 links from the original\n\t\t\t\t\t\tif (link.getTargetPort() !== element.model && link.getSourcePort() !== element.model) {\n\t\t\t\t\t\t\tconst targetPort = link.getTargetPort();\n\t\t\t\t\t\t\tlet newLink = link.clone({});\n\t\t\t\t\t\t\tnewLink.setSourcePort(element.model);\n\t\t\t\t\t\t\tnewLink.setTargetPort(targetPort);\n\t\t\t\t\t\t\tlink.setTargetPort(element.model);\n\t\t\t\t\t\t\ttargetPort.removeLink(link);\n\t\t\t\t\t\t\tnewLink.removePointsBefore(newLink.getPoints()[link.getPointIndex(model.model)]);\n\t\t\t\t\t\t\tlink.removePointsAfter(model.model);\n\t\t\t\t\t\t\tdiagramEngine.getDiagramModel().addLink(newLink);\n\t\t\t\t\t\t\t//if we are connecting to the same target or source, remove tweener points\n\t\t\t\t\t\t} else if (link.getTargetPort() === element.model) {\n\t\t\t\t\t\t\tlink.removePointsAfter(model.model);\n\t\t\t\t\t\t} else if (link.getSourcePort() === element.model) {\n\t\t\t\t\t\t\tlink.removePointsBefore(model.model);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlink.setTargetPort(element.model);\n\t\t\t\t\t}\n\t\t\t\t\tdelete this.props.diagramEngine.linksThatHaveInitiallyRendered[link.getID()];\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//check for / remove any loose links in any models which have been moved\n\t\t\tif (!this.props.allowLooseLinks && this.state.wasMoved) {\n\t\t\t\tforEach(this.state.action.selectionModels, model => {\n\t\t\t\t\t//only care about points connecting to things\n\t\t\t\t\tif (!(model.model instanceof PointModel)) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet selectedPoint: PointModel = model.model;\n\t\t\t\t\tlet link: LinkModel = selectedPoint.getLink();\n\t\t\t\t\tif (link.getSourcePort() === null || link.getTargetPort() === null) {\n\t\t\t\t\t\tlink.remove();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t//remove any invalid links\n\t\t\tforEach(this.state.action.selectionModels, model => {\n\t\t\t\tif (model.model instanceof NodeModel) {\n\t\t\t\t\tif (!this.state.wasMoved) {\n\t\t\t\t\t\tmodel.model.nodeClicked();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (model.model instanceof LinkModel) {\n\t\t\t\t\tmodel.model.linkClicked();\n\t\t\t\t}\n\n\t\t\t\t//only care about points connecting to things\n\t\t\t\tif (!(model.model instanceof PointModel)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet link: LinkModel = model.model.getLink();\n\t\t\t\tlet sourcePort: PortModel = link.getSourcePort();\n\t\t\t\tlet targetPort: PortModel = link.getTargetPort();\n\n\t\t\t\tif (sourcePort !== null && targetPort !== null) {\n\t\t\t\t\tif (!sourcePort.canLinkToPort(targetPort)) {\n\t\t\t\t\t\t//link not allowed\n\t\t\t\t\t\tlink.remove();\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tsome(\n\t\t\t\t\t\t\tvalues(targetPort.getLinks()),\n\t\t\t\t\t\t\t(l: LinkModel) =>\n\t\t\t\t\t\t\t\tl !== link && (l.getSourcePort() === sourcePort || l.getTargetPort() === sourcePort)\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\t//link is a duplicate\n\t\t\t\t\t\tlink.remove();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdiagramEngine.clearRepaintEntities();\n\t\t\tthis.stopFiringAction(!this.state.wasMoved);\n\t\t} else {\n\t\t\tdiagramEngine.clearRepaintEntities();\n\t\t\tthis.stopFiringAction();\n\t\t}\n\t\tthis.state.document.removeEventListener(\"mousemove\", this.onMouseMove);\n\t\tthis.state.document.removeEventListener(\"mouseup\", this.onMouseUp);\n\t}\n\n\tdrawSelectionBox() {\n\t\tlet dimensions = (this.state.action as SelectingAction).getBoxDimensions();\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={this.bem(\"__selector\")}\n\t\t\t\tstyle={{\n\t\t\t\t\ttop: dimensions.top,\n\t\t\t\t\tleft: dimensions.left,\n\t\t\t\t\twidth: dimensions.width,\n\t\t\t\t\theight: dimensions.height\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n\n\trender() {\n\t\tvar diagramEngine = this.props.diagramEngine;\n\t\tdiagramEngine.setMaxNumberPointsPerLink(this.props.maxNumberPointsPerLink);\n\t\tdiagramEngine.setSmartRoutingStatus(this.props.smartRouting);\n\t\tvar diagramModel = diagramEngine.getDiagramModel();\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\t{...this.getProps()}\n\t\t\t\tref={ref => {\n\t\t\t\t\tif (ref) {\n\t\t\t\t\t\tthis.props.diagramEngine.setCanvas(ref);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tonWheel={event => {\n\t\t\t\t\tif (this.props.allowCanvasZoom) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tconst oldZoomFactor = diagramModel.getZoomLevel() / 100;\n\t\t\t\t\t\tlet scrollDelta = this.props.inverseZoom ? -event.deltaY : event.deltaY;\n\t\t\t\t\t\t//check if it is pinch gesture\n\t\t\t\t\t\tif (event.ctrlKey && scrollDelta % 1 !== 0) {\n\t\t\t\t\t\t\t/*Chrome and Firefox sends wheel event with deltaY that\n                have fractional part, also `ctrlKey` prop of the event is true\n                though ctrl isn't pressed\n              */\n\t\t\t\t\t\t\tscrollDelta /= 3;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tscrollDelta /= 60;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (diagramModel.getZoomLevel() + scrollDelta > 10) {\n\t\t\t\t\t\t\tdiagramModel.setZoomLevel(diagramModel.getZoomLevel() + scrollDelta);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst zoomFactor = diagramModel.getZoomLevel() / 100;\n\n\t\t\t\t\t\tconst boundingRect = event.currentTarget.getBoundingClientRect();\n\t\t\t\t\t\tconst clientWidth = boundingRect.width;\n\t\t\t\t\t\tconst clientHeight = boundingRect.height;\n\t\t\t\t\t\t// compute difference between rect before and after scroll\n\t\t\t\t\t\tconst widthDiff = clientWidth * zoomFactor - clientWidth * oldZoomFactor;\n\t\t\t\t\t\tconst heightDiff = clientHeight * zoomFactor - clientHeight * oldZoomFactor;\n\t\t\t\t\t\t// compute mouse coords relative to canvas\n\t\t\t\t\t\tconst clientX = event.clientX - boundingRect.left;\n\t\t\t\t\t\tconst clientY = event.clientY - boundingRect.top;\n\n\t\t\t\t\t\t// compute width and height increment factor\n\t\t\t\t\t\tconst xFactor = (clientX - diagramModel.getOffsetX()) / oldZoomFactor / clientWidth;\n\t\t\t\t\t\tconst yFactor = (clientY - diagramModel.getOffsetY()) / oldZoomFactor / clientHeight;\n\n\t\t\t\t\t\tdiagramModel.setOffset(\n\t\t\t\t\t\t\tdiagramModel.getOffsetX() - widthDiff * xFactor,\n\t\t\t\t\t\t\tdiagramModel.getOffsetY() - heightDiff * yFactor\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tdiagramEngine.enableRepaintEntities([]);\n\t\t\t\t\t\tthis.forceUpdate();\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tonMouseDown={event => {\n\t\t\t\t\tif (event.nativeEvent.which === 3) { return };\n\t\t\t\t\tthis.setState({ ...this.state, wasMoved: false });\n\n\t\t\t\t\tdiagramEngine.clearRepaintEntities();\n\t\t\t\t\tvar model = this.getMouseElement(event);\n\t\t\t\t\t//the canvas was selected\n\t\t\t\t\tif (model === null) {\n\t\t\t\t\t\t//is it a multiple selection\n\t\t\t\t\t\tif (event.shiftKey) {\n\t\t\t\t\t\t\tvar relative = diagramEngine.getRelativePoint(event.clientX, event.clientY);\n\t\t\t\t\t\t\tthis.startFiringAction(new SelectingAction(relative.x, relative.y));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// diagramEngine.startMove();\n\t\t\t\t\t\t\t//its a drag the canvas event\n\t\t\t\t\t\t\tdiagramModel.clearSelection();\n\t\t\t\t\t\t\tthis.startFiringAction(new MoveCanvasAction(event.clientX, event.clientY, diagramModel));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (model.model instanceof PortModel) {\n\t\t\t\t\t\t//its a port element, we want to drag a link\n\t\t\t\t\t\tif (!this.props.diagramEngine.isModelLocked(model.model)) {\n\t\t\t\t\t\t\tvar relative = diagramEngine.getRelativeMousePoint(event);\n\t\t\t\t\t\t\tvar sourcePort = model.model;\n\t\t\t\t\t\t\tvar link = sourcePort.createLinkModel();\n\t\t\t\t\t\t\tlink.setSourcePort(sourcePort);\n\n\t\t\t\t\t\t\tif (link) {\n\t\t\t\t\t\t\t\tlink.removeMiddlePoints();\n\t\t\t\t\t\t\t\tif (link.getSourcePort() !== sourcePort) {\n\t\t\t\t\t\t\t\t\tlink.setSourcePort(sourcePort);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlink.setTargetPort(null);\n\n\t\t\t\t\t\t\t\tlink.getFirstPoint().updateLocation(relative);\n\t\t\t\t\t\t\t\tlink.getLastPoint().updateLocation(relative);\n\n\t\t\t\t\t\t\t\tdiagramModel.clearSelection();\n\t\t\t\t\t\t\t\tlink.getLastPoint().setSelected(true);\n\t\t\t\t\t\t\t\tdiagramModel.addLink(link);\n\n\t\t\t\t\t\t\t\tthis.startFiringAction(\n\t\t\t\t\t\t\t\t\tnew MoveItemsAction(event.clientX, event.clientY, diagramEngine)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdiagramModel.clearSelection();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// diagramEngine.startMove();\n\t\t\t\t\t\t// its some or other element, probably want to move it\n\t\t\t\t\t\tif (!event.shiftKey && !model.model.isSelected()) {\n\t\t\t\t\t\t\tdiagramModel.clearSelection();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!diagramEngine.isMoving) {\n\t\t\t\t\t\t\tmodel.model.setSelected(true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.startFiringAction(new MoveItemsAction(event.clientX, event.clientY, diagramEngine));\n\t\t\t\t\t}\n\t\t\t\t\tthis.state.document.addEventListener(\"mousemove\", this.onMouseMove);\n\t\t\t\t\tthis.state.document.addEventListener(\"mouseup\", this.onMouseUp);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{this.state.renderedNodes && (\n\t\t\t\t\t<LinkLayerWidget\n\t\t\t\t\t\tdiagramEngine={diagramEngine}\n\t\t\t\t\t\tpointAdded={(point: PointModel, event) => {\n\t\t\t\t\t\t\tthis.state.document.addEventListener(\"mousemove\", this.onMouseMove);\n\t\t\t\t\t\t\tthis.state.document.addEventListener(\"mouseup\", this.onMouseUp);\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\tdiagramModel.clearSelection(point);\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\taction: new MoveItemsAction(event.clientX, event.clientY, diagramEngine)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t\t<NodeLayerWidget diagramEngine={diagramEngine} />\n\t\t\t\t{this.state.action instanceof SelectingAction && this.drawSelectionBox()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n","var arraySome = require('./_arraySome'),\n    baseIteratee = require('./_baseIteratee'),\n    baseSome = require('./_baseSome'),\n    isArray = require('./isArray'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Checks if `predicate` returns truthy for **any** element of `collection`.\n * Iteration is stopped once `predicate` returns truthy. The predicate is\n * invoked with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n * @example\n *\n * _.some([null, 0, 'yes', false], Boolean);\n * // => true\n *\n * var users = [\n *   { 'user': 'barney', 'active': true },\n *   { 'user': 'fred',   'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.some(users, { 'user': 'barney', 'active': false });\n * // => false\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.some(users, ['active', false]);\n * // => true\n *\n * // The `_.property` iteratee shorthand.\n * _.some(users, 'active');\n * // => true\n */\nfunction some(collection, predicate, guard) {\n  var func = isArray(collection) ? arraySome : baseSome;\n  if (guard && isIterateeCall(collection, predicate, guard)) {\n    predicate = undefined;\n  }\n  return func(collection, baseIteratee(predicate, 3));\n}\n\nmodule.exports = some;\n","var baseEach = require('./_baseEach');\n\n/**\n * The base implementation of `_.some` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction baseSome(collection, predicate) {\n  var result;\n\n  baseEach(collection, function(value, index, collection) {\n    result = predicate(value, index, collection);\n    return !result;\n  });\n  return !!result;\n}\n\nmodule.exports = baseSome;\n"],"sourceRoot":""}